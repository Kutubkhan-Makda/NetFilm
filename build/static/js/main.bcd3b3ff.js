/*! For license information please see main.bcd3b3ff.js.LICENSE.txt */
!function(){var e={472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},216:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(n(645)),a=r(n(819));n(501);var o=r(n(90));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){return"/"===e.charAt(0)?e:"/"+e}function c(e){return"/"===e.charAt(0)?e.substr(1):e}function l(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function h(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function d(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function p(e,t,n,r){var a;"string"==typeof e?(a=h(e)).state=t:(void 0===(a=u({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=i(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function v(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function m(e,t){t(window.confirm(e))}var g="popstate",k="hashchange";function b(){try{return window.history.state||{}}catch(e){return{}}}var w="hashchange",x={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+c(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:c,decodePath:s},slash:{encodePath:s,decodePath:s}};function I(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function S(e){window.location.replace(I(window.location.href)+"#"+e)}function A(e,t,n){return Math.min(Math.max(e,t),n)}t.createBrowserHistory=function(e){void 0===e&&(e={}),y||o(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,c=void 0!==a&&a,h=i.getUserConfirmation,w=void 0===h?m:h,x=i.keyLength,I=void 0===x?6:x,E=e.basename?f(s(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return E&&(a=l(a,E)),p(a,r,n)}function A(){return Math.random().toString(36).substr(2,I)}var _=v();function T(e){u(B,e),B.length=t.length,_.notifyListeners(B.location,B.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(S(e.state))}function N(){D(S(b()))}var O=!1;function D(e){O?(O=!1,T()):_.confirmTransitionTo(e,"POP",w,(function(t){t?T({action:"POP",location:e}):function(e){var t=B.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,M(i))}(e)}))}var R=S(b()),P=[R.key];function L(e){return E+d(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(g,C),r&&window.addEventListener(k,N)):0===F&&(window.removeEventListener(g,C),r&&window.removeEventListener(k,N))}var j=!1,B={length:t.length,action:"POP",location:R,createHref:L,push:function(e,r){var i=p(e,r,A(),B.location);_.confirmTransitionTo(i,"PUSH",w,(function(e){if(e){var r=L(i),a=i.key,o=i.state;if(n)if(t.pushState({key:a,state:o},null,r),c)window.location.href=r;else{var u=P.indexOf(B.location.key),s=P.slice(0,u+1);s.push(i.key),P=s,T({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=p(e,r,A(),B.location);_.confirmTransitionTo(a,i,w,(function(e){if(e){var r=L(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),c)window.location.replace(r);else{var s=P.indexOf(B.location.key);-1!==s&&(P[s]=a.key),T({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=_.appendListener(e);return U(1),function(){U(-1),t()}}};return B},t.createHashHistory=function(e){void 0===e&&(e={}),y||o(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?m:r,a=n.hashType,c=void 0===a?"slash":a,h=e.basename?f(s(e.basename)):"",g=x[c],k=g.encodePath,b=g.decodePath;function A(){var e=b(E());return h&&(e=l(e,h)),p(e)}var _=v();function T(e){u(B,e),B.length=t.length,_.notifyListeners(B.location,B.action)}var C=!1,N=null;function O(){var e=E(),t=k(e);if(e!==t)S(t);else{var n=A(),r=B.location;if(!C&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(N===d(n))return;N=null,function(e){C?(C=!1,T()):_.confirmTransitionTo(e,"POP",i,(function(t){t?T({action:"POP",location:e}):function(e){var t=B.location,n=L.lastIndexOf(d(t));-1===n&&(n=0);var r=L.lastIndexOf(d(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,M(i))}(e)}))}(n)}}var D=E(),R=k(D);D!==R&&S(R);var P=A(),L=[d(P)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(w,O):0===F&&window.removeEventListener(w,O)}var j=!1,B={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=I(window.location.href)),n+"#"+k(h+d(e))},push:function(e,t){var n=p(e,void 0,void 0,B.location);_.confirmTransitionTo(n,"PUSH",i,(function(e){if(e){var t=d(n),r=k(h+t);if(E()!==r){N=t,function(e){window.location.hash=e}(r);var i=L.lastIndexOf(d(B.location)),a=L.slice(0,i+1);a.push(t),L=a,T({action:"PUSH",location:n})}else T()}}))},replace:function(e,t){var n="REPLACE",r=p(e,void 0,void 0,B.location);_.confirmTransitionTo(r,n,i,(function(e){if(e){var t=d(r),i=k(h+t);E()!==i&&(N=t,S(i));var a=L.indexOf(d(B.location));-1!==a&&(L[a]=t),T({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=_.appendListener(e);return U(1),function(){U(-1),t()}}};return B}},647:function(e,t,n){"use strict";n(655)("createBrowserHistory"),e.exports=n(390).createBrowserHistory},581:function(e,t,n){"use strict";n(655)("createHashHistory"),e.exports=n(390).createHashHistory},390:function(e,t,n){"use strict";e.exports=n(216)},655:function(e){"use strict";e.exports=function(e){}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ae(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ae(e){Ie?Ee?Ee.push(e):Ee=[e]:Ie=e}function _e(){if(Ie){var e=Ie,t=Ee;if(Ee=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Ie||null!==Ee)&&(Ce(),_e())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Be={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,It,Et,St,At=!1,_t=[],Tt=null,Ct=null,Nt=null,Ot=new Map,Dt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){At=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),Ot.forEach(jt),Dt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<_t.length){Vt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Qt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Qt){var i=Yt(e,t,n,r);if(null===i)Qr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Qr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Wt=null;function Yt(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return En}var An=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(An),Tn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Wn(e){Ur(e,0)}function Yn(e){if(K(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Oe(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==W(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},Er={};function Sr(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Ir[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ar=Sr("animationend"),_r=Sr("animationiteration"),Tr=Sr("animationstart"),Cr=Sr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Pr=Or[Rr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Ar,"onAnimationEnd"),Dr(_r,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Ar:case _r:case Tr:s=mn;break;case Cr:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Jn;else if(Qn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Gn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Qn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(m=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),$t=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ii=-1;function Ei(e){return{current:e}}function Si(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function Ai(e,t){Ii++,xi[Ii]=e.current,e.current=t}var _i={},Ti=Ei(_i),Ci=Ei(!1),Ni=_i;function Oi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ci),Si(Ti)}function Pi(e,t,n){if(Ti.current!==_i)throw Error(a(168));Ai(Ti,t),Ai(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ni=Ti.current,Ai(Ti,e),Ai(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ci),Si(Ti),Ai(Ti,e)):Si(Ci),Ai(Ci,n)}var Ui=null,ji=!1,Bi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke($e,zi),i}finally{kt=t,Bi=!1}}return null}var qi=[],Qi=0,Gi=null,Hi=0,Ki=[],Wi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){qi[Qi++]=Hi,qi[Qi++]=Gi,Gi=e,Hi=t}function $i(e,t,n){Ki[Wi++]=Ji,Ki[Wi++]=Xi,Ki[Wi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Qi],qi[Qi]=null,Hi=qi[--Qi],qi[Qi]=null;for(;e===Yi;)Yi=Ki[--Wi],Ki[Wi]=null,Xi=Ki[--Wi],Ki[Wi]=null,Ji=Ki[--Wi],Ki[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ma.current;Si(ma),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Aa=null;function _a(e){null===Aa?Aa=[e]:Aa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ni:Ti.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===I?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Zi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===I){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===I?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),Za={},$a=Ei(Za),eo=Ei(Za),to=Ei(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ai(to,t),Ai(eo,e),Ai($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ai($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Ai(eo,e),Ai($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function _o(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function To(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Po.bind(null,n,r,i,t),void 0,null),null===Cs)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Ca(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return _o().memoizedState}function Vo(e,t,n,r){var i=Ao();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Qo(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return _o().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,_a(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Ao().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ao().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Ao().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),Ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Ao();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cs)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ao(),t=Cs.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Qo,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:Co,useRef:Bo,useState:function(){return Co(To)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(_o(),yo.memoizedState,e)},useTransition:function(){return[Co(To)[0],_o().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Qo,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Bo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=_o();return null===yo?t.memoizedState=e:Zo(t,yo.memoizedState,e)},useTransition:function(){return[No(To)[0],_o().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qu(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Qu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Qu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return _u(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Rs,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Rs,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Rs,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Rs,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Au(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,n,r,i){var a=Di(n)?Ni:Ti.current;return a=Oi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qu(e,t,i))}function Tu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Di(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Na?("function"===typeof l&&(Ba(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Di(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Qa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){Au(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ru,Pu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Cs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Wi++]=Ji,Ki[Wi++]=Xi,Ki[Wi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),(t=Uu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ku(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Di(t.type)&&Ri(),Hu(t),null;case 3:return r=t.stateNode,io(),Si(Ci),Si(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),$(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ai(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Wu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ci),Si(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Ju=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Zu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||$u(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Ju&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,hs(e,t,n),Ju=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Ec(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,vs(t,e),Ju=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:$u(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:$u(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Zu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Yu;var c=Ju;if(Yu=o,(Ju=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Yu=u,Ju=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):bs(e)}}function bs(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function ws(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Is,Es=Math.ceil,Ss=b.ReactCurrentDispatcher,As=b.ReactCurrentOwner,_s=b.ReactCurrentBatchConfig,Ts=0,Cs=null,Ns=null,Os=0,Ds=0,Rs=Ei(0),Ps=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Bs=null,Vs=0,zs=1/0,qs=null,Qs=!1,Gs=null,Hs=null,Ks=!1,Ws=null,Ys=0,Js=0,Xs=null,Zs=-1,$s=0;function ec(){return 0!==(6&Ts)?Xe():-1!==Zs?Zs:Zs=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Os?Os&-Os:null!==va.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Js)throw Js=0,Xs=null,Error(a(185));mt(e,n,r),0!==(2&Ts)&&e===Cs||(e===Cs&&(0===(2&Ts)&&(Fs|=n),4===Ps&&uc(e,Os)),rc(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(zs=Xe()+500,ji&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Cs?Os:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),oi((function(){0===(6&Ts)&&zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zs=-1,$s=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cs?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ts;Ts|=2;var o=pc();for(Cs===e&&Os===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Ts=i,null!==Ns?t=0:(Cs=null,Os=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bs,qs),t);break}wc(e,Bs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bs,qs),r);break}wc(e,Bs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&oc(t)),e}function oc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ts))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bs,qs),rc(e,Xe()),null}function cc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(zs=Xe()+500,ji&&zi())}}function lc(e){null!==Ws&&0===Ws.tag&&0===(6&Ts)&&xc();var t=Ts;Ts|=1;var n=_s.transition,r=kt;try{if(_s.transition=null,kt=1,e)return e()}finally{kt=r,_s.transition=n,0===(6&(Ts=t))&&zi()}}function fc(){Ds=Rs.current,Si(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ci),Si(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cs=e,Ns=e=Rc(e.current,null),Os=Ds=t,Ps=0,Ls=null,Us=Fs=Ms=0,Bs=js=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Aa=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,As.current=null,null===n||null===n.return){Ps=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Cs||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Cs,Os)}function yc(e,t){var n=Ts;Ts|=2;var r=pc();for(Cs===e&&Os===t||(qs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Ts=n,Ss.current=r,null!==Ns)throw Error(a(261));return Cs=null,Os=0,Ps}function mc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Ye();)kc(Ns)}function kc(e){var t=Is(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,As.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ku(n,t,Ds)))return void(Ns=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ps=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=_s.transition;try{_s.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ws);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cs&&(Ns=Cs=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Cc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_s.transition,_s.transition=null;var u=kt;kt=1;var s=Ts;Ts|=4,As.current=null,function(e,t){if(ei=Qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Qt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Qt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Je(),Ts=s,kt=u,_s.transition=o}else e.current=n;if(Ks&&(Ks=!1,Ws=e,Ys=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Qs)throw Qs=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Js++:(Js=0,Xs=e):Js=0,zi()}(e,t,n,r)}finally{_s.transition=i,kt=r}return null}function xc(){if(null!==Ws){var e=bt(Ys),t=_s.transition,n=kt;try{if(_s.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Ys=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(as(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ts=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,_s.transition=t}}return!1}function Ic(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Os&n)===n&&(4===Ps||3===Ps&&(130023424&Os)===Os&&500>Xe()-Vs?hc(e,0):Us|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ca(e,t))&&(mt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ac(e,n)}function Cc(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case C:return(e=Oc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case _:u=9;break e;case T:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ai(uo,1&uo.current),null!==(e=Qu(e,t,n))?e.sibling:null);Ai(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Qu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=_u(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Qu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Au(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ai(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ci.current){t=Qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ia(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ia(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Iu(e,t,r,i=ya(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ga(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Qc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Qc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Ts)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Ca(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},It=function(e){if(13===e.tag){var t=tc(e),n=Ca(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ae,_e,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},604:function(e){"use strict";e.exports=function(){}},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,I="?"===k||"*"===k,E=n[2]||l,S=m||g;r.push({name:y||a++,prefix:v||"",delimiter:E,optional:I,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(E)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:I.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=C(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},645:function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}n.r(t),t.default=function(e,t){void 0===t&&(t="");var n,a=e&&e.split("/")||[],o=t&&t.split("/")||[],u=e&&r(e),s=t&&r(t),c=u||s;if(e&&r(e)?o=a:a.length&&(o.pop(),o=o.concat(a)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?i(o,h):".."===d?(i(o,h),f++):f&&(i(o,h),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&r(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(A),A=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,E=!1,S=null,A=-1,_=5,T=-1;function C(){return!(t.unstable_now()-T<_)}function N(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?I():(E=!1,S=null)}}else E=!1}if("function"===typeof k)I=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=N,I=function(){D.postMessage(null)}}else I=function(){m(N,0)};function R(e){S=e,E||(E=!0,I())}function P(e,n){A=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(A),A=-1):y=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},90:function(e){"use strict";var t="Invariant failed";e.exports=function(e,n){if(!e)throw new Error(t)}},501:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},819:function(e,t,n){"use strict";function r(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}n.r(t),t.default=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var i=r(t),a=r(n);return i!==t||a!==n?e(i,a):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1}},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return On},SDK_VERSION:function(){return zr},_DEFAULT_ENTRY_NAME:function(){return Cr},_addComponent:function(){return Rr},_addOrOverwriteComponent:function(){return Pr},_apps:function(){return Or},_clearComponents:function(){return Ur},_components:function(){return Dr},_getProvider:function(){return Mr},_registerComponent:function(){return Lr},_removeServiceInstance:function(){return Fr},deleteApp:function(){return Hr},getApp:function(){return Qr},getApps:function(){return Gr},initializeApp:function(){return qr},onLog:function(){return Yr},registerVersion:function(){return Wr},setLogLevel:function(){return Jr}});var t=n(791),r=n(250),i=n(604),a=n.n(i),o=n(7),u=n.n(o),s=n(647),c=n.n(s),l=n(391),f=n.n(l),h=n(176),d=n.n(h),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=function(e){function n(){var t,r;v(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r=y(this,e.call.apply(e,[this].concat(a))),r.state={match:r.computeMatch(r.props.history.location.pathname)},y(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.getChildContext=function(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},n.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},n.prototype.componentWillMount=function(){var e=this,n=this.props,r=n.children,i=n.history;d()(null==r||1===t.Children.count(r),"A <Router> may have only one child element"),this.unlisten=i.listen((function(){e.setState({match:e.computeMatch(i.location.pathname)})}))},n.prototype.componentWillReceiveProps=function(e){f()(this.props.history===e.history,"You cannot change <Router history>")},n.prototype.componentWillUnmount=function(){this.unlisten()},n.prototype.render=function(){var e=this.props.children;return e?t.Children.only(e):null},n}(t.Component);m.propTypes={history:u().object.isRequired,children:u().node},m.contextTypes={router:u().object},m.childContextTypes={router:u().object.isRequired};var g=m;function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var w=function(e){function n(){var t,r;k(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r=b(this,e.call.apply(e,[this].concat(a))),r.history=c()(r.props),b(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.componentWillMount=function(){a()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},n.prototype.render=function(){return t.createElement(g,{history:this.history,children:this.props.children})},n}(t.Component);w.propTypes={basename:u().string,forceRefresh:u().bool,getUserConfirmation:u().func,keyLength:u().number,children:u().node};var x=w,I=n(581),E=n.n(I);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var _=function(e){function n(){var t,r;S(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r=A(this,e.call.apply(e,[this].concat(a))),r.history=E()(r.props),A(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.componentWillMount=function(){a()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},n.prototype.render=function(){return t.createElement(g,{history:this.history,children:this.props.children})},n}(t.Component);_.propTypes={basename:u().string,getUserConfirmation:u().func,hashType:u().oneOf(["hashbang","noslash","slash"]),children:u().node};var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var O=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},D=function(e){function n(){var t,r;C(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r=N(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!O(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,a=n.to;i?t.replace(a):t.push(a)}},N(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.render=function(){var e=this.props,n=(e.replace,e.to),r=e.innerRef,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);d()(this.context.router,"You should not use <Link> outside a <Router>");var a=this.context.router.history.createHref("string"===typeof n?{pathname:n}:n);return t.createElement("a",T({},i,{onClick:this.handleClick,href:a,ref:r}))},n}(t.Component);D.propTypes={onClick:u().func,target:u().string,replace:u().bool,to:u().oneOfType([u().string,u().object]).isRequired,innerRef:u().oneOfType([u().string,u().func])},D.defaultProps={replace:!1},D.contextTypes={router:u().shape({history:u().shape({push:u().func.isRequired,replace:u().func.isRequired,createHref:u().func.isRequired}).isRequired}).isRequired};var R=D,P=n(239),L=n.n(P),M={},F=0,U=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=M[n]||(M[n]={});if(r[e])return r[e];var i=[],a={re:L()(e,i,t),keys:i};return F<1e4&&(r[e]=a,F++),a},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var r=t,i=r.path,a=r.exact,o=void 0!==a&&a,u=r.strict,s=void 0!==u&&u,c=r.sensitive,l=void 0!==c&&c;if(null==i)return n;var f=U(i,{end:o,strict:s,sensitive:l}),h=f.re,d=f.keys,p=h.exec(e);if(!p)return null;var v=p[0],y=p.slice(1),m=e===v;return o&&!m?null:{path:i,url:"/"===i&&""===v?"/":v,isExact:m,params:d.reduce((function(e,t,n){return e[t.name]=y[n],e}),{})}},B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var q=function(e){return 0===t.Children.count(e)},Q=function(e){function n(){var t,r;V(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r=z(this,e.call.apply(e,[this].concat(a))),r.state={match:r.computeMatch(r.props,r.context.router)},z(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.getChildContext=function(){return{router:B({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},n.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,a=e.strict,o=e.exact,u=e.sensitive;if(n)return n;d()(t,"You should not use <Route> or withRouter() outside a <Router>");var s=t.route,c=(r||s.location).pathname;return j(c,{path:i,strict:a,exact:o,sensitive:u},s.match)},n.prototype.componentWillMount=function(){f()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),f()(!(this.props.component&&this.props.children&&!q(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),f()(!(this.props.render&&this.props.children&&!q(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},n.prototype.componentWillReceiveProps=function(e,t){f()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),f()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},n.prototype.render=function(){var e=this.state.match,n=this.props,r=n.children,i=n.component,a=n.render,o=this.context.router,u=o.history,s=o.route,c=o.staticContext,l={match:e,location:this.props.location||s.location,history:u,staticContext:c};return i?e?t.createElement(i,l):null:a?e?a(l):null:"function"===typeof r?r(l):r&&!q(r)?t.Children.only(r):null},n}(t.Component);Q.propTypes={computedMatch:u().object,path:u().string,exact:u().bool,strict:u().bool,sensitive:u().bool,component:u().func,render:u().func,children:u().oneOfType([u().func,u().node]),location:u().object},Q.contextTypes={router:u().shape({history:u().object.isRequired,route:u().object.isRequired,staticContext:u().object})},Q.childContextTypes={router:u().object.isRequired};var G=Q,H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var W=function(e){var n=e.to,r=e.exact,i=e.strict,a=e.location,o=e.activeClassName,u=e.className,s=e.activeStyle,c=e.style,l=e.isActive,f=e.ariaCurrent,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return t.createElement(G,{path:"object"===("undefined"===typeof n?"undefined":K(n))?n.pathname:n,exact:r,strict:i,location:a,children:function(e){var r=e.location,i=e.match,a=!!(l?l(i,r):i);return t.createElement(R,H({to:n,className:a?[u,o].filter((function(e){return e})).join(" "):u,style:a?H({},c,s):c,"aria-current":a&&f},h))}})};W.propTypes={to:R.propTypes.to,exact:u().bool,strict:u().bool,location:u().object,activeClassName:u().string,className:u().string,activeStyle:u().object,style:u().object,isActive:u().func,ariaCurrent:u().oneOf(["page","step","location","true"])},W.defaultProps={activeClassName:"active",ariaCurrent:"true"};function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var X=function(e){function n(){return Y(this,n),J(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Switch> outside a <Router>")},n.prototype.componentWillReceiveProps=function(e){f()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),f()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},n.prototype.render=function(){var e=this.context.router.route,n=this.props.children,r=this.props.location||e.location,i=void 0,a=void 0;return t.Children.forEach(n,(function(n){if(null==i&&t.isValidElement(n)){var o=n.props,u=o.path,s=o.exact,c=o.strict,l=o.sensitive,f=o.from,h=u||f;a=n,i=j(r.pathname,{path:h,exact:s,strict:c,sensitive:l},e.match)}})),i?t.cloneElement(a,{location:r,computedMatch:i}):null},n}(t.Component);X.contextTypes={router:u().shape({route:u().object.isRequired}).isRequired},X.propTypes={children:u().node,location:u().object};var Z=X,$="f81980ff410e46f422d64ddf3a56dddd",ee={fetchTrending:"/trending/all/week?api_key=".concat($,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat($,"&with_networks=213"),fetchTopRated:"/movie/top_rated?api_key=".concat($,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat($,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat($,"&with_genres=35"),fetchHorrerMovies:"/discover/movie?api_key=".concat($,"&with_genres=27"),fetchRomenceMovies:"/discover/movie?api_key=".concat($,"&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat($,"&with_genres=99")};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(){ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(A([])));m&&m!==t&&n.call(m,a)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==te(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function re(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){re(a,r,i,o,u,"next",e)}function u(e){re(a,r,i,o,u,"throw",e)}o(void 0)}))}}function ae(e){if(Array.isArray(e))return e}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){if(e){if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ce(e,t){return ae(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||ue(e,t)||se()}function le(e,t){return function(){return e.apply(t,arguments)}}var fe,he=Object.prototype.toString,de=Object.getPrototypeOf,pe=(fe=Object.create(null),function(e){var t=he.call(e);return fe[t]||(fe[t]=t.slice(8,-1).toLowerCase())}),ve=function(e){return e=e.toLowerCase(),function(t){return pe(t)===e}},ye=function(e){return function(t){return typeof t===e}},me=Array.isArray,ge=ye("undefined");var ke=ve("ArrayBuffer");var be=ye("string"),we=ye("function"),xe=ye("number"),Ie=function(e){return null!==e&&"object"===typeof e},Ee=function(e){if("object"!==pe(e))return!1;var t=de(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Se=ve("Date"),Ae=ve("File"),_e=ve("Blob"),Te=ve("FileList"),Ce=ve("URLSearchParams");function Ne(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),me(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var u,s=o?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)u=s[n],t.call(null,e[u],u,e)}}var Oe,De=(Oe="undefined"!==typeof Uint8Array&&de(Uint8Array),function(e){return Oe&&e instanceof Oe}),Re=ve("HTMLFormElement"),Pe=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Le=ve("RegExp"),Me=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Ne(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Fe={isArray:me,isArrayBuffer:ke,isBuffer:function(e){return null!==e&&!ge(e)&&null!==e.constructor&&!ge(e.constructor)&&we(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||he.call(e)===t||we(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ke(e.buffer)},isString:be,isNumber:xe,isBoolean:function(e){return!0===e||!1===e},isObject:Ie,isPlainObject:Ee,isUndefined:ge,isDate:Se,isFile:Ae,isBlob:_e,isRegExp:Le,isFunction:we,isStream:function(e){return Ie(e)&&we(e.pipe)},isURLSearchParams:Ce,isTypedArray:De,isFileList:Te,forEach:Ne,merge:function e(){for(var t={},n=function(n,r){Ee(t[r])&&Ee(n)?t[r]=e(t[r],n):Ee(n)?t[r]=e({},n):me(n)?t[r]=n.slice():t[r]=n},r=0,i=arguments.length;r<i;r++)arguments[r]&&Ne(arguments[r],n);return t},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return Ne(t,(function(t,r){n&&we(t)?e[r]=le(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&de(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:pe,kindOfTest:ve,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(me(e))return e;var t=e.length;if(!xe(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Re,hasOwnProperty:Pe,hasOwnProp:Pe,reduceDescriptors:Me,freezeMethods:function(e){Me(e,(function(t,n){var r=e[n];we(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return me(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t}};function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ve(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Fe.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var ze=Ve.prototype,qe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){qe[e]={value:e}})),Object.defineProperties(Ve,qe),Object.defineProperty(ze,"isAxiosError",{value:!0}),Ve.from=function(e,t,n,r,i,a){var o=Object.create(ze);return Fe.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Ve.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Qe=Ve,Ge=n(472);function He(e){return Fe.isPlainObject(e)||Fe.isArray(e)}function Ke(e){return Fe.endsWith(e,"[]")?e.slice(0,-2):e}function We(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ke(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Ye=Fe.toFlatObject(Fe,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Je=function(e,t,n){if(!Fe.isObject(e))throw new TypeError("target must be an object");t=t||new(Ge||FormData);var r,i=(n=Fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Fe.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,u=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&Fe.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!Fe.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Fe.isDate(e))return e.toISOString();if(!s&&Fe.isBlob(e))throw new Qe("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(e)||Fe.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(Fe.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Fe.isArray(e)&&function(e){return Fe.isArray(e)&&!e.some(He)}(e)||Fe.isFileList(e)||Fe.endsWith(n,"[]")&&(a=Fe.toArray(e)))return n=Ke(n),a.forEach((function(e,r){!Fe.isUndefined(e)&&null!==e&&t.append(!0===u?We([n],r,o):null===u?n:n+"[]",c(e))})),!1;return!!He(e)||(t.append(We(r,n,o),c(e)),!1)}var f=[],h=Object.assign(Ye,{defaultVisitor:l,convertValue:c,isVisitable:He});if(!Fe.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Fe.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),Fe.forEach(n,(function(n,i){!0===(!(Fe.isUndefined(n)||null===n)&&a.call(t,n,Fe.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function Xe(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ze(e,t){this._pairs=[],e&&Je(e,this,t)}var $e=Ze.prototype;$e.append=function(e,t){this._pairs.push([e,t])},$e.toString=function(e){var t=e?function(t){return e.call(this,t,Xe)}:Xe;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var et=Ze;function tt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nt(e,t,n){if(!t)return e;var r,i=n&&n.encode||tt,a=n&&n.serialize;if(r=a?a(t,n):Fe.isURLSearchParams(t)?t.toString():new et(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var rt=function(){function e(){Ue(this,e),this.handlers=[]}return Be(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Fe.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),it=rt,at={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ot="undefined"!==typeof URLSearchParams?URLSearchParams:et,ut=FormData,st=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),ct={isBrowser:!0,classes:{URLSearchParams:ot,FormData:ut,Blob:Blob},isStandardBrowserEnv:st,protocols:["http","https","file","blob","url","data"]};var lt=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&Fe.isArray(r)?r.length:a,u?(Fe.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Fe.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Fe.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Fe.isFormData(e)&&Fe.isFunction(e.entries)){var n={};return Fe.forEachEntry(e,(function(e,r){t(function(e){return Fe.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var ft=ct.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Fe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Fe.isString(r)&&o.push("path="+r),Fe.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function ht(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var dt=ct.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Fe.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function pt(e,t,n){Qe.call(this,null==e?"canceled":e,Qe.ERR_CANCELED,t,n),this.name="CanceledError"}Fe.inherits(pt,Qe,{__CANCEL__:!0});var vt=pt;var yt=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mt=Symbol("internals"),gt=Symbol("defaults");function kt(e){return e&&String(e).trim().toLowerCase()}function bt(e){return!1===e||null==e?e:Fe.isArray(e)?e.map(bt):String(e)}function wt(e,t,n,r){return Fe.isFunction(r)?r.call(this,t,n):Fe.isString(t)?Fe.isString(r)?-1!==t.indexOf(r):Fe.isRegExp(r)?r.test(t):void 0:void 0}function xt(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}function It(e,t){e&&this.set(e),this[gt]=t||null}Object.assign(It.prototype,{set:function(e,t,n){var r=this;function i(e,t,n){var i=kt(t);if(!i)throw new Error("header name must be a non-empty string");var a=xt(r,i);(!a||!0===n||!1!==r[a]&&!1!==n)&&(r[a||t]=bt(e))}return Fe.isPlainObject(e)?Fe.forEach(e,(function(e,n){i(e,n,t)})):i(t,e,n),this},get:function(e,t){if(e=kt(e)){var n=xt(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Fe.isFunction(t))return t.call(this,r,n);if(Fe.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}},has:function(e,t){if(e=kt(e)){var n=xt(this,e);return!(!n||t&&!wt(0,this[n],n,t))}return!1},delete:function(e,t){var n=this,r=!1;function i(e){if(e=kt(e)){var i=xt(n,e);!i||t&&!wt(0,n[i],i,t)||(delete n[i],r=!0)}}return Fe.isArray(e)?e.forEach(i):i(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){var t=this,n={};return Fe.forEach(this,(function(r,i){var a=xt(n,i);if(a)return t[a]=bt(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=bt(r),n[o]=!0})),this},toJSON:function(e){var t=Object.create(null);return Fe.forEach(Object.assign({},this[gt]||null,this),(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Fe.isArray(n)?n.join(", "):n)})),t}}),Object.assign(It,{from:function(e){return Fe.isString(e)?new this(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&yt[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e)):e instanceof this?e:new this(e)},accessor:function(e){var t=(this[mt]=this[mt]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=kt(e);t[r]||(!function(e,t){var n=Fe.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Fe.isArray(e)?e.forEach(r):r(e),this}}),It.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Fe.freezeMethods(It.prototype),Fe.freezeMethods(It);var Et=It;var St=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function At(e,t){var n=0,r=St(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0};c[t?"download":"upload"]=!0,e(c)}}function _t(e){return new Promise((function(t,n){var r,i=e.data,a=Et.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Fe.isFormData(i)&&ct.isStandardBrowserEnv&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=ht(e.baseURL,e.url);function h(){if(s){var r=Et.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Qe("Request failed with status code "+n.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),nt(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new Qe("Request aborted",Qe.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Qe("Network Error",Qe.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||at;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Qe(t,r.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,e,s)),s=null},ct.isStandardBrowserEnv){var d=(e.withCredentials||dt(f))&&e.xsrfCookieName&&ft.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&Fe.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Fe.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",At(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",At(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new vt(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===ct.protocols.indexOf(p)?n(new Qe("Unsupported protocol "+p+":",Qe.ERR_BAD_REQUEST,e)):s.send(i||null)}))}var Tt={http:_t,xhr:_t},Ct=function(e){if(Fe.isString(e)){var t=Tt[e];if(!e)throw Error(Fe.hasOwnProp(e)?"Adapter '".concat(e,"' is not available in the build"):"Can not resolve adapter '".concat(e,"'"));return t}if(!Fe.isFunction(e))throw new TypeError("adapter is not a function");return e},Nt={"Content-Type":"application/x-www-form-urlencoded"};var Ot={transitional:at,adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=Ct("xhr"):"undefined"!==typeof process&&"process"===Fe.kindOf(process)&&(e=Ct("http")),e}(),transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Fe.isObject(e);if(a&&Fe.isHTMLForm(e)&&(e=new FormData(e)),Fe.isFormData(e))return i&&i?JSON.stringify(lt(e)):e;if(Fe.isArrayBuffer(e)||Fe.isBuffer(e)||Fe.isStream(e)||Fe.isFile(e)||Fe.isBlob(e))return e;if(Fe.isArrayBufferView(e))return e.buffer;if(Fe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Je(e,new ct.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ct.isNode&&Fe.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Fe.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Je(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Fe.isString(e))try{return(t||JSON.parse)(e),Fe.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Ot.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Fe.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Qe.from(a,Qe.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Fe.forEach(["delete","get","head"],(function(e){Ot.headers[e]={}})),Fe.forEach(["post","put","patch"],(function(e){Ot.headers[e]=Fe.merge(Nt)}));var Dt=Ot;function Rt(e,t){var n=this||Dt,r=t||n,i=Et.from(r.headers),a=r.data;return Fe.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Pt(e){return!(!e||!e.__CANCEL__)}function Lt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vt}function Mt(e){return Lt(e),e.headers=Et.from(e.headers),e.data=Rt.call(e,e.transformRequest),(e.adapter||Dt.adapter)(e).then((function(t){return Lt(e),t.data=Rt.call(e,e.transformResponse,t),t.headers=Et.from(t.headers),t}),(function(t){return Pt(t)||(Lt(e),t&&t.response&&(t.response.data=Rt.call(e,e.transformResponse,t.response),t.response.headers=Et.from(t.response.headers))),Promise.reject(t)}))}function Ft(e,t){t=t||{};var n={};function r(e,t){return Fe.isPlainObject(e)&&Fe.isPlainObject(t)?Fe.merge(e,t):Fe.isPlainObject(t)?Fe.merge({},t):Fe.isArray(t)?t.slice():t}function i(n){return Fe.isUndefined(t[n])?Fe.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!Fe.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return Fe.isUndefined(t[n])?Fe.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function u(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return Fe.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=s[e]||i,r=t(e);Fe.isUndefined(r)&&t!==u||(n[e]=r)})),n}var Ut="1.1.3",jt={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){jt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Bt={};jt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.1.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Qe(r(i," has been removed"+(t?" in "+t:"")),Qe.ERR_DEPRECATED);return t&&!Bt[i]&&(Bt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Vt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Qe("option "+a+" must be "+s,Qe.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Qe("Unknown option "+a,Qe.ERR_BAD_OPTION)}},validators:jt},zt=Vt.validators,qt=function(){function e(t){Ue(this,e),this.defaults=t,this.interceptors={request:new it,response:new it}}return Be(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=Ft(this.defaults,t),r=n.transitional,i=n.paramsSerializer;void 0!==r&&Vt.assertOptions(r,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),void 0!==i&&Vt.assertOptions(i,{encode:zt.function,serialize:zt.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=t.headers&&Fe.merge(t.headers.common,t.headers[t.method]);a&&Fe.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),t.headers=new Et(t.headers,a);var o=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var s,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var l,f=0;if(!u){var h=[Mt.bind(this),void 0];for(h.unshift.apply(h,o),h.push.apply(h,c),l=h.length,s=Promise.resolve(t);f<l;)s=s.then(h[f++],h[f++]);return s}l=o.length;var d=t;for(f=0;f<l;){var p=o[f++],v=o[f++];try{d=p(d)}catch(y){v.call(this,y);break}}try{s=Mt.call(this,d)}catch(y){return Promise.reject(y)}for(f=0,l=c.length;f<l;)s=s.then(c[f++],c[f++]);return s}},{key:"getUri",value:function(e){return nt(ht((e=Ft(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Fe.forEach(["delete","get","head","options"],(function(e){qt.prototype[e]=function(t,n){return this.request(Ft(n||{},{method:e,url:t,data:(n||{}).data}))}})),Fe.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Ft(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}qt.prototype[e]=t(),qt.prototype[e+"Form"]=t(!0)}));var Qt=qt,Gt=function(){function e(t){if(Ue(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new vt(e,t,i),n(r.reason))}))}return Be(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Ht=Gt;var Kt=function e(t){var n=new Qt(t),r=le(Qt.prototype.request,n);return Fe.extend(r,Qt.prototype,n,{allOwnKeys:!0}),Fe.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ft(t,n))},r}(Dt);Kt.Axios=Qt,Kt.CanceledError=vt,Kt.CancelToken=Ht,Kt.isCancel=Pt,Kt.VERSION=Ut,Kt.toFormData=Je,Kt.AxiosError=Qe,Kt.Cancel=Kt.CanceledError,Kt.all=function(e){return Promise.all(e)},Kt.spread=function(e){return function(t){return e.apply(null,t)}},Kt.isAxiosError=function(e){return Fe.isObject(e)&&!0===e.isAxiosError},Kt.formToJSON=function(e){return lt(Fe.isHTMLForm(e)?new FormData(e):e)};var Wt=Kt,Yt=(Wt.Axios,Wt.AxiosError,Wt.CanceledError,Wt.isCancel,Wt.CancelToken,Wt.VERSION,Wt.all,Wt.Cancel,Wt.isAxiosError,Wt.spread,Wt.toFormData,Wt.create({baseURL:"https://api.themoviedb.org/3"})),Jt=n(184),Xt=function(){var e=ce((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){function e(){return(e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt.get(ee.fetchNetflixOriginals);case 2:return t=e.sent,r(t.data.results[Math.floor(Math.random()*t.data.results.length-1)]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(n),(0,Jt.jsx)(Jt.Fragment,{children:(0,Jt.jsxs)("header",{className:"banner",style:{backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(null===n||void 0===n?void 0:n.backdrop_path,'")'),backgroundSize:"cover",backgroundPosition:"center center"},children:[(0,Jt.jsxs)("div",{className:"banner-content",children:[(0,Jt.jsx)("h1",{className:"banner-title",children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.title)||(null===n||void 0===n?void 0:n.original_name)}),(0,Jt.jsxs)("div",{className:"banner-buttons",children:[(0,Jt.jsx)("button",{className:"banner-button",children:"Play"}),(0,Jt.jsx)("button",{className:"banner-button",children:"My list"})]}),(0,Jt.jsx)("h1",{className:"banner-discription",children:function(e,t){return(null===e||void 0===e?void 0:e.length)>t?e.substr(0,t-1)+"...":e}(null===n||void 0===n?void 0:n.overview,170)})]}),(0,Jt.jsx)("div",{className:"banner-fadebottom"})]})})},Zt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAggAAAFACAYAAADZH4T/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA2IDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6Yjc5Yjg3MWQtZmI3Yy1iMzQ3LWE5MzktYjY5MGExYTUwY2IyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyNDE2NjQyNTA3RjExRURBQTgyOTQwNUYzMjdBNjA2IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyNDE2NjQxNTA3RjExRURBQTgyOTQwNUYzMjdBNjA2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmI3OWI4NzFkLWZiN2MtYjM0Ny1hOTM5LWI2OTBhMWE1MGNiMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpiNzliODcxZC1mYjdjLWIzNDctYTkzOS1iNjkwYTFhNTBjYjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz61hlc5AAASz0lEQVR42uzd23XbSLYGYJpL7+aD34WJwMpAdAYzEZwzIXQE7Y7gnBB6MnAGTWUgZQC964GKQEN0kzM0TYsXbAB1+b61vOSbSKpw2X8VCoUPb29vMwCAfXNNAAAICACAgAAACAgAgIAAAAgIAICAAAAICACAgAAACAgAgIAAAAgIAICAAAAICACAgAAACAgAAAICACAgAAACAgAgIAAAAgIAICAAAAICACAgAAACAgAgIAAAAgIAICAAAAICACAgAAACAgCAgAAACAgAgIAAAAgIAICAAAAICACAgAAACAgAgIAAAAgIAICAAAAICACAgAAACAgAgIAAALB1894/fvjwQQsBoV6aZrH5cnfhtz1+atu11oNYb29v1wUESKSgNJsvTdDLRb7Wvo9XFL33iuEvZ7bN182XXyvYDb5sfq0u2Gf+L3B77Pxrs11+D9if/4hunM3n+pL58f2/3X6/+TVkCGw37dQ6owaNIFBUD6yzvPIt7/sU5M1B+bczfqY3W5ZAdz329595CHqdpc3zQ2gfJeS+NP/pG6ymDlWbz9Lto12Q7ULLc58OxZXB6uSonIAwzY7RpeX/OTiZLbQMhBZzhZj3QsnU/j7xPnpyVK6agHDBkGNz5s7z2yZ9fe2xcy4ravvlpq1WzkmAgJCPmxMn9sOe7amidu512J+9zu+bQvLPgX7WIYYcAciz49JMPCfhc9YBYfbX9ZExi+rdgK/9KCAAsNXM/rr+P5XkLyuntg7CkAHh1fEAwF5AmJKAcKnuerX9FoDCA8Jd6g2U4kqKd/ZbAAZ2qwnyCwifbRYABtZM9cbbGwAEhCsYQQCg5FqTxbo3AgIANVpU+t5ZB4Rchl/uHV8wmkYTUFCtcYmh9MYDBASyZon7DAOCiYoAlNoZzaLGGUGYRuu4BPjzUdWrCd9+Udn7FhEQlgICnGWlCSC7nnwjIPSQy32iAGRrqp68gNCTgACAOiMg/MBERQCGNPoIQk7PGzKCAEC1PCAwz4BgowFQmkZAiEl2RhEATp8rLfiTT2dUQKitIQEmpDNFdQHBTg+U5lETJOW+8PcbLCC0lW04gKGtNQElBITniT+fEQQAhrRU1467SfzzLV6apvnUtq19mMSsNr8egl7r8aBXOXUPc7U55r7YxDBMXRMQYtOWgJBecTxHt92ez9x+v80uf65Ae0543ITMr5svvwa3wcPmvb/aFSB/3VoIYzw0Kre7TXIJCN/swmcV43/1LOqPm4Nkkt6rYgtU0KvP6rJ5DgHBRMXze9OKLICOaIh5JhsOAIbyUT3LMyD8OVHR/gtUUkQotyOa1RyEeSafU0AAaikiTNARFTLzDQhL+y9wAYsRkWL4SylkngxFuQSEz/Zf4AKWM+YiFT7w6mRYmZfygwBA4nVmmVODZDMHweNMARiQGpNpQBgr3QFQp0FrTI534+UUEJb2XwAGMvQdBgLCgExUBGAoRqkzDgg2HgC59vCXAsKAG6/nRMXW/g/ARAEhO/PMPm+fUQQBAYCfGngi4a2AMKylXRiAgTSZvraAMDNREYA8i3h26yzMbTwAJtZWUGOym2hf0xwEAASE99zaFPkGhG4SydJmA0EcBtAMVLeyPKbmGX7mVBraut2Uyr6NgOCYyjIgpDJRUS+rbh81AQgIAkJaFGbsh1uf2nZlU0CcgdZCcIlBQCgy+QI4l1Yox4BQwkTF1k49qkdNAEzYCb0XEPLegKP51LatY3BUa02AosaZTNLNPCBYURFAUculvjQCgrQMcIpLXvWFLQFBQAA46VUTqC8CwoCsqAjAAEJHEHKuVfOMN6KUB8DOKrCop1Zf2hQDQpvwD+qhGgDsRN6tFDmK0AgI54uaoGMEAYCdp8DXiqwvTa4NOs94Iy4dDwBspTqCEPHclodaAkLYLT65PkITgHRryyx2LYRs69Q8840oIADQSXUEoa+2moCwXWY4akNaUREYy1ITpGtTWx4T3dZ9O7L1BIQtExUBiJbic1cWuf5cUwWEqAkXEj2QS6Egn85nyAJHm9eICAcPs4mW554XsBGNIgDfCR5uJh9tYp8n5fp08u6K7APCzGUGAP7yHPhay8JDz8naOUlAMFERgIyK6ZQhY7KfacpnMZioCECqAeG+9sacMiCYqAhAqgEhQu9nBn1q21WNAcFERQDCbC9fR4nofDY5t2cRAWHmMgMAf2kL+lkmvRtnsoBgoiIAKQeEgLUQ+n7/pOt5zCfekCYqAlBMrzuYgCAgABDkNfC1rh4BeGmaJuD9n2oOCFE//CJoYwAwvt53te3VgMgRhI89vjf7mlTKCELHKAJAvXYFOXJYvk9diXgOQ52TFDvB66XfnXivleMHoHiRdaVPkY/otFY9B6ETVbjvHRcAddt0BlMZQYhQfUAwURESY04PmYtciO/aUYTet99P/VTSFAKCiYqQHscSOUthFGGReyOOHhCOpDETFQGI9BD4WouRv2+I2niVmwnesyviq90fuiGUl7iOf/fa3xwb0NsfLyMPyG3OBR80Owm6tq707bCup/7B54lsgFXQ65ioyFhSGj5c2RzVc+4b7pj4ONHPMHlAuElkY3ZDKcugpDeabs5D8NPDsrCd67HfvVxPPZlmol4F4Fg/do6MqGdPU//gqQSE0ImKIxbtrkgmGxCOFPJdz/fuzB7I4syDo0vrX5xH4Oze7a+aYTjdujeBl8gWtbZjSiMIkWmvrXFjbg6IN6cGgGlHEGYxdwFNPiqbxByEMVdUpEqPmgCqswrsfF06ihAREExSHGBj5jJZp3X8jhZA11oBqpP7iooCwgC9vFxGEAQEgOFETvK7dESgd0c1hYnfKQWE56DXsaIiAJE98CprSokjCB3zEADqFllTbkeuQascAsJoQxzBj2MWEADqNuUIQhG3Rs5PFO2xJ0lEBRKrigFULPga/tkBocfTH/e1yQeECTyOvTEBLjj5G53MS1Qn95KaErGPPKfQeKkFhKhZp01QigPY57ySl7BRhBonv5c6ghCV4gDI1xTzECJqz+rgz231ASF4ouLSsQFVazVB9aZYCyF8lGmqhwLOE9ygUaMInx0bICBgHxg5INyWsu+WHBBcYoCMmABI4gHh3MLf9H2jkUYMTo50pBgQTFSEOjleSTkgNIW1zclAXvIIwlkNQIilJgBSE9wTPzcg9D0frlJpv3mCGzSycRQugLpFhYSmtoabJ/q5TFQEIKWAcHIthKC1EtpUGq70gOASA4CAEKXp+e/neE6l4VINCCYqAhAhsuCeCgBF1ZvSRxA6RhEA0vaYyWufCghDrKIoIOwzURGgKhFLIi8HfO2dqua1zRP+bCYqApBKLemcuoTwObHP28tN4hs1YrjGJQa43C8TnKgeNTvRPrXt+iXuQYyn6ski4vMKCKdFTSz5c6JiSo0OOfS6gi/1QQkdzkXPfz8lqTqV8iWGyJOTUQSAeoUV3hPPDOlba5IaRUv9EkOU5SyhmaGZpO31kb97PeP/AaR4TlsGvVY1t84nGxC2143aWczCE7VMVGxn3y8K0hXvpxNFfb1pa9d+qfYkSBVeA1/r7liHc1OvIgKIEYQLG6sJ2qC71yv5csM/XTcm8CT4TTNko9EEoxXeIcPza0qNNk98o0avqGg4HBAQ6jPGWghNYp+z+IAQ2Rs2URGgQsEjq4sBA0JSlxhSDwjRExUBSipWjK+azuYUAWF5wYHUDbe0Qe9rRUVK9aAJ4KSoYPazEYT7xDrFWQaEqRrMJQYAejuxFsLVUlvQL4eAEDZRUUgg+CSx1AqQjciRtsUAndA2tQbLISCsBt6oAHCJuwHqi4BwhZQX8WkcJwBZGKyzub2NvjjJB4TgiYoCAgB9HU56j7h8ndxk43kmG8NSwKTUewAyM9JaCEXJJSA82b3ttAA9Rd0lcHfiz9doBQS9vyF3BndpwLAaTZC1qNHoxQCdsywDwmNBGzUlz45VEBAYVdg6Awe3Od+W2FjzMRv0WolPVAQgD0Ndru4dHFNcgnue0YY1URGAPiI7vMuRP/voneScAoKJioBOBSnuE33DQhv0f6oNCCv7NnCBV03AgcgRhPvA12pTbCyXGACowqe2Da8jL03TlNpe84w2rImKAPQVNYqw3H6NCAiTrKJ4KtzMM9uwRhEASKmO5LxAXVEBwURFAPpoA3vgy1nMAnVJdn5zCwgr+zYAPaS4SN06xYZyiQGAmgpkG/hay9mPT3YUEKZgoiJAeYLuLjh3uePoGrJI5OevOyBsGUUA4FAzQUC4nxX8FN0cA4KJigBc21uPDAhdOOg7STHZTm+OAWFlFwegh6iQEHEHwzrVRppXvGEBEBCmJiBE2Q4Pre3fABQQEJK9bD7PdOOaqAjAtZ41QbkB4cGmA+BKrQ5vuQHBCALAnpemudMKWQYEcxAEBIBBLTRBljWkTbWRsgwIJirC4O41AaXarsqbUj0TEApOgACXWGkCNSR1OQcEExUBuFYKowhJB0UjCADUSA0READgB68JfIZWQBiAiYogLEPmx03SCzZNERDuC9vAMDVBGRw3RQSESCYqApBrB3MlIJS9gamXlesgUymthSAgCAiUx8p1kLepe/CtgDBcAuwaVwoExvJRExBcwwSEARlFAMbislJZzGMrPCBMuYE/24WyYaQJSMlKQBjelCMIrkHn40kTALkV6dQDQupD+C4xAFB657ZNMSC8ptzCJip+xwQq0Dvk/Pox5T5yaW0dfdXFm4KS2DKzzzxEGjSBCur1x0vTHAtGXQfq6cg5c79jtd4US6Ox40q+Y1tKQHgQEIa3Ofl0Z59m768O/3z7zr9/mTitQy2OnQv/fsbxffhXqyPn2Z/9e84BYzVR/Ui+vUoaQeD8Qt+NNOwmWHZf90cePs++n3y51GIgaBz586/vBIyuA9RuQsMXzZgvAaEszeYg/br9/ceDwq/QA6Odi2bfjyambKoR6MdEtlPZAaGbqLgpjOuZ2w6bw1QPwLsmmQuQyLMg3g0I84I2slEEAOfwHN43izvvSgoIlswEqLcnv8yoWGfRoTWCAEC13N4pIADAz4w9ipDFiHcxAcGKigDoYAoINjIAUcbuXLYCwvhMVATgUmM/7VVAmIARBIBEvDRNLmvTuDwtIAAwolweIDdq7cjluTRFBQQTFQG4grpRekCYIgkCkH3ncsy60QoI0zFREYBLjTWKICBMyAgCoCOD2iEg2MgwgEYTUJmxevbZhMPiAoKJiiAgwBWeNUHhAWHLKAIAl2jVpzoCgut7AKQYELIZ4TaCAAACgoAAAIe289fGeJ9s6tNNqRv6pWm6lLaw2yejW3J1pRkGC8S/ndE7aitrl/WRfe7OeYETx0mjGQoOCHsnzaVNnIwcTso/CzAPF/7/sQNxVwi/2sWO9tS+XPp9m86F84aAMGRdEhDeMdbB9yAgsOf3vYLejjWcSJbBYozgt/8eH2c/PtRoMcvnQUelBYQhZXULfukjCLA76bez+obYSTuEXBREto9OPgwNh5dMbg96wILGZYZeC0FAEBCqtjo4GJ6O/D1weag4Nqeib8g4/PNhwFgaQQj1JCAk0mM0UbH3gdIeKfSHJyXD9ZB3yPh2Zrho3gkPn/fOtYf/T0DI1E3hP5+Jit+3xXrv96/H/n57AgH4odN1UEBXA5yjdqa622TogLDKaZuXHhBKnqi43jugup36+UjPX8EHcgkgvxz7+727SvYvh+xfCgkLE9uR51SbqB37DWsYQci1p78/rP+foj/SDGuAVILD/jnv2whv+TgbbmJnO9H3DhYQcp7sl/Jn7zb2P3ZhIKfVtQAK1g4VEHKbr3VOQMh2iHrAiYq7Hv26547SOhYBkqobXcft8I6P3WWM3aWNKm4fvalge186UXG/+B/eoueaPkAdQWH/jo/Vz/7f3hyJwxCx+zU79RoCwnQOJyqu9oLD6+y/1/zdrgfApUHi3RCxNxKRXeeyhoDwe7fhTO4DYIIAsU549OC26oDgWj8ABehGu7tbQbsRid3CVMuer9lUHRAAoIDObjcS8f/H/m1vHkT3dffwr94TKQUEAMg7PKy2v10dCQ/N7PtJk2ePPgwZELoPursToN3+chcAAIwXHnb196i3AQOCEAAABTp3oaQuCDzM/rv+v1sCAaBgH97e3rQCAPCduSYAAAQEAEBAAAAEBABAQAAABAQAQEAAAAQEAEBAAAAEBABAQAAABAQAQEAAAAQEAEBAAAAEBAAAAQEAEBAAAAEBABAQAAABAQAQEAAAAQEAEBAAAAEBABAQAAABAQAQEAAAAQEAEBAAAAEBAEBAAAAEBABAQAAABAQAQEAAAAQEAEBAAAAEBABAQAAABAQAQEAAAAQEAEBAAAAEBABAQAAAEBAAAAEBABAQAAABAQAQEAAAAQEAEBAAAAEBABAQAAABAQAQEAAAAQEAEBAAAAEBAKjSvwUYAO0MRDuv7X9ZAAAAAElFTkSuQmCC",$t="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAWgBaAMBIgACEQEDEQH/xAA3AAEBAQACAwEBAAAAAAAAAAAABQECBwQGCAMJAQEAAgMBAQEAAAAAAAAAAAAAAgQBAwUGBwj/2gAMAwEAAhADEAAAAPrAGXIdwAh7mmXIdwAh7mmXIdwAh7mmXIdwAh7mmXIdwAh7mmXIdwAh7mmXIdwAh7mgGLghXUIuoeDbghXUIuoeDbghXUIuoeDbghXUIuoeDbghXUIuoeDbghXUIuoeDbghXUIuoeDbghrgAQ7kI5YwugQ7kI5YwugQ7kI5Ywun5n6Q+r+nT6zz4e4H9AHxx3Uduw7cM5YwugQ7kI5YwugQ7kI5YwugAhtHG7DuAELWnG7DuAELWnG7DuBM+AjuH499YAAAHYv3x/MLyT+x751+iiFrTjdh3ACFrTjdh3ACFrTGjFwQrqEXUPBtwQrqEXUPBtwQrr04+AulQAAAAA8v+n/8tfqk+0tuCFdQi6h4NuCFdQi6h4NuCGuABDuQjljC6BDuQjljC6B8r/VHxofGXcXpH9K6lz+ZPr/9VOj4T+G3fvXFqp6S87jOHhvb+wYy6P5fZvdNez/Mf75+Jfq21U+zBnCHchHLGF0CHchHLGF0AENo43YdwAha043YdwAha04/M3010AdP/YHz39CcbvBWuuXFl+r8iPPgMhjPxn717J692vO/VutsVuN2HcAIWtON2HcAIWtMaMXBCuoRdQ8G3BCuoRdQ8G3BC6l736GjP8Oxfy/XhejCG0AAAD17qrvnqno8nvHbjo8qFdQi6h4NuCFdQi6h4NuCGuABDuQjljC6BDuQjljC6B093D0pTv8AuOZvJ7gAAAAD1X2v0rbq7vHd8yh3IRyxhdAh3IRyxhdABDaON2HcAIWtON2HcAIWtOMa1chs6382rK4nog17QAAAPG/Wr7V0eTC1vR5XG7DuAELWnG7DuAELWmNGLghXUIuoeDbghXUIuoeDbghXUIqemewSOd1fHHO6wAAA/WUfZaMPO95ltxKEK6hF1DwbcEK6hF1DwbcENcACHchHLGF0CHchHLGF0CHchHL8P2yM4GxLfA9OGMgAK3qftt7m+TjOpxroEO5COWMLoEO5COWMLoAIbRxuw7gBC1pxuw7gBC1pxuw7g8byYJ1V7Jc6/wCT3PeHq1KrdrpfHCtOkzJw5dxes1+rxPYBZqQtacbsO4AQtacbsO4AQtaY0YuCFdQi6h4NuCFdQi6h4NueITbnQPSm/T9neN1h2fq2PB85CfWX49jdf8zs/ifposvflHpcgLNPyLfRvRO7V9m7093tCcm6hQldQ8G3BCuoRdQ8G3BDXAAh3IRyxhdAh2+n5x7F9D6YnXavvvXn7eBY0etiE732B8Q/Rlbf2kKdl4fmflh177v1J3FspeSIXR1bKPSME6VJ7b6l7JOHZvvXQ6MvrR8udvU7PcLNrb0O5COWMLoAIbRxuw7gBCzl0xshN9EOrzwlF4PnGfUfy909Y1y8K5DQn9vOq+1ObddDdw/Nvb8F+ftfqjv/AD36r5+n+4eI+7Pj3u3523yHm2dHj+wefmyASiB733v8m9m1LPc12Hc59wCFrTGjFwQrqEXUPCP8yd0dL9KiFnQAB4frHsPr2uYRla+yPh36arb+zvmP6W+YOz833D0Pzb6Hsw/UPCfoboGKWdgZez+ZNpbdYZwAB9N+69MdlcjpXUPNc23BDXAAh3IRywOivQPbvUexzQnAA48h6r7V4GJetjVNaisPrbozxvJ9B8gDpeU7j+c73o/lvtoV+68nxvZM488bdZx5AAHv/evzz9Dc67uMq2LoAIbRxuw7gB8lw6M7s8wJRA8Dz4N7GW4zj1jw/Z/WNWwMZ/f3zrz2jqeHtkTsfPfXvwPKfdwxPzPaPC8zbrDOPA8+DexkM4AufWnyB9f0LgU7MLWmNGLghXUIuofM+T/w7LdbndaOzPEOvt7Aw6Q9w9n9ijnrV2Z4ksdf+s9zeNjPSjtzjrn1L+/avi5hP9E7a8G95fqx26oer6i87s/zs49IzsFsh19vZfE6G9w9nsRl1+7BSj187MzLrv7J+eu7Kdmyh5UsNuCGuABDuQjljC6BDuQjljC6BDuQjljC6BDuQjljC6BDuQjljC6BDuQjljC6BDuQjljC6ACG0cbsO4AQtacbsO4AQtacbsO4AQtacbsO4AQtacbsO4AQtacbsO4AQtacbsO4AQtaY0AZcACHoZcACHoZcACHoZcACHoZcACHoZcACHoZcACHoAf/xABMEAABAwADCAwMBAQFBQAAAAABAgMEAAURBhITICExUdEHEBYiMDJBUlNhkZIUI0BCUGJxcoGhscEkQ2PCMzSD4RVEcIKiJXPS4vD/2gAIAQEAAT8B/wBdHn2Izann3kNNJzrWQlI+JpP2RrmIG9TKXKXoYRb/AMlWCj+yq2P5apP9zr32AovZTrzzIEBP+xZ/dQbKdfedCgKH/bX/AOVIuy6rIJdSj3mnPsaVZsg3MVkQnwzwZZ82QLz/AJcWiVJWApJtBygj0JmpdFsiRIBXGqhKJL44z6v4SfZzqVlXFZ1w9hp81x9XJfHIn3RmGPUt1FcVAseCSrWbd8wvfNK+GqlzF2tW3RjBW4CaM7Kjn9zT6CrStYNTw3Jcx4NtI7SdA0ml02yBPrtt2JGR4NCVnHnrHrHgm3FtLQ42spWkgpUDYQRyilw123+MpTV89YE5I3i+m/8Ab0DdtdAuvK4fShf4SMpTbA06V/HhGXnY7rbzThQ42oKQpOQgjMRS5C6NF0VVpeWQJTNiH0jTzvj5fOnRqrgyZ0ld6yyi0nly5AB1k8NsYwJ/h0meneQktqac/UVzfh5fsnSS1UMJgfnS8vsQnaqW42sq7gvTG1oaR+ThMmFIz0n1ZWFVPYGbEWyvkvhkPsOY8HsZv4W5yQyfyZirPdWkHy/ZV/lqgHryP2UqWrV1vWkOCg2YVe+OhIyqPZRppphpphlAQ02kJQkcgFHmWZLSmZDKHWznQtN8PnSsdjypZd8qI45DXoHjEdhpM2O6+Yt8HwMpPqLvT2Lso/c5X0YnC1PKHWGyodoouNIbNi2HE+1JFEsPL4rKz7EmjFQ13IswVUy1W8uCVZ20i7H90Uj+Iw1GH6rg/bbSBsb1cyQqfNckHmNjBp7c9EVLVLcF+r24DTUZ5N64EjKesnOSKVlBdqyfLhu8dlwo9tnL8abFK7WK/b5pjqHxvh5fsup/D1Gr13/ne02M4t/NrOWfyWEtj+qf7Ytp00v1840v1840KlHlxNkmBgaziTUjJJZsV77X9qbEP8avfcY/d5fsstf9Eq5zmzL3vINNjdi8qaY90sqzuJ/vwmyDE8IueL3LFfQv4K3lNiHj1+fVj/v8v2T2MNcstfQyWl/s+9LkovglzdUoOdbZdP8AVN8PlwlbxfDqprOLZldjOBPvWWj502ImLIldP891pHcB1+X3aIXLqOXBZFrjgbV2LFENIYbaZRxG0JQn2JFnCJyKFLiYoq2PWcPTPkXn9M3nl7676co6HAOzhr7Bzb4Czxv1z+XyQUSX/fJ+9M+XhU2uvp9Zz7+X1rCU5+IbFqgLFjSNNI679hs9VnZwjqrxpxWgUqmEoKElxOYeLH39AS2kIUFoSBfHLZp4SMyh1Rv0ghPIdPoGSi/aUkZ8/CRkXjQ0nL6CdTerOg8EhN+oDt9BuIv09YzcE0i9Tbyn0GSLFew0hvXyQ2rOBk6+AlPYNBSOOR2UaPiWfcT9PQb38JeWy0ED40UhbK71WRSaMSA5vVZF/XGffS0LM69FLFursAvlqpF3sdpBOVCQk/D0EpQSLTRxZcVfGkiOiQiw5FDiq0UcbW0soWLFCjctxGRW/HzoJrXKFCnhjPrdlDNZ0KPwo5McVkSL360SlTiglItUaRoyYydKzxlUQstqtFEKCxaPQClBIKlEADOaOO4WwjicnX17ciOiQiw5FDiq0UcbW0soWLFDESlTighAtUaRoyYydKzxlbbbuBJV5vnUSpKwFJIIIyEeWvyGIzSnHnEoQkWkqpOu6FhRV0S39V3IO6KTaxn1j/NylrTzMyO6KXKVh4VAMRZ8bFzdbZzdmI+wiQi9VkI4qtFHG1tLKFiwjaQhTighAtUaRoyYydKzxlYl1c/wWAmIg+NlZ+psZ+2kKsZ9XfykpbaeZnR3TSBd3mRWMSz9VrKO6aMPx5LSXWXUrSoWgjyhRCEla1BKRnUTYKSro6vYtSzfSFerkT2mkq6WtZGRDiWEaGxl7TSUtbiHXHXFLVZxlG0/PbqueqrJ7EocUG9cGlBz0tSQFJNqSLQdIOI+wiQi9VkI4qtFDHeDuBvN/wD/AGWkeMmMnSs8ZWJakAqUbEgWk6AKVpPVWc9+UeKTetjQgZtuKtbaGnGnFIVZxkmw/KkW6WtY2RbiX06HM/aKRbo6vfsS9fR1etlT2iiSFpC0KCknMoG0eST7omI9rcUB93neYNdJUuVNVfSX1OaB5o9g25JsZPWRiXJ1h4TCVDWrxsbi9bZ1Yi1oaQtxxQShItUaLuhfM4PJHiE73B6U66MvNSGkPNLvkKzHEusrDwaEmGg+Nk8bqbGvEjG1kdRO3FlyoSr6M+pvSPNPtFIF0TEixuWAw7yK/LOryE3qUqUohKUi0k8gpW1dLnFTEe1EblPK57erFkNqcQAnTRSFo4yCNurJ6qsnx5QzJNjg0oOelqVBKkm1KgFJOkHaJABJNgAtJPJSt61M9eDayR0HJ6x0naqqs11c7vt8wvjp+4ohSHEJWhQUhQtSRy7VqUhSlGxKQVKOgClZT1VnPkSjxVGxsaEDNtpQtfFQTRhtTaCFacWqa7XBKWJFq42nlb9nVQXqkpUkhSVC0Eco4YUuirIuuGC0rxaD4485Wj4cBIUkub1IFnz27k6w8IhrhLPjI3E62zq2qyhOTYTjLbhSvONCrPNNFIUhSkqSUqSbCDyEbdz8Z1mrwpxR8Yb9CNA/vtXWVh4PDRCQfGSeP1NjXtx1JDm+SDb8uAudrLBOCC6fFrPiTzVc340PC1hLEGC+/wCcBYj3jmpl5TaTnOO+5g0ZOMc2JV05VWzo8tOZBsWNKDnFElCglaFWpUApJ0g0tAyk5BR1wvOuunOtZV27dWOYSroSv07O7kosoSlS1KsSkEqPUKVlOVWU6RLVmWbEDQgZhiMOYRGXjDPj5eQ2EZjSBLE6DHf84ixY9YZ+Fuwfywoo63FfQcBJbvkXwzp+mLcVWfhERyA4rfx8qOts6qVs7gatmr/TI72TEuaWFVYkcxxafv8Ael2lZYCIiA2d/Iyr6mxrxYzd6i+OdX04C46RlnRbdDqfoeFuncv64cT0bSE/f78C63g1kcnJiVbOXVk+PLT5it+NKDnFLo5CDVrGDXal9aSOtNl9iXMPobjVhhFXqGyHCfh/alYzl1nPkS1ZlneDQgZhiNN4RYHJy8Dcw5eVw2OkaWn7/bha/Vf11WB9ZI7EjGtykaNuQ3ft2jOnFjTlvw40Nf8Alr68Pqq1YkmatiJIiI/zN7f9SUn74sdu8btOdW3blA041QKvK6q8+sodqTwtaG+rOsD+ur5YyFfiHx1D5Yj7eDcOg5RiNOFpxKxyUyEAg5Dm2sgBJOQZ6OuF1xSzy4jDeEcGgZTiLV+IYHUfnjVWb2s6vP66fnwsw302adL7n1xkK/Fq6yRiPt4Rs84ZRiwXb5BaOdOUezanO3qA0M6sp9mKw3g2xzjlOItX4tPUQMaGb2bCOh9v68K6bXnzpcX9cZKrHAr1rcWQ3eOZMysuI24WnErHJS+TZf272y23qo44XXFLPLiR279zLmTlxVKtcKvWtxmjY8wdDiPrwgsBBoblK1KlnCRuMTxlcvwpuSrbpI3eVqpuSrbpI3eVqpuZrLpY3eOqm5isuljd46qG5isrD42Pm5x1U3D130kTvq1UFyVb2C1yNm5ytVNyVbdJG7ytVNzNZdLG7x1U3MVl0sbvHVR65WsXGyMLGt5N8dVNxFd9JE76tVNxNd9JE76tVNxFd9JF76tVNx1b9LF751U3LV14PgcJFz5785uym46t+li986qbiK76SJ31aqbiK76SJ31aqbiK76SJ31aqM3K1i22BhY1vLvjqpuYrLpY3eOqm5msuljd46qbkq26SN3laqG5Kt7DY5Gts5x1U3D130kTvq1UFzFZWDxsfNzjqpuYrLpY3eOqm5msuljd46qbkq26SN3laqbkq26SN3laqblK1SpBwkfjA8ZXJ8KGwkn/Wf//EACgQAQABBQEAAQMEAwEBAAAAAAERACAhMVEQYTBxgUGRobHB0eHw8f/aAAgBAQABPxDx02Gjx02Gjx02Gjx02Gjx02Gjx02Gjx02Gi102Gjx02Gjx02Gjx02Gjx02Gjx02Gjx02Gj2TtSdpSHNgkGak7SkObBIM1J2lIc2CQZqTtKQ5sEgzUnaUhzYJBmpO0pDmwSDNSdpSHNgkGak7UnbAIMVBykIcWAQYqDlIQ4sAgxUHKQhxYBBioOUhDiwCDFQcpCHFgEGKg5SEOLAIMVBykIcXmjx02Gjx02Gjx02Gjx02Gjx02Gjx02Gjx03iQZqTtKQ5sEgzUnaUhzYJBmpO0pDnwsUySPVAKaRZhcP3HrDS8o9bBHzV6vOQV/Mz/AI/SjetH/wBqAZEISI/qUJBmpO0pDmwSDNSdpSHNgkGak7SkObIOVBykIcWAQYqDlIQ4sAgxUHKQhx6oFXG1rD8zKStDOqiD4hgftfMMk5f3j194NCVCTjO1+wIMVBykIcWAQYqDlIQ4sAgxUHKg566bDR46bDR46fPyJiVo/wBShnYu/n+lr02kkkQyJQyMvQA8Gjx02Gjx02Gj2TtSdpSHNgkGak7SkObBIM1J2lIc+Ptii4hj6hZ13SvFBpGv4dPGj4qJBmpO0pDmwSDNSdpSHNgkGak7UnbAIMVBykIcWAQYqDlIQ4sUYyMmX3CjH1lvqMdNofNkCDFQcpCHFgEGKg5SEOLzR46bDR46bGDhJ+b/AA80wGyEQ4FOP0UYHpyPyfRBZg14qyU45YY0eOmw0eOm8SDNSdpSHNgkGak7SkObHHZ/CUdRDB2Z/AFaUY2HgK14fJfmKIK3X+xaRS+I0gkgt/sapSJIbP7gpYGeIaRBug/nCKbntf609GPezflyVYqx782zshazBLnQFg/AyWuOwkGak7SkObBIM1J2lIc2QcqDlIQ4sAgxUHKQhxYBBioOUhDimeIv2UD+1B/02w9I8rlVsG/dsCDJX3Av7ynj/wDM1AgxUHKQhxYBBioOUhDiwCDFQcqDnrpsNHjpsNHjpr7LaufzLn7F9TDB/ddUY5aRo8dNho8dNho9k7UnaUhzYJBmpO0pDmwSDNSdpSHNf/c7mlP7cU/zPqKFIr+D/ZFNX/4kGak7SkObBIM1J2lIc2CQZqTtSdsAgxUHKQhxYBBioOUhDiyGLKdVhRQwJ8MT6jEuhJqIUDvsKyBBioOUhDiwCDFQcpCHF5o8dNho8dNivshf2YU/VCZgFQImUKw0eOmw0eOm8SDNSdpSHNgkGak7SkObCd2F+ywoQA0gn1CgCZTj7NgSDNSdpSHNgkGak7SkObIOVBykIcWAQYqDlIQ4sAgxUHKQhxUauAOw0DpRFMpJ98PqGyxLTAgyO2TegIMFQcpCHFgEGKg5SEOLAIMVByoOeumw0eOmw0eOnwVKj+k9fUZwYgJPBo8dNho8dNho9k7UnaUhzYJBmpO0pDmwSDNSdpSHPg5oCH3K2D9LVTNNr/PgkGak7SkObBIM1J2lIc2CQZqTtSdsAgxUHKQhxYBBioOUhDiwCDFAcrDD9Q+lO+t/YUhykIcWAQYqDlIQ4sAgxUHKQhxeaPHTYaPHTYaPJkOlD9H6ObGlfg/Q8dNho8dNho8dN4kGak7SkObBIM1J2lIc2CQZqTtCZcCVLz9df0H0Jx5X4dolV237ipO0pDmwSDNSdpSHNgkGak7SkObIOVBykIcWAQYqDlIQ4sAgxUHKQhx6wCCdPRFQ7XCJ8aTo0eKcNHyLlQhNcfLRLxP5X/AVgYxb0B6BBioOUhDiwCDFQcpCHFgEGKg5UHPXTYaPHTYaPHT4jeApf9gOFSLyIDK49GkBo/CdHlBAAaViidt9hr5aAGHcgUCiPd0es/BtXq09yH/4FBHyb4nGhvmaPHTYaPHTYaPZO1J2lIc2CQZqTtKQ5sEgzUnaUhzQcDVEADavCglRQLGQJIOie/qbCBlf5Gv4EwTp0bHstgD+3gU9BC/8Dh66SAFkwAG10RQG3KJEcyNCQZqTtKQ5sEgzUnaUhzYJBmpO1J2wCDFQcpCHFgEGKg5SEOPEXoSDBQlP3v4MlO/CphfbBWY6E7/+Ls/XwkDKr+Dsk6dHxLLYA/t4FJQQv/A4WYx5Ttf/ADpfqGY33wUAI9S/kyUZhiI7PAIMVBykIcWAQYqDlIQ4vNHjpsNFBZ+QiPlYCmCDr0nqImUpUHktlxtNGPJBlw/jn/NQRlHyAkT4Szv1BtVN6W4DScPKaghPufBwLII2n4ASr8BUgwZfxz/nxzUKDyWSY2iobQaEUmCLrwWfkJj4SRp02Gjx03iQZqTtKQ59UCmzxIuvhcNrHwhj37THqCQ6rI9+Vr/vxY/UydAf28Ka+El7dlXio2Q54dHiaSxIf/K3/wB+KgCDXv2mPcrhpZ+FMU26MUsRPRIM1J2lIc2QcqDlIQ4sAgxSY4FgAJVXQUsmro+fjkoAACAsg3UmixMEU/8AmUxQ+SBrC/HNABmiyCkT4R8De4tAAlVdBU9mQ6/9UeMSSCLZz56EeBKQOk8QDdFgFKvwBUwYD7Xnxaf/ADIYqLcWYDMSRYgiJI00OmbfN12UiOBYRCRE2NIQ4sAgxUHKg566bBoK2HkH6Ovtv7xSYIxUIl3xCErN3n6/2/jGHBjCf2aTOA5FEIjpGvw1+GoKOca/958xd5+v9vQEB4GCMRSZdrWL12uk+6/ZUbGw0eydqTtKQ5sFcMe7jpKVZCoyqsq/K3y6tp8etB6eC/gu1EcPPQ5E+40TiAKvAy0uOV/dr4rRKOh++/40E5t3Acq/YKHBJr+L7JUOrSfPjfIRZAgwiMifI04YPjzHYEgzUnak7YBBioOUhDilFuf7fQ4spmfurEpJG3u/9nQ/rEX74/7oxB67P/m1LFc/X/Z0BAWTZRE/YfQUZzWkCDFQcpCHF5o8dNRNon8z9C++Sot+T+GwR1Ij3i1Rvsc1jGyA1YtAuX7BUx0hvvFspt+T+Cvtg+hP+kfxFRo8dN4kGak7Sibr4w/Zq4CDcJ/Ps0EzJ8lD6lZ+c/ZzDZfUIz6VmCgerUUERL8HqBG5R+LvnD9mqEDdSdpSHNkHKg5SEOLPsgfui6T9LOfh6MVAA/qXZZl2nk6OEoZDAK6PiwGBVwKw7TwcDAWQBP6k0Us+wfpZ38LvsgfuiwCDFQcqDnrpszntfzuMb9LHgATSjZMT+VezyYn8KdFi1EEixTW/S5857X8bDR7J2pO0pDmzN8yv3dphKThn+U07fRipJETD4eWZpl5OjhK/Rv8AXKxTLwcDAWQSJiXy8pZ9NlJ03/Kacrbm+JX7GwSDNSdqTtgEGKg5TQGkaBcTkalbqhY7fBJVbr4YqoMyBMWULHbw5BltvqldK/8A9ffVtf1q1Zciyyzt44WJSCCa+GKrkkoNW9vHC1RYx4H6yrAG1ag5SEOLzR46bDR46bDR46bDR46bDR46bDR46bDR46bxIM1J2lIc2CQZqTtKQ5sEgzUnaUhzYJBmpO0pDmwSDNSdpSHNgkGak7SkObBIM1J2lIc2QcqDlIQ4sAgxUHKQhxYBBioOUhDiwCDFQcpCHFgEGKg5SEOLAIMVBykIcWAQYqDlIQ4sAgxUHKg566bDR46bDR46bDR46bDR46bDR46bDR46bDRa6bDR46bDR46bDR46bDR46bDR46bDR46bDR7/AP/EADIRAAIBAgMFBgQHAQAAAAAAAAECAwARBBAxEiAhQVEFEzJAU3EwUmFiIiMzYIGRsUL/2gAIAQIBAT8A/feJxBhChfEajxqHg4saWWNtHFXHWjJGurgfzTYyJTYAtQNwCPI4ttqd/pw3sK+3Cv04eQdwgueoFO207HqTvYKQLtKeZFvIYy+wnS+/FcMLdR5CRBIpU1KhjkZTy3sHBcCRuvAeRx0fhkHsd1VLMFGpNhSIERVGgFvIuodWVtCKtbcwKAuzHUDh5OeAxn7eRrZNWPSlQ3rDwmIEt4jy6eRXDudeFOpRip5UQGBBFwamhMRvqp0OUEHd/ibxf5kkJdNq9ulMjpqPiIjyGyi9JhFHja56CgiIDsqBliEuA45a5FQ42SL34WqTsuTA7DyLfb0Py/Q/XJFLsFHOgAAANBSa0+Hif/mx6ipMM6cV/EPgxRmVwo/k0iKihVFhmy250QCCDTqUYqeVdjQQuXlLAyKbBen1qWJJ42jdbqwqeMRTSxq+0FYgGsOlgXPPTILbPEQAguo4jUdfgYVNmPa5sdx9csQlwHHLWuwI7JiJepCj+OOWJiIxs8Y9Vv6vQAAAGgyGg3Jk2JHUaX4b8QtFGPtG4wuMiAQQa7JjEeDQA6sxP92yxsYXHYlhzI/wZKLndxY/MB6rvqLKvsMwdffJhY5dmT7EhhJ4PxHuKnmEETyHkOA6mmJZixNyTc5KLDIHX3zxniT23xNF6grvofUFd/D6gpZohe8grvofUFNNCR+oK72P5xSzIpDCQAg3FY3tCPEiJVcAAXYfdXex/OKEsVxdxXfw+oK76H1BSzRC/wCYK7+H1BXfReoKxTo5TZYHX9k//8QAMxEAAgECAgcHAgYDAAAAAAAAAQIDABEEMQUQEhMgIVIGIjJAQVFxMLFCYGFykcEHY4H/2gAIAQMBAT8A/PeEw2/LFuSipdHyrzQ7QoxSKbFDVj7UI5GyQ0mBmYEkWoggkHyOAXZgB99RANbCdI/igAMhqxabudx78/IIjSNZc7E/xUK7ESL7AcWkIizBwMlufIaPtvHPrs0OKaxUg5WN/IRStE4dagkEsSuPXix2JILRLnbvHyOjZfHEf3DhdgiszZAXNSOZHZzmxJ8jG7RurrmDQN+DSMhEaoMmPP8A55PDYkTD2cZig4raFM4tWKxAmIVR3V9ffyLTKMudKwZQRSsyMGU2IyNYfELOtsnGYokAEk1isUZe4nJPvqaUK1rUrq2R+ozqguxpsSx8ItRZmIuSdULWOz75ag+77+1s7PPaytasH2lwmmzPDhnsYjZhltjqH6amYKCaJuSTTUs0i+t/mknVuR5H6LuI1vTMzm5OsG9A2N6VgwBrttpDGwpDhEQph5Vu8nWR+GsJi58DiIsRA+zIhuD/AEawGIfF4LC4iSHdPLGGKe16ma5C+2om+uGUghGPL0P0J2u9vQcC5aoWsdn3r/IeJvNo3Cg+FHkI/cbD7atEYgS6H0bNe5OGiv8AIUA1nqOfBG22injk5u/yeAHVlXbSZ5tPThgQI441X42Q33OrsvI79n9GhwRYPn6gObaibDhw3gPzxt4m+TrOoG+rttovf4WPSEa9+DuyfrGT/RrReAk0nj8NhE5bxu83So5k1FHHDHHFGoVEUKqj0AFgNRN9R9NeG8LfPHu5Og1upOg1upOg00cnQa3UnQaEcg/Aa2H6TUkAmjkikiLI6lWX3DCxFdm+zkmh5MfLKNp3kMcTf6gbg/LVu36TRSToNbqToNbqToNGKTl3DW6k6DW6k6DWHVl27qR+Sf/Z",en=function(){var e=ce((0,t.useState)(!1),2),n=e[0],r=e[1],i=function(){window.scrollY>100?r(!0):r(!1)};return(0,t.useEffect)((function(){return window.addEventListener("scroll",i),function(){return window.removeEventListener("scroll",i)}}),[]),(0,Jt.jsx)(Jt.Fragment,{children:(0,Jt.jsxs)("div",{className:"header ".concat(n&&"nav-black"),children:[(0,Jt.jsx)("span",{children:(0,Jt.jsx)(R,{to:"../NetFilm",children:(0,Jt.jsx)("img",{className:"logo",src:Zt,alt:"logo"})})}),(0,Jt.jsx)("span",{children:(0,Jt.jsx)(R,{to:"../profile",children:(0,Jt.jsx)("img",{className:"account",src:$t,alt:"avtar"})})})]})})},tn=function(e){var n=e.title,r=e.fetchUrl,i=e.isLargeRow,a=ce((0,t.useState)([]),2),o=a[0],u=a[1];return(0,t.useEffect)((function(){function e(){return(e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt.get(r);case 2:return t=e.sent,u(t.data.results),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),console.log(o),(0,Jt.jsx)(Jt.Fragment,{children:(0,Jt.jsxs)("div",{className:"row",children:[(0,Jt.jsx)("span",{className:"title",children:n}),(0,Jt.jsx)("div",{className:"row__posters",children:o.map((function(e){return(i&&e.poster_path||!i&&e.backdrop_path)&&(0,Jt.jsx)("img",{className:"row__poster ".concat(i&&"row__posterLarge"),src:"".concat("https://image.tmdb.org/t/p/original/").concat(i?e.poster_path:e.backdrop_path),alt:e.orignal_name},e.id)}))})]})})},nn=function(){return(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)(en,{}),(0,Jt.jsx)(Xt,{}),(0,Jt.jsx)(tn,{title:"Tranding Now",fetchUrl:ee.fetchTrending,isLargeRow:!0}),(0,Jt.jsx)(tn,{title:"Netflix Orignal",fetchUrl:ee.fetchNetflixOriginals,isLargeRow:!0}),(0,Jt.jsx)(tn,{title:"Top Rated",fetchUrl:ee.fetchTopRated}),(0,Jt.jsx)(tn,{title:"Action Movies",fetchUrl:ee.fetchActionMovies}),(0,Jt.jsx)(tn,{title:"Comedy Movies",fetchUrl:ee.fetchComedyMovies}),(0,Jt.jsx)(tn,{title:"Horrer Movies",fetchUrl:ee.fetchHorrerMovies}),(0,Jt.jsx)(tn,{title:"Romence Movies",fetchUrl:ee.fetchRomenceMovies,isLargeRow:!0}),(0,Jt.jsx)(tn,{title:"Documentaries",fetchUrl:ee.fetchDocumentaries,isLargeRow:!0})]})};function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ue(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e,t){return un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},un(e,t)}function sn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&un(e,t)}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}function ln(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fn(e,t){if(t&&("object"===te(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}function hn(e){var t=ln();return function(){var n,r=cn(e);if(t){var i=cn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fn(this,n)}}function dn(e,t,n){return dn=ln()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&un(i,n.prototype),i},dn.apply(null,arguments)}function pn(e){var t="function"===typeof Map?new Map:void 0;return pn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return dn(e,arguments,cn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),un(n,e)},pn(e)}var vn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},yn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},mn=function(e){return function(e){var t=vn(e);return yn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gn=function(e){try{return yn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=kn(e[n],t[n]));return e}function bn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function xn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function In(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function En(){var e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Sn(){return"object"===typeof indexedDB}var An=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},_n=function(){try{return An()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&gn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Tn=function(){var e;return null===(e=_n())||void 0===e?void 0:e.config},Cn=function(){function e(){var t=this;Ue(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Be(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Nn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mn(JSON.stringify({alg:"none",type:"JWT"})),mn(JSON.stringify(a)),""].join(".")}var On=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(on(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(on(a),Dn.prototype.create),a}return Be(n)}(pn(Error)),Dn=function(){function e(t,n,r){Ue(this,e),this.service=t,this.serviceName=n,this.errors=r}return Be(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Rn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new On(n,a,t);return o}}]),e}();function Rn(e,t){return e.replace(Pn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pn=/\{\$([^}]+)}/g;function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Fn(u)&&Fn(s)){if(!Mn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Fn(e){return null!==e&&"object"===typeof e}function Un(e){for(var t=[],n=function(){var e=ce(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function jn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=ce(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Bn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Vn(e,t){var n=new zn(e,t);return n.subscribe.bind(n)}var zn=function(){function e(t,n){var r=this;Ue(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Be(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=an(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=qn),void 0===r.error&&(r.error=qn),void 0===r.complete&&(r.complete=qn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function qn(){}function Qn(e){return e&&e._delegate?e._delegate:e}function Gn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Hn(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||Gn(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kn=function(){function e(t,n,r){Ue(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Be(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Wn="[DEFAULT]",Yn=function(){function e(t,n){Ue(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Be(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Cn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wn})}catch(s){}var t,n=an(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=ce(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Hn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Hn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=an(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=ce(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=an(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(KS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Wn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(KS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn;return this.component?this.component.multipleInstances?e:Wn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Jn,Xn,Zn=function(){function e(t){Ue(this,e),this.name=t,this.providers=new Map}return Be(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Yn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$n=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xn||(Xn={}));var er={debug:Xn.DEBUG,verbose:Xn.VERBOSE,info:Xn.INFO,warn:Xn.WARN,error:Xn.ERROR,silent:Xn.SILENT},tr=Xn.INFO,nr=(rn(Jn={},Xn.DEBUG,"log"),rn(Jn,Xn.VERBOSE,"log"),rn(Jn,Xn.INFO,"info"),rn(Jn,Xn.WARN,"warn"),rn(Jn,Xn.ERROR,"error"),Jn),rr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=nr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ir=function(){function e(t){Ue(this,e),this.name=t,this._logLevel=tr,this._logHandler=rr,this._userLogHandler=null,$n.push(this)}return Be(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Xn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?er[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xn.DEBUG].concat(t)),this._logHandler.apply(this,[this,Xn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Xn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xn.INFO].concat(t)),this._logHandler.apply(this,[this,Xn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xn.WARN].concat(t)),this._logHandler.apply(this,[this,Xn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xn.ERROR].concat(t)),this._logHandler.apply(this,[this,Xn.ERROR].concat(t))}}]),e}();function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ur,sr;var cr=new WeakMap,lr=new WeakMap,fr=new WeakMap,hr=new WeakMap,dr=new WeakMap;var pr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return lr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function vr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(sr||(sr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(gr(this),n),mr(cr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mr(e.apply(gr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[gr(this),t].concat(r));return fr.set(a,t.sort?t.sort():[t]),mr(a)}}function yr(e){return"function"===typeof e?vr(e):(e instanceof IDBTransaction&&function(e){if(!lr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));lr.set(e,t)}}(e),t=e,(ur||(ur=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,pr):e);var t}function mr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(mr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&cr.set(t,e)})).catch((function(){})),dr.set(t,e),t}(e);if(hr.has(e))return hr.get(e);var t=yr(e);return t!==e&&(hr.set(e,t),dr.set(t,e)),t}var gr=function(e){return dr.get(e)};var kr,br,wr=["get","getKey","getAll","getAllKeys","count"],xr=["put","add","delete","clear"],Ir=new Map;function Er(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ir.get(t))return Ir.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=xr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||wr.includes(n))){var a=function(){var e=ie(ne().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ir.set(t,a),a}}}pr=function(e){return or(or({},e),{},{get:function(t,n,r){return Er(t,n)||e.get(t,n,r)},has:function(t,n){return!!Er(t,n)||e.has(t,n)}})}(pr);var Sr=function(){function e(t){Ue(this,e),this.container=t}return Be(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ar="@firebase/app",_r="0.8.3",Tr=new ir("@firebase/app"),Cr="[DEFAULT]",Nr=(rn(kr={},Ar,"fire-core"),rn(kr,"@firebase/app-compat","fire-core-compat"),rn(kr,"@firebase/analytics","fire-analytics"),rn(kr,"@firebase/analytics-compat","fire-analytics-compat"),rn(kr,"@firebase/app-check","fire-app-check"),rn(kr,"@firebase/app-check-compat","fire-app-check-compat"),rn(kr,"@firebase/auth","fire-auth"),rn(kr,"@firebase/auth-compat","fire-auth-compat"),rn(kr,"@firebase/database","fire-rtdb"),rn(kr,"@firebase/database-compat","fire-rtdb-compat"),rn(kr,"@firebase/functions","fire-fn"),rn(kr,"@firebase/functions-compat","fire-fn-compat"),rn(kr,"@firebase/installations","fire-iid"),rn(kr,"@firebase/installations-compat","fire-iid-compat"),rn(kr,"@firebase/messaging","fire-fcm"),rn(kr,"@firebase/messaging-compat","fire-fcm-compat"),rn(kr,"@firebase/performance","fire-perf"),rn(kr,"@firebase/performance-compat","fire-perf-compat"),rn(kr,"@firebase/remote-config","fire-rc"),rn(kr,"@firebase/remote-config-compat","fire-rc-compat"),rn(kr,"@firebase/storage","fire-gcs"),rn(kr,"@firebase/storage-compat","fire-gcs-compat"),rn(kr,"@firebase/firestore","fire-fst"),rn(kr,"@firebase/firestore-compat","fire-fst-compat"),rn(kr,"fire-js","fire-js"),rn(kr,"firebase","fire-js-all"),kr),Or=new Map,Dr=new Map;function Rr(e,t){try{e.container.addComponent(t)}catch(n){Tr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pr(e,t){e.container.addOrOverwriteComponent(t)}function Lr(e){var t=e.name;if(Dr.has(t))return Tr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dr.set(t,e);var n,r=an(Or.values());try{for(r.s();!(n=r.n()).done;){Rr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Mr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cr;Mr(e,t).clearInstance(n)}function Ur(){Dr.clear()}var jr=(rn(br={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),rn(br,"bad-app-name","Illegal App name: '{$appName}"),rn(br,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),rn(br,"app-deleted","Firebase App named '{$appName}' already deleted"),rn(br,"no-options","Need to provide options, when not being deployed to hosting via source."),rn(br,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),rn(br,"invalid-log-argument","First argument to `onLog` must be null or a function."),rn(br,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),rn(br,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),rn(br,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),rn(br,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),br),Br=new Dn("app","Firebase",jr),Vr=function(){function e(t,n,r){var i=this;Ue(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",(function(){return i}),"PUBLIC"))}return Be(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}]),e}(),zr="9.13.0";function qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Cr,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Br.create("bad-app-name",{appName:String(a)});if(n||(n=Tn()),!n)throw Br.create("no-options");var o=Or.get(a);if(o){if(Mn(n,o.options)&&Mn(i,o.config))return o;throw Br.create("duplicate-app",{appName:a})}var u,s=new Zn(a),c=an(Dr.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Vr(n,i,s);return Or.set(a,f),f}function Qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr,t=Or.get(e);if(!t&&e===Cr)return qr();if(!t)throw Br.create("no-app",{appName:e});return t}function Gr(){return Array.from(Or.values())}function Hr(e){return Kr.apply(this,arguments)}function Kr(){return(Kr=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Or.has(n)){e.next=6;break}return Or.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e,t,n){var r,i=null!==(r=Nr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Tr.warn(u.join(" "))}Lr(new Kn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Yr(e,t){if(null!==e&&"function"!==typeof e)throw Br.create("invalid-log-argument");!function(e,t){var n,r=an($n);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=er[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Xn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Jr(e){var t;t=e,$n.forEach((function(e){e.setLogLevel(t)}))}var Xr="firebase-heartbeat-store",Zr=null;function $r(){return Zr||(Zr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=mr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(mr(u.result),e.oldVersion,e.newVersion,mr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Xr)}}).catch((function(e){throw Br.create("idb-open",{originalErrorMessage:e.message})}))),Zr}function ei(e){return ti.apply(this,arguments)}function ti(){return ti=ie(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$r();case 3:return r=e.sent,e.abrupt("return",r.transaction(Xr).objectStore(Xr).get(ii(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof On?Tr.warn(e.t0.message):(i=Br.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Tr.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=ie(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$r();case 3:return i=e.sent,a=i.transaction(Xr,"readwrite"),o=a.objectStore(Xr),e.next=8,o.put(n,ii(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof On?Tr.warn(e.t0.message):(u=Br.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Tr.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ri.apply(this,arguments)}function ii(e){return"".concat(e.name,"!").concat(e.options.appId)}var ai=function(){function e(t){var n=this;Ue(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new li(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Be(e,[{key:"triggerHeartbeat",value:function(){var e=ie(ne().mark((function e(){var t,n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=oi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ie(ne().mark((function e(){var t,n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=oi(),n=ui(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=mn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function oi(){return(new Date).toISOString().substring(0,10)}function ui(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=an(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),fi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),fi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var si,ci,li=function(){function e(t){Ue(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Be(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ei(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ni(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ni(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Hn(r.heartbeats),Hn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fi(e){return mn(JSON.stringify({version:2,heartbeats:e})).length}si="",Lr(new Kn("platform-logger",(function(e){return new Sr(e)}),"PRIVATE")),Lr(new Kn("heartbeat",(function(e){return new ai(e)}),"PRIVATE")),Wr(Ar,_r,si),Wr(Ar,_r,"esm2017"),Wr("fire-js","");var hi=function(){function e(t,n){var r=this;Ue(this,e),this._delegate=t,this.firebase=n,Rr(t,new Kn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Be(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Hr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Rr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Pr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),di=(rn(ci={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),rn(ci,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ci),pi=new Dn("app-compat","Firebase",di);var vi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ln(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Wr,setLogLevel:Jr,onLog:Yr,apps:null,SDK_VERSION:zr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Lr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw pi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&kn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ln(n,e=e||Cr))throw pi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(hi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){kn(n,e)},createSubscribe:Vn,ErrorFactory:Dn,deepExtend:kn}),n}(),yi=new ir("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){yi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var mi=self.firebase.SDK_VERSION;mi&&mi.indexOf("LITE")>=0&&yi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gi=vi;!function(e){Wr("@firebase/app-compat","0.1.38",e)}();function ki(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cn(e)););return e}function bi(){return bi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ki(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},bi.apply(this,arguments)}gi.registerVersion("firebase","9.13.0","app-compat");function wi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var xi;Object.create;var Ii="facebook.com",Ei="github.com",Si="google.com",Ai="password",_i="twitter.com",Ti="EMAIL_SIGNIN",Ci="PASSWORD_RESET",Ni="RECOVER_EMAIL",Oi="REVERT_SECOND_FACTOR_ADDITION",Di="VERIFY_AND_CHANGE_EMAIL",Ri="VERIFY_EMAIL";function Pi(){return rn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Li=function(){var e;return rn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),rn(e,"argument-error",""),rn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),rn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),rn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),rn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),rn(e,"cordova-not-ready","Cordova framework is not ready."),rn(e,"cors-unsupported","This browser is not supported."),rn(e,"credential-already-in-use","This credential is already associated with a different user account."),rn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),rn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),rn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),rn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),rn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),rn(e,"email-already-in-use","The email address is already in use by another account."),rn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),rn(e,"expired-action-code","The action code has expired."),rn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),rn(e,"internal-error","An internal AuthError has occurred."),rn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),rn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),rn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),rn(e,"invalid-auth-event","An internal AuthError has occurred."),rn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),rn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),rn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),rn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),rn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),rn(e,"invalid-email","The email address is badly formatted."),rn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),rn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),rn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),rn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),rn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),rn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),rn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),rn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),rn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),rn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),rn(e,"wrong-password","The password is invalid or the user does not have a password."),rn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),rn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),rn(e,"invalid-provider-id","The specified provider ID is invalid."),rn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),rn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),rn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),rn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),rn(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),rn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),rn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),rn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),rn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),rn(e,"missing-continue-uri","A continue URL must be provided in the request."),rn(e,"missing-iframe-start","An internal AuthError has occurred."),rn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),rn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),rn(e,"missing-multi-factor-info","No second factor identifier is provided."),rn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),rn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),rn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),rn(e,"app-deleted","This instance of FirebaseApp has been deleted."),rn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),rn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),rn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),rn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),rn(e,"no-auth-event","An internal AuthError has occurred."),rn(e,"no-such-provider","User was not linked to an account with the given provider."),rn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),rn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),rn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),rn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),rn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),rn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),rn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),rn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),rn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),rn(e,"rejected-credential","The request contains malformed or mismatching credentials."),rn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),rn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),rn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),rn(e,"timeout","The operation has timed out."),rn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),rn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),rn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),rn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),rn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),rn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),rn(e,"unverified-email","The operation requires a verified email."),rn(e,"user-cancelled","The user did not grant your application the permissions it requested."),rn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),rn(e,"user-disabled","The user account has been disabled by an administrator."),rn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),rn(e,"user-signed-out",""),rn(e,"weak-password","The password must be 6 characters long or more."),rn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),rn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Mi=Pi,Fi=new Dn("auth","Firebase",Pi()),Ui=new ir("@firebase/auth");function ji(e){if(Ui.logLevel<=Xn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ui.error.apply(Ui,["Auth (".concat(zr,"): ").concat(e)].concat(n))}}function Bi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Qi.apply(void 0,[e].concat(n))}function Vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qi.apply(void 0,[e].concat(n))}function zi(e,t,n){var r=Object.assign(Object.assign({},Mi()),rn({},t,n));return new Dn("auth","Firebase",r).create(t,{appName:e.name})}function qi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Bi(e,"argument-error"),zi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Qi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Hn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Hn(o)))}return Fi.create.apply(Fi,[e].concat(n))}function Gi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Qi.apply(void 0,[t].concat(r))}}function Hi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ji(t),new Error(t)}function Ki(e,t){e||Hi(t)}var Wi=new Map;function Yi(e){Ki(e instanceof Function,"Expected a class definition");var t=Wi.get(e);return t?(Ki(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wi.set(e,t),t)}function Ji(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xi(){return"http:"===Zi()||"https:"===Zi()}function Zi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var $i=function(){function e(t,n){Ue(this,e),this.shortDelay=t,this.longDelay=n,Ki(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())||In()}return Be(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xi()||xn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ea(e,t){Ki(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ta=function(){function e(){Ue(this,e)}return Be(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),na=(rn(xi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),rn(xi,"MISSING_CUSTOM_TOKEN","internal-error"),rn(xi,"INVALID_IDENTIFIER","invalid-email"),rn(xi,"MISSING_CONTINUE_URI","internal-error"),rn(xi,"INVALID_PASSWORD","wrong-password"),rn(xi,"MISSING_PASSWORD","internal-error"),rn(xi,"EMAIL_EXISTS","email-already-in-use"),rn(xi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),rn(xi,"INVALID_IDP_RESPONSE","invalid-credential"),rn(xi,"INVALID_PENDING_TOKEN","invalid-credential"),rn(xi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),rn(xi,"MISSING_REQ_TYPE","internal-error"),rn(xi,"EMAIL_NOT_FOUND","user-not-found"),rn(xi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),rn(xi,"EXPIRED_OOB_CODE","expired-action-code"),rn(xi,"INVALID_OOB_CODE","invalid-action-code"),rn(xi,"MISSING_OOB_CODE","internal-error"),rn(xi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),rn(xi,"INVALID_ID_TOKEN","invalid-user-token"),rn(xi,"TOKEN_EXPIRED","user-token-expired"),rn(xi,"USER_NOT_FOUND","user-token-expired"),rn(xi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),rn(xi,"INVALID_CODE","invalid-verification-code"),rn(xi,"INVALID_SESSION_INFO","invalid-verification-id"),rn(xi,"INVALID_TEMPORARY_PROOF","invalid-credential"),rn(xi,"MISSING_SESSION_INFO","missing-verification-id"),rn(xi,"SESSION_EXPIRED","code-expired"),rn(xi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),rn(xi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),rn(xi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),rn(xi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),rn(xi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),rn(xi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),rn(xi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),rn(xi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),rn(xi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),rn(xi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),rn(xi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),xi),ra=new $i(3e4,6e4);function ia(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function aa(e,t,n,r){return oa.apply(this,arguments)}function oa(){return oa=ie(ne().mark((function e(t,n,r,i){var a,o=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ua(t,a,ie(ne().mark((function e(){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Un(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ta.fetch()(fa(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function ua(e,t,n){return sa.apply(this,arguments)}function sa(){return sa=ie(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},na),n),e.prev=2,a=new ha(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw da(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=ce(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw da(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw da(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw da(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw zi(t,d,h);case 34:Bi(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof On)){e.next=41;break}throw e.t0;case 41:Bi(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),sa.apply(this,arguments)}function ca(e,t,n,r){return la.apply(this,arguments)}function la(){return la=ie(ne().mark((function e(t,n,r,i){var a,o,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,aa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Bi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ea(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ha=function(){function e(t){var n=this;Ue(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Vi(n.auth,"network-request-failed"))}),ra.get())}))}return Be(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function da(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Vi(e,t,r);return i.customData._tokenResponse=n,i}function pa(e,t){return va.apply(this,arguments)}function va(){return va=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ya(e,t){return ma.apply(this,arguments)}function ma(){return ma=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ga(e,t){return ka.apply(this,arguments)}function ka(){return ka=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function wa(){return wa=ie(ne().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Qn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Gi((a=Ia(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ba(xa(a.auth_time)),issuedAtTime:ba(xa(a.iat)),expirationTime:ba(xa(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function xa(e){return 1e3*Number(e)}function Ia(e){var t,n=ce(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return ji("JWT malformed, contained fewer than 3 sections"),null;try{var o=gn(i);return o?JSON.parse(o):(ji("Failed to decode base64 JWT payload"),null)}catch(u){return ji("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Ea(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=ie(ne().mark((function e(t,n){var r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof On&&Aa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Sa.apply(this,arguments)}function Aa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _a=function(){function e(t){Ue(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Be(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ie(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ta=function(){function e(t,n){Ue(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Be(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ca(e){return Na.apply(this,arguments)}function Na(){return Na=ie(ne().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ea(t,ga(r,{idToken:i}));case 6:Gi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ra(o.providerUserInfo):[],s=Da(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ta(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Oa(){return(Oa=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn(t),e.next=3,Ca(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Da(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Hn(n),Hn(t))}function Ra(e){return e.map((function(e){var t=e.providerId,n=wi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Pa(e,t){return La.apply(this,arguments)}function La(){return La=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua(t,{},ie(ne().mark((function e(){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Un({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=fa(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ta.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}var Ma=function(){function e(){Ue(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Be(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Gi(e.idToken,"internal-error"),Gi("undefined"!==typeof e.idToken,"internal-error"),Gi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ia(e);return Gi(t,"internal-error"),Gi("undefined"!==typeof t.exp,"internal-error"),Gi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ie(ne().mark((function e(t){var n,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Gi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ie(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Hi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Gi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Gi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Gi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Fa(e,t){Gi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ua=function(){function e(t){Ue(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=wi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _a(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Hn(a.providerData):[],this.metadata=new Ta(a.createdAt||void 0,a.lastLoginAt||void 0)}return Be(e,[{key:"getIdToken",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Gi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return wa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Oa.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Gi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Gi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ie(ne().mark((function e(t){var n,r,i=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ca(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ea(this,pa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;Gi(k&&I,t,"internal-error");var E=Ma.fromJSON(this.name,I);Gi("string"===typeof k,t,"internal-error"),Fa(f,t.name),Fa(h,t.name),Gi("boolean"===typeof b,t,"internal-error"),Gi("boolean"===typeof w,t,"internal-error"),Fa(d,t.name),Fa(p,t.name),Fa(v,t.name),Fa(y,t.name),Fa(m,t.name),Fa(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=ie(ne().mark((function t(n,r){var i,a,o,u=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ma).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ca(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ja=function(){function e(){Ue(this,e),this.type="NONE",this.storage={}}return Be(e,[{key:"_isAvailable",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ja.type="NONE";var Ba=ja;function Va(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var za=function(){function e(t,n,r){Ue(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Va(this.userKey,a.apiKey,o),this.fullPersistenceKey=Va("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Be(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ua._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ie(ne().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Yi(Ba),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Yi(Ba),u=Va(i,n.config.apiKey,n.name),s=null,c=an(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ua._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ka(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ya(t))return"Blackberry";if(Ja(t))return"Webos";if(Ga(t))return"Safari";if((t.includes("chrome/")||Ha(t))&&!t.includes("edge/"))return"Chrome";if(Wa(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/firefox\//i.test(e)}function Ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/crios\//i.test(e)}function Ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/iemobile/i.test(e)}function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/android/i.test(e)}function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/blackberry/i.test(e)}function Ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/webos/i.test(e)}function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Za(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return Xa(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function $a(){return En()&&10===document.documentMode}function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return Xa(e)||Wa(e)||Ja(e)||Ya(e)||/windows phone/i.test(e)||Ka(e)}function to(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qa(bn());break;case"Worker":t="".concat(qa(bn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(zr,"/").concat(r)}var no=function(){function e(t){Ue(this,e),this.auth=t,this.queue=[]}return Be(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ie(ne().mark((function e(t){var n,r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=an(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=an(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(nC){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ro=function(){function e(t,n,r){Ue(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ao(this),this.idTokenSubscription=new ao(this),this.beforeStateQueue=new no(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Be(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Yi(t)),this._initializationPromise=this.queue(ie(ne().mark((function r(){var i,a;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,za.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ie(ne().mark((function e(t){var n,r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Gi(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ca(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Qn(t):null)&&Gi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ie(ne().mark((function e(t){var n,r=this,i=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Gi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ie(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Yi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Dn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Gi(n=t&&Yi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,za.create(this,[Yi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ie(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Gi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Gi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=to(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ie(ne().mark((function e(){var t,n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function io(e){return Qn(e)}var ao=function(){function e(t){var n=this;Ue(this,e),this.auth=t,this.observer=null,this.addObserver=Vn((function(e){return n.observer=e}))}return Be(e,[{key:"next",get:function(){return Gi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function oo(e,t,n){var r=io(e);Gi(r._canInitEmulator,r,"emulator-config-failed"),Gi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=uo(t),o=function(e){var t=uo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:so(r.substr(a.length+1))}}var o=ce(r.split(":"),2);return{host:o[0],port:so(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function uo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function so(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var co=function(){function e(t,n){Ue(this,e),this.providerId=t,this.signInMethod=n}return Be(e,[{key:"toJSON",value:function(){return Hi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Hi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Hi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Hi("not implemented")}}]),e}();function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:resetPassword",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return po=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(e,t){return yo.apply(this,arguments)}function yo(){return yo=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:update",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function mo(e,t){return go.apply(this,arguments)}function go(){return go=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,"POST","/v1/accounts:signInWithPassword",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function ko(e,t){return bo.apply(this,arguments)}function bo(){return bo=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:sendOobCode",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(e,t){return xo.apply(this,arguments)}function xo(){return xo=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,n));case 1:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function Io(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,n));case 1:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function So(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,n));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function _o(e,t){return To.apply(this,arguments)}function To(){return To=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,n));case 1:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Co(e,t){return No.apply(this,arguments)}function No(){return No=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Oo(e,t){return Do.apply(this,arguments)}function Do(){return Do=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}var Ro=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ue(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Be(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",mo(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Co(t,{email:this._email,oobCode:this._password}));case 5:Bi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ho(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Oo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Bi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(co);function Po(e,t){return Lo.apply(this,arguments)}function Lo(){return Lo=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,"POST","/v1/accounts:signInWithIdp",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}var Mo=function(e){sn(n,e);var t=hn(n);function n(){var e;return Ue(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Be(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Po(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Po(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Po(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Un(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=wi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(co);function Fo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:sendVerificationCode",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function jo(){return jo=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,"POST","/v1/accounts:signInWithPhoneNumber",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Bo(){return Bo=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(t,"POST","/v1/accounts:signInWithPhoneNumber",ia(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw da(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}var Vo=rn({},"USER_NOT_FOUND","user-not-found");function zo(){return zo=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ca(t,"POST","/v1/accounts:signInWithPhoneNumber",ia(t,r),Vo));case 2:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}var qo=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Be(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return jo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Bo.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return zo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(co);var Qo=function(){function e(t){var n,r,i,a,o,u;Ue(this,e);var s=jn(Bn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Gi(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Be(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=jn(Bn(e)).link,n=t?jn(Bn(t)).deep_link_id:null,r=jn(Bn(e)).deep_link_id;return(r?jn(Bn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(KS){return null}}}]),e}();var Go=function(){function e(){Ue(this,e),this.providerId=e.PROVIDER_ID}return Be(e,null,[{key:"credential",value:function(e,t){return Ro._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Qo.parseLink(t);return Gi(n,"argument-error"),Ro._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Go.PROVIDER_ID="password",Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ho=function(){function e(t){Ue(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Be(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ko=function(e){sn(n,e);var t=hn(n);function n(){var e;return Ue(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Be(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Hn(this.scopes)}}]),n}(Ho),Wo=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Gi(e.idToken||e.accessToken,"argument-error"),Mo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Gi("providerId"in t&&"signInMethod"in t,"argument-error"),Mo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ko),Yo=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.call(this,"facebook.com")}return Be(n,null,[{key:"credential",value:function(e){return Mo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(KS){return null}}}]),n}(Ko);Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Yo.PROVIDER_ID="facebook.com";var Jo=function(e){sn(n,e);var t=hn(n);function n(){var e;return Ue(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Be(n,null,[{key:"credential",value:function(e,t){return Mo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(KS){return null}}}]),n}(Ko);Jo.GOOGLE_SIGN_IN_METHOD="google.com",Jo.PROVIDER_ID="google.com";var Xo=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.call(this,"github.com")}return Be(n,null,[{key:"credential",value:function(e){return Mo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(KS){return null}}}]),n}(Ko);Xo.GITHUB_SIGN_IN_METHOD="github.com",Xo.PROVIDER_ID="github.com";var Zo=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Be(n,[{key:"_getIdTokenResponse",value:function(e){return Po(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Po(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Po(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(co),$o=function(e){sn(n,e);var t=hn(n);function n(e){return Ue(this,n),Gi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Be(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Zo.fromJSON(e);return Gi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Zo._create(r,n)}catch(i){return null}}}]),n}(Ho),eu=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.call(this,"twitter.com")}return Be(n,null,[{key:"credential",value:function(e,t){return Mo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(KS){return null}}}]),n}(Ko);function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,"POST","/v1/accounts:signUp",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}eu.TWITTER_SIGN_IN_METHOD="twitter.com",eu.PROVIDER_ID="twitter.com";var ru=function(){function e(t){Ue(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Be(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ie(ne().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ua._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=iu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ie(ne().mark((function t(n,r,i){var a;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=iu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function iu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function au(){return au=ie(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=io(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ru({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,tu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ru._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}var ou=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a){var o,u;return Ue(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(on(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Be(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(On);function uu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ou._fromErrorAndOperation(e,n,t,r);throw n}))}function su(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=ie(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qn(t),e.next=3,du(!0,r,n);case 3:return e.t0=ya,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=su(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=ie(ne().mark((function e(t,n){var r,i,a=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ea,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ru._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t,n){return pu.apply(this,arguments)}function pu(){return(pu=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(n);case 2:i=su(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Gi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e,t){return yu.apply(this,arguments)}function yu(){return yu=ie(ne().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Ea(t,uu(a,o,n,t),r);case 6:return Gi((u=e.sent).idToken,a,"internal-error"),Gi(s=Ia(u.idToken),a,"internal-error"),c=s.sub,Gi(t.uid===c,a,"user-mismatch"),e.abrupt("return",ru._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Bi(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),yu.apply(this,arguments)}function mu(e,t){return gu.apply(this,arguments)}function gu(){return gu=ie(ne().mark((function e(t,n){var r,i,a,o,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,uu(t,i,n);case 4:return a=e.sent,e.next=7,ru._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mu(io(t),n));case 1:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(e,t){return xu.apply(this,arguments)}function xu(){return(xu=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qn(t),e.next=3,du(!1,r,n.providerId);case 3:return e.abrupt("return",fu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e,t){return Eu.apply(this,arguments)}function Eu(){return(Eu=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(Qn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Au.apply(this,arguments)}function Au(){return Au=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,"POST","/v1/accounts:signInWithCustomToken",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function _u(){return _u=ie(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=io(t),e.next=3,Su(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ru._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}var Tu=function(){function e(t,n){Ue(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Be(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Cu._fromServerResponse(e,t):Bi(e,"internal-error")}}]),e}(),Cu=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Be(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Tu);function Nu(e,t,n){var r;Gi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Gi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Gi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Gi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ou(){return Ou=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qn(t),a={requestType:"PASSWORD_RESET",email:n},r&&Nu(i,a,r),e.next=5,Io(i,a);case 5:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Du(){return Du=ie(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(Qn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}function Ru(){return Ru=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(Qn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Pu(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=ie(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qn(t),e.next=3,lo(r,{oobCode:n});case 3:i=e.sent,Gi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Gi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Gi(i.mfaInfo,r,"internal-error");case 13:Gi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Tu._fromServerResponse(io(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Mu(){return Mu=ie(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(Qn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Fu(e,t,n){return Uu.apply(this,arguments)}function Uu(){return Uu=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=io(t),e.next=3,tu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ru._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function ju(){return ju=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qn(t),a={requestType:"EMAIL_SIGNIN",email:n},Gi(r.handleCodeInApp,i,"argument-error"),r&&Nu(i,a,r),e.next=6,So(i,a);case 6:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Bu(){return Bu=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qn(t),Gi((a=Go.credentialWithLink(n,r||Ji()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ku(i,a));case 4:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}function Vu(e,t){return zu.apply(this,arguments)}function zu(){return zu=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:createAuthUri",ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function qu(){return qu=ie(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xi()?Ji():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Vu(Qn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}function Qu(){return(Qu=ie(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Nu(r.auth,a,n),e.next=8,wo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gu(){return(Gu=ie(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Nu(i.auth,o,r),e.next=8,_o(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Wu(){return(Wu=ie(ne().mark((function e(t,n){var r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Qn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ea(a,Hu(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return Ju=ie(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ea(t,ho(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}var Xu=Be((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ue(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Zu=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a){var o;return Ue(this,n),(o=t.call(this,e,r,i)).username=a,o}return Be(n)}(Xu),$u=function(e){sn(n,e);var t=hn(n);function n(e,r){return Ue(this,n),t.call(this,e,"facebook.com",r)}return Be(n)}(Xu),es=function(e){sn(n,e);var t=hn(n);function n(e,r){return Ue(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Be(n)}(Zu),ts=function(e){sn(n,e);var t=hn(n);function n(e,r){return Ue(this,n),t.call(this,e,"google.com",r)}return Be(n)}(Xu),ns=function(e){sn(n,e);var t=hn(n);function n(e,r,i){return Ue(this,n),t.call(this,e,"twitter.com",r,i)}return Be(n)}(Zu);function rs(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ia(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Xu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new $u(a,i);case"github.com":return new es(a,i);case"google.com":return new ts(a,i);case"twitter.com":return new ns(a,i,e.screenName||null);case"custom":case"anonymous":return new Xu(a,null);default:return new Xu(a,r,i)}}(n)}var is=function(){function e(t,n,r){Ue(this,e),this.type=t,this.credential=n,this.auth=r}return Be(e,[{key:"toJSON",value:function(){return{multiFactorSession:rn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),as=function(){function e(t,n,r){Ue(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Be(e,[{key:"resolveSignIn",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=io(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Tu._fromServerResponse(r,e)}));Gi(i.mfaPendingCredential,r,"internal-error");var o=is._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ie(ne().mark((function e(t){var a,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ru._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Gi(n.user,r,"internal-error"),e.abrupt("return",ru._forOperation(n.user,n.operationType,u));case 17:Bi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function os(e,t){return aa(e,"POST","/v2/accounts/mfaEnrollment:start",ia(e,t))}function us(e,t){return aa(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ia(e,t))}var ss=function(){function e(t){var n=this;Ue(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Tu._fromServerResponse(t.auth,e)})))}))}return Be(e,[{key:"getSession",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=is,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ie(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ea(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ie(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Ea(this.user,us(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),cs=new WeakMap;var ls="__sak",fs=function(){function e(t,n){Ue(this,e),this.storageRetriever=t,this.type=n}return Be(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch(KS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var hs=function(e){sn(n,e);var t=hn(n);function n(){var e;return Ue(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=bn();return Ga(e)||Xa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=eo(),e._shouldAllowMigration=!0,e}return Be(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);$a()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ie(ne().mark((function e(t,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(cn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ie(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(cn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(cn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(fs);hs.type="LOCAL";var ds=hs,ps=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Be(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(fs);ps.type="SESSION";var vs=ps;function ys(e){return Promise.all(e.map(function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ms=function(){function e(t){Ue(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Be(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ie(ne().mark((function e(t){var n,r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ys(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function gs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ms.receivers=[];var ks=function(){function e(t){Ue(this,e),this.target=t,this.handlers=new Set}return Be(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ie(ne().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=gs("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function bs(){return window}function ws(){return"undefined"!==typeof bs().WorkerGlobalScope&&"function"===typeof bs().importScripts}function xs(){return Is.apply(this,arguments)}function Is(){return(Is=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Es(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ss="firebaseLocalStorageDb",As="firebaseLocalStorage",_s="fbase_key",Ts=function(){function e(t){Ue(this,e),this.request=t}return Be(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Cs(e,t){return e.transaction([As],t?"readwrite":"readonly").objectStore(As)}function Ns(){var e=indexedDB.deleteDatabase(Ss);return new Ts(e).toPromise()}function Os(){var e=indexedDB.open(Ss,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(As,{keyPath:_s})}catch(r){n(r)}})),e.addEventListener("success",ie(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(As)){n.next=12;break}return r.close(),n.next=5,Ns();case 5:return n.t0=t,n.next=8,Os();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ds(e,t,n){return Rs.apply(this,arguments)}function Rs(){return Rs=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cs(t,!0).put((rn(i={},_s,n),rn(i,"value",r),i)),e.abrupt("return",new Ts(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ps(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=ie(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t,!1).get(n),e.next=3,new Ts(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ms(e,t){var n=Cs(e,!0).delete(t);return new Ts(n).toPromise()}var Fs=function(){function e(){Ue(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Be(e,[{key:"_openDb",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Os();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ws()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ie(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ms._getInstance(ws()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ie(ne().mark((function e(n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ie(ne().mark((function e(){var t,n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ks(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Es()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Os();case 5:return t=e.sent,e.next=8,Ds(t,ls,"1");case 8:return e.next=10,Ms(t,ls);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ie(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ds(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ps(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ie(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ms(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ie(ne().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Cs(e,!1).getAll();return new Ts(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=an(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ie(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Fs.type="LOCAL";var Us=Fs;function js(e,t){return aa(e,"POST","/v2/accounts/mfaSignIn:start",ia(e,t))}function Bs(e){return Vs.apply(this,arguments)}function Vs(){return Vs=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function zs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Vi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Qs=1e12,Gs=function(){function e(t){Ue(this,e),this.auth=t,this.counter=Qs,this._widgets=new Map}return Be(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Hs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Qs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Qs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Qs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Hs=function(){function e(t,n,r){var i=this;Ue(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Gi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Be(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ks=qs("rcb"),Ws=new $i(3e4,6e4),Ys="https://www.google.com/recaptcha/api.js?",Js=function(){function e(){var t;Ue(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=bs().grecaptcha)||void 0===t?void 0:t.render)}return Be(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gi(Xs(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(bs().grecaptcha):new Promise((function(r,i){var a=bs().setTimeout((function(){i(Vi(e,"network-request-failed"))}),Ws.get());bs()[Ks]=function(){bs().clearTimeout(a),delete bs()[Ks];var o=bs().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Vi(e,"internal-error"))},zs("".concat(Ys,"?").concat(Un({onload:Ks,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Vi(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=bs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Xs(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Zs=function(){function e(){Ue(this,e)}return Be(e,[{key:"load",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Gs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),$s="recaptcha",ec={theme:"light",type:"image"},tc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ec),r=arguments.length>2?arguments[2]:void 0;Ue(this,e),this.parameters=n,this.type=$s,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=io(r),this.isInvisible="invisible"===this.parameters.size,Gi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Gi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zs:new Js,this.validateStartingState()}return Be(e,[{key:"verify",value:function(){var e=ie(ne().mark((function e(){var t,n,r,i=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Gi(!this.parameters.sitekey,this.auth,"argument-error"),Gi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Gi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=bs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Gi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ie(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gi(Xi()&&!ws(),this.auth,"internal-error"),e.next=3,nc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Bs(this.auth);case 8:Gi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Gi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function nc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var rc=function(){function e(t,n){Ue(this,e),this.verificationId=t,this.onConfirmation=n}return Be(e,[{key:"confirm",value:function(e){var t=qo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ic(){return ic=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=io(t),e.next=3,sc(i,n,Qn(r));case 3:return a=e.sent,e.abrupt("return",new rc(a,(function(e){return ku(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t,n){return oc.apply(this,arguments)}function oc(){return(oc=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qn(t),e.next=3,du(!1,i,"phone");case 3:return e.next=5,sc(i.auth,n,Qn(r));case 5:return a=e.sent,e.abrupt("return",new rc(a,(function(e){return wu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(){return(uc=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qn(t),e.next=3,sc(i.auth,n,Qn(r));case 3:return a=e.sent,e.abrupt("return",new rc(a,(function(e){return Iu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t,n){return cc.apply(this,arguments)}function cc(){return cc=ie(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Gi("string"===typeof a,t,"argument-error"),Gi(r.type===$s,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Gi("enroll"===u.type,t,"internal-error"),e.next=13,os(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Gi("signin"===u.type,t,"internal-error"),Gi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,js(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Fo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),cc.apply(this,arguments)}function lc(){return(lc=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fu(Qn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fc=function(){function e(t){Ue(this,e),this.providerId=e.PROVIDER_ID,this.auth=io(t)}return Be(e,[{key:"verifyPhoneNumber",value:function(e,t){return sc(this.auth,e,Qn(t))}}],[{key:"credential",value:function(e,t){return qo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?qo._fromTokenResponse(n,r):null}}]),e}();function hc(e,t){return t?Yi(t):(Gi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fc.PROVIDER_ID="phone",fc.PHONE_SIGN_IN_METHOD="phone";var dc=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Be(n,[{key:"_getIdTokenResponse",value:function(e){return Po(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Po(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Po(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(co);function pc(e){return mu(e.auth,new dc(e),e.bypassAuthState)}function vc(e){var t=e.auth,n=e.user;return Gi(n,t,"internal-error"),vu(n,new dc(e),e.bypassAuthState)}function yc(e){return mc.apply(this,arguments)}function mc(){return mc=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Gi(r=t.user,n,"internal-error"),e.abrupt("return",fu(r,new dc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}var gc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ue(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Be(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ie(ne().mark((function t(n,r){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ie(ne().mark((function e(t){var n,r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pc;case"linkViaPopup":case"linkViaRedirect":return yc;case"reauthViaPopup":case"reauthViaRedirect":return vc;default:Bi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),kc=new $i(2e3,1e4);function bc(e,t,n){return wc.apply(this,arguments)}function wc(){return wc=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=io(t),qi(t,n,Ho),a=hc(i,r),o=new Sc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(){return(xc=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qi((i=Qn(t)).auth,n,Ho),a=hc(i.auth,r),o=new Sc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t,n){return Ec.apply(this,arguments)}function Ec(){return(Ec=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qi((i=Qn(t)).auth,n,Ho),a=hc(i.auth,r),o=new Sc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sc=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a,o){var u;return Ue(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=on(u),u}return Be(n,[{key:"executeNotNull",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Gi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ie(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ki(1===this.filter.length,"Popup operations only handle one event"),t=gs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Vi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Vi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Vi(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,kc.get())}()}}]),n}(gc);Sc.currentPopupAction=null;var Ac=new Map,_c=function(e){sn(n,e);var t=hn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ue(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Be(n,[{key:"execute",value:function(){var e=ie(ne().mark((function e(){var t,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ac.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Tc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,bi(cn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ac.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ac.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ie(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",bi(cn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",bi(cn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(gc);function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=ie(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pc(n),i=Rc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Nc(e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t)._set(Pc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Dc(e,t){Ac.set(e._key(),t)}function Rc(e){return Yi(e._redirectPersistence)}function Pc(e){return Va("pendingRedirect",e.config.apiKey,e.name)}function Lc(e,t,n){return function(e,t,n){return Mc.apply(this,arguments)}(e,t,n)}function Mc(){return Mc=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=io(t),qi(t,n,Ho),a=hc(i,r),e.next=5,Nc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e,t,n){return function(e,t,n){return Uc.apply(this,arguments)}(e,t,n)}function Uc(){return(Uc=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qi((i=Qn(t)).auth,n,Ho),a=hc(i.auth,r),e.next=5,Nc(a,i.auth);case 5:return e.next=7,Gc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e,t,n){return function(e,t,n){return Bc.apply(this,arguments)}(e,t,n)}function Bc(){return(Bc=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qi((i=Qn(t)).auth,n,Ho),a=hc(i.auth,r),e.next=5,du(!1,i,n.providerId);case 5:return e.next=7,Nc(a,i.auth);case 7:return e.next=9,Gc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(e,t){return zc.apply(this,arguments)}function zc(){return zc=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(t)._initializationPromise;case 2:return e.abrupt("return",qc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function qc(e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=ie(ne().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=io(t),a=hc(i,n),o=new _c(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function Gc(e){return Hc.apply(this,arguments)}function Hc(){return(Hc=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kc=function(){function e(t){Ue(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Be(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Yc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Wc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Wc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Yc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Jc(e){return Xc.apply(this,arguments)}function Xc(){return Xc=ie(ne().mark((function e(t){var n,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",aa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}var Zc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$c=/^https?/;function el(){return el=ie(ne().mark((function e(t){var n,r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Jc(t);case 4:n=e.sent,r=n.authorizedDomains,i=an(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!tl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Bi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),el.apply(this,arguments)}function tl(e){var t=Ji(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!$c.test(r))return!1;if(Zc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var nl=new $i(3e4,6e4);function rl(){var e=bs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Hn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var il=null;function al(e){return il=il||function(e){return new Promise((function(t,n){var r,i,a;function o(){rl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){rl(),n(Vi(e,"network-request-failed"))},timeout:nl.get()})}if(null===(i=null===(r=bs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=bs().gapi)||void 0===a?void 0:a.load)){var u=qs("iframefcb");return bs()[u]=function(){gapi.load?o():n(Vi(e,"network-request-failed"))},zs("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw il=null,e}))}(e),il}var ol=new $i(5e3,15e3),ul={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cl(e){var t=e.config;Gi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ea(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:zr},i=sl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Un(r).slice(1))}function ll(e){return fl.apply(this,arguments)}function fl(){return fl=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(t);case 2:return n=e.sent,Gi(r=bs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:cl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ul,dontclear:!0},(function(e){return new Promise(function(){var n=ie(ne().mark((function n(r,i){var a,o,u;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){bs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Vi(t,"network-request-failed"),o=bs().setTimeout((function(){i(a)}),ol.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}var hl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dl="_blank",pl="http://localhost",vl=function(){function e(t){Ue(this,e),this.window=t,this.associatedEvent=null}return Be(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function yl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},hl),{width:r.toString(),height:i.toString(),top:a,left:o}),c=bn().toLowerCase();n&&(u=Ha(c)?dl:n),Qa(c)&&(t=t||pl,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=ce(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Za(c)&&"_self"!==u)return ml(t||"",u),new vl(null);var f=window.open(t||"",u,l);Gi(f,e,"popup-blocked");try{f.focus()}catch(h){}return new vl(f)}function ml(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var gl="__/auth/handler",kl="emulator/auth/handler";function bl(e,t,n,r,i,a){Gi(e.config.authDomain,e,"auth-domain-config-required"),Gi(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zr,eventId:i};if(t instanceof Ho){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=ce(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Ko){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(gl);return ea(t,kl)}(e),"?").concat(Un(d).slice(1))}var wl="webStorageSupport",xl=function(){function e(){Ue(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=qc,this._overrideRedirectResult=Dc}return Be(e,[{key:"_openPopup",value:function(){var e=ie(ne().mark((function e(t,n,r,i){var a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ki(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=bl(t,n,r,Ji(),i),e.abrupt("return",yl(t,o,gs()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ie(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=bl(t,n,r,Ji(),i),bs().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ki(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(t);case 2:return n=e.sent,r=new Kc(t),n.register("authEvent",(function(e){return Gi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(wl,{type:wl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Bi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return el.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return eo()||Ga()||Xa()}}]),e}(),Il=xl,El=function(){function e(t){Ue(this,e),this.factorId=t}return Be(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Hi("unexpected MultiFactorSessionType")}}}]),e}(),Sl=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this,"phone")).credential=e,r}return Be(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return aa(e,"POST","/v2/accounts/mfaEnrollment:finalize",ia(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return aa(e,"POST","/v2/accounts/mfaSignIn:finalize",ia(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(El),Al=function(){function e(){Ue(this,e)}return Be(e,null,[{key:"assertion",value:function(e){return Sl._fromCredential(e)}}]),e}();Al.FACTOR_ID="phone";var _l="@firebase/auth",Tl="0.20.11",Cl=function(){function e(t){Ue(this,e),this.auth=t,this.internalListeners=new Map}return Be(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Gi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Nl;!function(e){var t;null===(t=_n())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Ol(){return window}Nl="Browser",Lr(new Kn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Gi(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Gi(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Nl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:to(Nl)},i=new ro(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Lr(new Kn("auth-internal",(function(e){return function(e){return new Cl(e)}(io(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(_l,Tl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Nl)),Wr(_l,Tl,"esm2017");function Dl(e,t,n){return Rl.apply(this,arguments)}function Rl(){return Rl=ie(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ol(),o=a.BuildInfo,Ki(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,jl(n.sessionId);case 4:return u=e.sent,s={},Xa()?s.ibi=o.packageName:Wa()?s.apn=o.packageName:Bi(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",bl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}function Pl(){return Pl=ie(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ol(),r=n.BuildInfo,i={},Xa()?i.iosBundleId=r.packageName:Wa()?i.androidPackageName=r.packageName:Bi(t,"operation-not-supported-in-this-environment"),e.next=5,Jc(t,i);case 5:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Ll(e){var t=Ol().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ml(e,t,n){return Fl.apply(this,arguments)}function Fl(){return Fl=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ol(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Vi(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Wa()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Fl.apply(this,arguments)}function Ul(e){var t,n,r,i,a,o,u,s,c,l,f=Ol();Gi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Gi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Gi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gi("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function jl(e){return Bl.apply(this,arguments)}function Bl(){return(Bl=ie(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(e){if(Ki(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var zl=function(e){sn(n,e);var t=hn(n);function n(){var e;return Ue(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Be(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),bi(cn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Kc);function ql(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Wl(),postBody:null,tenantId:e.tenantId,error:Vi(e,"no-auth-event")}}function Ql(e,t){return Yl()._set(Jl(e),t)}function Gl(e){return Hl.apply(this,arguments)}function Hl(){return Hl=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yl()._get(Jl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Yl()._remove(Jl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Kl(e,t){var n,r,i=function(e){var t=Xl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Xl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Xl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Xl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Vi(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Wl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Yl(){return Yi(ds)}function Jl(e){return Va("authEvent",e.config.apiKey,e.name)}function Xl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=ae(t=n)||Gn(t)||ue(t)||se();r[0];return jn(r.slice(1).join("?"))}var Zl=function(){function e(){Ue(this,e),this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qc,this._overrideRedirectResult=Dc}return Be(e,[{key:"_initialize",value:function(){var e=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new zl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Bi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ie(ne().mark((function e(t,n,r,i){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ul(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ac.clear(),e.next=10,this._originValidation(t);case 10:return o=ql(t,r,i),e.next=13,Ql(t,o);case 13:return e.next=15,Dl(t,o,n);case 15:return u=e.sent,e.next=18,Ll(u);case 18:return s=e.sent,e.abrupt("return",Ml(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Pl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ol(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ie(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Gl(e);case 2:t.onEvent(ef());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ie(ne().mark((function n(r){var i,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Gl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Kl(i,r.url)),t.onEvent(a||ef());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Ol().handleOpenURL=function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),$l=Zl;function ef(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vi("no-auth-event")}}function tf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function nf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return!("file:"!==tf()&&"ionic:"!==tf()&&"capacitor:"!==tf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function rf(){return En()&&11===(null===document||void 0===document?void 0:document.documentMode)}function af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/Edge\/\d+/.test(e)}function of(){try{var e=self.localStorage,t=gs();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return rf()||af(e)}()||Sn()}catch(n){return uf()&&Sn()}return!1}function uf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function sf(){return("http:"===tf()||"https:"===tf()||xn()||nf())&&!(In()||wn())&&of()&&!uf()}function cf(){return nf()&&"undefined"!==typeof document}function lf(){return ff.apply(this,arguments)}function ff(){return(ff=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hf={LOCAL:"local",NONE:"none",SESSION:"session"},df=Gi,pf="persistence";function vf(e,t){df(Object.values(hf).includes(t),e,"invalid-persistence-type"),In()?df(t!==hf.SESSION,e,"unsupported-persistence-type"):wn()?df(t===hf.NONE,e,"unsupported-persistence-type"):uf()?df(t===hf.NONE||t===hf.LOCAL&&Sn(),e,"unsupported-persistence-type"):df(t===hf.NONE||of(),e,"unsupported-persistence-type")}function yf(e){return mf.apply(this,arguments)}function mf(){return mf=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gf(),r=Va(pf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function gf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var kf=Gi,bf=function(){function e(){Ue(this,e),this.browserResolver=Yi(Il),this.cordovaResolver=Yi($l),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=qc,this._overrideRedirectResult=Dc}return Be(e,[{key:"_initialize",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ie(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ie(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return cf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return kf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wf(e){return e.unwrap()}function xf(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new _f(e,function(e,t){var n,r=Qn(e),i=t;return Gi(t.customData.operationType,r,"argument-error"),Gi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),as._fromError(r,i)}(e,t));else if(i){var a=If(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function If(e){var t=(e instanceof On?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof On)&&"temporaryProof"in t&&"phoneNumber"in t)return fc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ai)return null;switch(r){case Si:n=Jo;break;case Ii:n=Yo;break;case Ei:n=Xo;break;case _i:n=eu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Zo._create(r,u):Mo._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Wo(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof On?n.credentialFromError(e):n.credentialFromResult(e)}function Ef(e,t){return t.catch((function(t){throw t instanceof On&&xf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,If(t)),additionalUserInfo:rs(e),user:Tf.getOrCreate(r)}}))}function Sf(e,t){return Af.apply(this,arguments)}function Af(){return Af=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ef(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}var _f=function(){function e(t,n){Ue(this,e),this.resolver=n,this.auth=t.wrapped()}return Be(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ef(wf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Tf=function(){function e(t){Ue(this,e),this._delegate=t,this.multiFactor=function(e){var t=Qn(e);return cs.has(t)||cs.set(t,ss._fromUser(t)),cs.get(t)}(t)}return Be(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ef(this.auth,wu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this.auth,ac(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ef(this.auth,Ic(this._delegate,t,bf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yf(io(this.auth));case 2:return e.abrupt("return",jc(this._delegate,t,bf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ef(this.auth,Iu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Sf(this.auth,function(e,t,n){return uc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ef(this.auth,function(e,t,n){return xc.apply(this,arguments)}(this._delegate,e,bf))}},{key:"reauthenticateWithRedirect",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yf(io(this.auth));case 2:return e.abrupt("return",Fc(this._delegate,t,bf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Qu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Yu(Qn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Yu(Qn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return lc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Wu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Gu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Tf.USER_MAP=new WeakMap;var Cf=Gi,Nf=function(){function e(t,n){if(Ue(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Cf(r,"invalid-api-key",{appName:t.name}),Cf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?bf:void 0;this._delegate=n.initialize({options:{persistence:Df(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Li),this.linkUnderlyingAuth()}return Be(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Tf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){oo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ru.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Pu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Du.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ef(this._delegate,Fu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return qu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Qo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cf(sf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vc(this._delegate,bf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ef(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){io(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Of(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Of(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ju.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ou.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vf(this._delegate,t),e.t0=t,e.next=e.t0===hf.SESSION?4:e.t0===hf.LOCAL?6:e.t0===hf.NONE?11:13;break;case 4:return n=vs,e.abrupt("break",14);case 6:return e.next=8,Yi(Us)._isAvailable();case 8:return r=e.sent,n=r?Us:ds,e.abrupt("break",14);case 11:return n=Ba,e.abrupt("break",14);case 13:return e.abrupt("return",Bi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ef(this._delegate,function(e){return au.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ef(this._delegate,ku(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ef(this._delegate,function(e,t){return _u.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ef(this._delegate,function(e,t,n){return ku(Qn(e),Go.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ef(this._delegate,function(e,t,n){return Bu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Sf(this._delegate,function(e,t,n){return ic.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cf(sf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ef(this._delegate,bc(this._delegate,t,bf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cf(sf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yf(this._delegate);case 3:return e.abrupt("return",Lc(this._delegate,t,bf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Mu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Of(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Tf.getOrCreate(e))},error:t,complete:n}}function Df(e,t){var n=function(e,t){var n=gf();if(!n)return[];var r=Va(pf,e,t);switch(n.getItem(r)){case hf.NONE:return[Ba];case hf.LOCAL:return[Us,vs];case hf.SESSION:return[vs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Us)||n.push(Us),"undefined"!==typeof window)for(var r=0,i=[ds,vs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ba)||n.push(Ba),n}Nf.Persistence=hf;var Rf=function(){function e(){Ue(this,e),this.providerId="phone",this._delegate=new fc(wf(gi.auth()))}return Be(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return fc.credential(e,t)}}]),e}();Rf.PHONE_SIGN_IN_METHOD=fc.PHONE_SIGN_IN_METHOD,Rf.PROVIDER_ID=fc.PROVIDER_ID;var Pf=Gi,Lf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gi.app();Ue(this,e),Pf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new tc(t,n,i.auth()),this.type=this._delegate.type}return Be(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Kn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Nf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ti,PASSWORD_RESET:Ci,RECOVER_EMAIL:Ni,REVERT_SECOND_FACTOR_ADDITION:Oi,VERIFY_AND_CHANGE_EMAIL:Di,VERIFY_EMAIL:Ri}},EmailAuthProvider:Go,FacebookAuthProvider:Yo,GithubAuthProvider:Xo,GoogleAuthProvider:Jo,OAuthProvider:Wo,SAMLAuthProvider:$o,PhoneAuthProvider:Rf,PhoneMultiFactorGenerator:Al,RecaptchaVerifier:Lf,TwitterAuthProvider:eu,Auth:Nf,AuthCredential:co,Error:On}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.24")}(gi);var Mf,Ff="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Uf={},jf=jf||{},Bf=Ff||self;function Vf(){}function zf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qf="closure_uid_"+(1e9*Math.random()>>>0),Gf=0;function Hf(e,t,n){return e.call.apply(e.bind,arguments)}function Kf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Wf(e,t,n){return(Wf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hf:Kf).apply(null,arguments)}function Yf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Jf(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Xf(){this.s=this.s,this.o=this.o}Xf.prototype.s=!1,Xf.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Qf)&&e[Qf]||(e[Qf]=++Gf)}(this)},Xf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function $f(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function eh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(zf(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function th(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}th.prototype.h=function(){this.defaultPrevented=!0};var nh=function(){if(!Bf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Bf.addEventListener("test",Vf,t),Bf.removeEventListener("test",Vf,t)}catch(HT){}return e}();function rh(e){return/^[\s\xa0]*$/.test(e)}var ih=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ah(e,t){return e<t?-1:e>t?1:0}function oh(){var e=Bf.navigator;return e&&(e=e.userAgent)?e:""}function uh(e){return-1!=oh().indexOf(e)}function sh(e){return sh[" "](e),e}sh[" "]=Vf;var ch,lh=uh("Opera"),fh=uh("Trident")||uh("MSIE"),hh=uh("Edge"),dh=hh||fh,ph=uh("Gecko")&&!(-1!=oh().toLowerCase().indexOf("webkit")&&!uh("Edge"))&&!(uh("Trident")||uh("MSIE"))&&!uh("Edge"),vh=-1!=oh().toLowerCase().indexOf("webkit")&&!uh("Edge");function yh(){var e=Bf.document;return e?e.documentMode:void 0}e:{var mh="",gh=function(){var e=oh();return ph?/rv:([^\);]+)(\)|;)/.exec(e):hh?/Edge\/([\d\.]+)/.exec(e):fh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vh?/WebKit\/(\S+)/.exec(e):lh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gh&&(mh=gh?gh[1]:""),fh){var kh=yh();if(null!=kh&&kh>parseFloat(mh)){ch=String(kh);break e}}ch=mh}var bh,wh={};function xh(){return function(e){var t=wh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ih(String(ch)).split("."),n=ih("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ah(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ah(0==a[2].length,0==o[2].length)||ah(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Bf.document&&fh){var Ih=yh();bh=Ih||(parseInt(ch,10)||void 0)}else bh=void 0;var Eh=bh;function Sh(e,t){if(th.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ph){e:{try{sh(t.nodeName);var i=!0;break e}catch(GT){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ah[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sh.X.h.call(this)}}Jf(Sh,th);var Ah={2:"touch",3:"pen",4:"mouse"};Sh.prototype.h=function(){Sh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _h="closure_listenable_"+(1e6*Math.random()|0),Th=0;function Ch(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Th,this.ba=this.ea=!1}function Nh(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Oh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Dh(e){var t={};for(var n in e)t[n]=e[n];return t}var Rh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ph(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Rh.length;a++)n=Rh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lh(e){this.src=e,this.g={},this.h=0}function Mh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Zf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Nh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Fh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Lh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Fh(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Ch(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Uh="closure_lm_"+(1e6*Math.random()|0),jh={};function Bh(e,t,n,r,i){if(r&&r.once)return zh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Bh(e,t[a],n,r,i);return null}return n=Yh(n),e&&e[_h]?e.N(t,n,qf(r)?!!r.capture:!!r,i):Vh(e,t,n,!1,r,i)}function Vh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=qf(i)?!!i.capture:!!i,u=Kh(e);if(u||(e[Uh]=u=new Lh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Hh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Gh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)zh(e,t[a],n,r,i);return null}return n=Yh(n),e&&e[_h]?e.O(t,n,qf(r)?!!r.capture:!!r,i):Vh(e,t,n,!0,r,i)}function qh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)qh(e,t[a],n,r,i);else r=qf(r)?!!r.capture:!!r,n=Yh(n),e&&e[_h]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Fh(a=e.g[t],n,r,i))&&(Nh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Kh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fh(t,n,r,i)),(n=-1<e?t[e]:null)&&Qh(n))}function Qh(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[_h])Mh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Gh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kh(t))?(Mh(n,e),0==n.h&&(n.src=null,t[Uh]=null)):Nh(e)}}}function Gh(e){return e in jh?jh[e]:jh[e]="on"+e}function Hh(e,t){if(e.ba)e=!0;else{t=new Sh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Qh(e),e=n.call(r,t)}return e}function Kh(e){return(e=e[Uh])instanceof Lh?e:null}var Wh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yh(e){return"function"===typeof e?e:(e[Wh]||(e[Wh]=function(t){return e.handleEvent(t)}),e[Wh])}function Jh(){Xf.call(this),this.i=new Lh(this),this.P=this,this.I=null}function Xh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new th(t,e);else if(t instanceof th)t.target=t.target||e;else{var i=t;Ph(t=new th(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Zh(o,r,!0,t)&&i}if(i=Zh(o=t.g=e,r,!0,t)&&i,i=Zh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Zh(o=t.g=n[a],r,!1,t)&&i}function Zh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Mh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Jf(Jh,Xf),Jh.prototype[_h]=!0,Jh.prototype.removeEventListener=function(e,t,n,r){qh(this,e,t,n,r)},Jh.prototype.M=function(){if(Jh.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nh(n[r]);delete t.g[e],t.h--}}this.I=null},Jh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Jh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var $h=Bf.JSON.stringify;function ed(){var e=sd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var td,nd=function(){function e(){Ue(this,e),this.h=this.g=null}return Be(e,[{key:"add",value:function(e,t){var n=rd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),rd=new(function(){function e(t,n){Ue(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Be(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new id}),(function(e){return e.reset()})),id=function(){function e(){Ue(this,e),this.next=this.g=this.h=null}return Be(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ad(e){Bf.setTimeout((function(){throw e}),0)}function od(e,t){td||function(){var e=Bf.Promise.resolve(void 0);td=function(){e.then(cd)}}(),ud||(td(),ud=!0),sd.add(e,t)}var ud=!1,sd=new nd;function cd(){for(var e;e=ed();){try{e.h.call(e.g)}catch(HT){ad(HT)}var t=rd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ud=!1}function ld(e,t){Jh.call(this),this.h=e||1,this.g=t||Bf,this.j=Wf(this.lb,this),this.l=Date.now()}function fd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function hd(e,t,n){if("function"===typeof e)n&&(e=Wf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Wf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Bf.setTimeout(e,t||0)}function dd(e){e.g=hd((function(){e.g=null,e.i&&(e.i=!1,dd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Jf(ld,Jh),(Mf=ld.prototype).ca=!1,Mf.R=null,Mf.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Xh(this,"tick"),this.ca&&(fd(this),this.start()))}},Mf.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mf.M=function(){ld.X.M.call(this),fd(this),delete this.g};var pd=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Be(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:dd(this)}},{key:"M",value:function(){bi(cn(n.prototype),"M",this).call(this),this.g&&(Bf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Xf);function vd(e){Xf.call(this),this.h=e,this.g={}}Jf(vd,Xf);var yd=[];function md(e,t,n,r){Array.isArray(n)||(n&&(yd[0]=n.toString()),n=yd);for(var i=0;i<n.length;i++){var a=Bh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function gd(e){Oh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Qh(e)}),e),e.g={}}function kd(){this.g=!0}function bd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return $h(n)}catch(UT){return t}}(e,n)+(r?" "+r:"")}))}vd.prototype.M=function(){vd.X.M.call(this),gd(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kd.prototype.Aa=function(){this.g=!1},kd.prototype.info=function(){};var wd={},xd=null;function Id(){return xd=xd||new Jh}function Ed(e){th.call(this,wd.Pa,e)}function Sd(e){var t=Id();Xh(t,new Ed(t))}function Ad(e,t){th.call(this,wd.STAT_EVENT,e),this.stat=t}function _d(e){var t=Id();Xh(t,new Ad(t,e))}function Td(e,t){th.call(this,wd.Qa,e),this.size=t}function Cd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Bf.setTimeout((function(){e()}),t)}wd.Pa="serverreachability",Jf(Ed,th),wd.STAT_EVENT="statevent",Jf(Ad,th),wd.Qa="timingevent",Jf(Td,th);var Nd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Od={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Dd(){}function Rd(e){return e.h||(e.h=e.i())}function Pd(){}Dd.prototype.h=null;var Ld,Md={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Fd(){th.call(this,"d")}function Ud(){th.call(this,"c")}function jd(){}function Bd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new vd(this),this.O=zd,e=dh?125:void 0,this.T=new ld(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vd}function Vd(){this.i=null,this.g="",this.h=!1}Jf(Fd,th),Jf(Ud,th),Jf(jd,Dd),jd.prototype.g=function(){return new XMLHttpRequest},jd.prototype.i=function(){return{}},Ld=new jd;var zd=45e3,qd={},Qd={};function Gd(e,t,n){e.K=1,e.v=lp(ap(t)),e.s=n,e.P=!0,Hd(e,null)}function Hd(e,t){e.F=Date.now(),Jd(e),e.A=ap(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ip(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Vd,e.g=Iv(e.l,n?t:null,!e.s),0<e.N&&(e.L=new pd(Wf(e.La,e,e.g),e.N)),md(e.S,e.g,"readystatechange",e.ib),t=e.H?Dh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Sd(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Kd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Wd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Yd(e,n))==Qd){4==t&&(e.o=4,_d(14),i=!1),bd(e.j,e.m,null,"[Incomplete Response]");break}if(r==qd){e.o=4,_d(15),bd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}bd(e.j,e.m,r,null),tp(e,r)}Kd(e)&&r!=Qd&&r!=qd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,_d(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),vv(t),t.K=!0,_d(11))):(bd(e.j,e.m,n,"[Invalid Chunked Response]"),ep(e),$d(e))}function Yd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qd:(n=Number(t.substring(n,r)),isNaN(n)?qd:(r+=1)+n>t.length?Qd:(t=t.substr(r,n),e.C=r+n,t))}function Jd(e){e.V=Date.now()+e.O,Xd(e,e.O)}function Xd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Cd(Wf(e.gb,e),t)}function Zd(e){e.B&&(Bf.clearTimeout(e.B),e.B=null)}function $d(e){0==e.l.G||e.I||gv(e.l,e)}function ep(e){Zd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,fd(e.T),gd(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function tp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Np(n.h,e)))if(!e.J&&Np(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;mv(n),uv(n)}pv(n),_d(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Cd(Wf(n.cb,n),6e3));if(1>=Cp(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else bv(n,11)}else if((e.J||n.g==e)&&mv(n),!rh(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Op(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,cp(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=xv(r,r.H?r.ka:null,r.V),d.J){Dp(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Zd(p),Jd(p)),r.g=d}else dv(r);0<n.i.length&&cv(n)}else"stop"!=a[0]&&"close"!=a[0]||bv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?bv(n,7):ov(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Sd()}catch(a){}}function np(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Mf=Bd.prototype).setTimeout=function(e){this.O=e},Mf.ib=function(e){e=e.target;var t=this.L;t&&3==ev(e)?t.l():this.La(e)},Mf.La=function(e){try{if(e==this.g)e:{var t=ev(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||dh||this.g&&(this.h.h||this.g.fa()||tv(this.g)))){this.I||4!=t||7==n||Sd(),Zd(this);var r=this.g.aa();this.Y=r;t:if(Kd(this)){var i=tv(this.g);e="";var a=i.length,o=4==ev(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ep(this),$d(this);var u="";break t}this.h.i=new Bf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rh(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,_d(12),ep(this),$d(this);break e}bd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tp(this,r)}this.P?(Wd(this,t,u),dh&&this.i&&3==t&&(md(this.S,this.T,"tick",this.hb),this.T.start())):(bd(this.j,this.m,u,null),tp(this,u)),4==t&&ep(this),this.i&&!this.I&&(4==t?gv(this.l,this):(this.i=!1,Jd(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,_d(12)):(this.o=0,_d(13)),ep(this),$d(this)}}}catch(t){}},Mf.hb=function(){if(this.g){var e=ev(this.g),t=this.g.fa();this.C<t.length&&(Zd(this),Wd(this,e,t),this.i&&4!=e&&Jd(this))}},Mf.cancel=function(){this.I=!0,ep(this)},Mf.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Sd(),_d(17)),ep(this),this.o=2,$d(this)):Xd(this,this.V-e)};var rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ip(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ip){this.h=void 0!==t?t:e.h,op(this,e.j),this.s=e.s,this.g=e.g,up(this,e.m),this.l=e.l,t=e.i;var n=new kp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sp(this,n),this.o=e.o}else e&&(n=String(e).match(rp))?(this.h=!!t,op(this,n[1]||"",!0),this.s=fp(n[2]||""),this.g=fp(n[3]||"",!0),up(this,n[4]),this.l=fp(n[5]||"",!0),sp(this,n[6]||"",!0),this.o=fp(n[7]||"")):(this.h=!!t,this.i=new kp(null,this.h))}function ap(e){return new ip(e)}function op(e,t,n){e.j=n?fp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function up(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sp(e,t,n){t instanceof kp?(e.i=t,function(e,t){t&&!e.j&&(bp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wp(this,t),Ip(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=hp(t,mp)),e.i=new kp(t,e.h))}function cp(e,t,n){e.i.set(t,n)}function lp(e){return cp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,dp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ip.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hp(t,pp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hp(t,pp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(hp(n,"/"==n.charAt(0)?yp:vp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hp(n,gp)),e.join("")};var pp=/[#\/\?@]/g,vp=/[#\?:]/g,yp=/[#\?]/g,mp=/[#\?@]/g,gp=/#/g;function kp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wp(e,t){bp(e),t=Ep(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xp(e,t){return bp(e),t=Ep(e,t),e.g.has(t)}function Ip(e,t,n){wp(e,t),0<n.length&&(e.i=null,e.g.set(Ep(e,t),$f(n)),e.h+=n.length)}function Ep(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Mf=kp.prototype).add=function(e,t){bp(this),this.i=null,e=Ep(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Mf.forEach=function(e,t){bp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Mf.oa=function(){bp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Mf.W=function(e){bp(this);var t=[];if("string"===typeof e)xp(this,e)&&(t=t.concat(this.g.get(Ep(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Mf.set=function(e,t){return bp(this),this.i=null,xp(this,e=Ep(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Mf.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Mf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Sp=Be((function e(t,n){Ue(this,e),this.h=t,this.g=n}));function Ap(e){this.l=e||_p,Bf.PerformanceNavigationTiming?e=0<(e=Bf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Bf.g&&Bf.g.Ga&&Bf.g.Ga()&&Bf.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _p=10;function Tp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cp(e){return e.h?1:e.g?e.g.size:0}function Np(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Op(e,t){e.g?e.g.add(t):e.h=t}function Dp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=an(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return $f(e.i)}function Pp(){}function Lp(){this.g=new Pp}function Mp(e,t,n){var r=n||"";try{np(e,(function(e,n){var i=e;qf(e)&&(i=$h(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(GT){}}function Up(e){this.l=e.ac||null,this.j=e.jb||!1}function jp(e,t){Jh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Bp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ap.prototype.cancel=function(){if(this.i=Rp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=an(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Pp.prototype.stringify=function(e){return Bf.JSON.stringify(e,void 0)},Pp.prototype.parse=function(e){return Bf.JSON.parse(e,void 0)},Jf(Up,Dd),Up.prototype.g=function(){return new jp(this.l,this.j)},Up.prototype.i=function(e){return function(){return e}}({}),Jf(jp,Jh);var Bp=0;function Vp(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function zp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qp(e)}function qp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Mf=jp.prototype).open=function(e,t){if(this.readyState!=Bp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qp(this)},Mf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Bf).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Mf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zp(this)),this.readyState=Bp},Mf.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qp(this)),this.g&&(this.readyState=3,qp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Bf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vp(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Mf.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zp(this):qp(this),3==this.readyState&&Vp(this)}},Mf.Va=function(e){this.g&&(this.response=this.responseText=e,zp(this))},Mf.Ua=function(e){this.g&&(this.response=e,zp(this))},Mf.ga=function(){this.g&&zp(this)},Mf.setRequestHeader=function(e,t){this.v.append(e,t)},Mf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Mf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Qp=Bf.JSON.parse;function Gp(e){Jh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hp,this.K=this.L=!1}Jf(Gp,Jh);var Hp="",Kp=/^https?$/i,Wp=["POST","PUT"];function Yp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Jp(e),Zp(e)}function Jp(e){e.D||(e.D=!0,Xh(e,"complete"),Xh(e,"error"))}function Xp(e){if(e.h&&"undefined"!=typeof jf&&(!e.C[1]||4!=ev(e)||2!=e.aa()))if(e.v&&4==ev(e))hd(e.Ha,0,e);else if(Xh(e,"readystatechange"),4==ev(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(rp)[1]||null;if(!a&&Bf.self&&Bf.self.location){var o=Bf.self.location.protocol;a=o.substr(0,o.length-1)}i=!Kp.test(a?a.toLowerCase():"")}t=i}if(t)Xh(e,"complete"),Xh(e,"success");else{e.m=6;try{var u=2<ev(e)?e.g.statusText:""}catch(qT){u=""}e.j=u+" ["+e.aa()+"]",Jp(e)}}finally{Zp(e)}}}function Zp(e,t){if(e.g){$p(e);var n=e.g,r=e.C[0]?Vf:null;e.g=null,e.C=null,t||Xh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function $p(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Bf.clearTimeout(e.A),e.A=null)}function ev(e){return e.g?e.g.readyState:0}function tv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Hp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jv){return null}}function nv(e){var t="";return Oh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):cp(e,t,n))}function iv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function av(e){this.Ca=0,this.i=[],this.j=new kd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=iv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=iv("baseRetryDelayMs",5e3,e),this.bb=iv("retryDelaySeedMs",1e4,e),this.$a=iv("forwardChannelMaxRetries",2,e),this.ta=iv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Ap(e&&e.concurrentRequestLimit),this.Fa=new Lp,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ov(e){if(sv(e),3==e.G){var t=e.U++,n=ap(e.F);cp(n,"SID",e.I),cp(n,"RID",t),cp(n,"TYPE","terminate"),fv(e,n),(t=new Bd(e,e.j,t,void 0)).K=2,t.v=lp(ap(n)),n=!1,Bf.navigator&&Bf.navigator.sendBeacon&&(n=Bf.navigator.sendBeacon(t.v.toString(),"")),!n&&Bf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Iv(t.l,null),t.g.da(t.v)),t.F=Date.now(),Jd(t)}wv(e)}function uv(e){e.g&&(vv(e),e.g.cancel(),e.g=null)}function sv(e){uv(e),e.u&&(Bf.clearTimeout(e.u),e.u=null),mv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Bf.clearTimeout(e.m),e.m=null)}function cv(e){Tp(e.h)||e.m||(e.m=!0,od(e.Ja,e),e.C=0)}function lv(e,t){var n;n=t?t.m:e.U++;var r=ap(e.F);cp(r,"SID",e.I),cp(r,"RID",n),cp(r,"AID",e.T),fv(e,r),e.o&&e.s&&rv(r,e.o,e.s),n=new Bd(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=hv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Op(e.h,n),Gd(n,r,t)}function fv(e,t){e.ia&&Oh(e.ia,(function(e,n){cp(t,n,e)})),e.l&&np({},(function(e,n){cp(t,n,e)}))}function hv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Wf(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Mp(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function dv(e){e.g||e.u||(e.Z=1,od(e.Ia,e),e.A=0)}function pv(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Cd(Wf(e.Ia,e),kv(e,e.A)),e.A++,!0)}function vv(e){null!=e.B&&(Bf.clearTimeout(e.B),e.B=null)}function yv(e){e.g=new Bd(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=ap(e.sa);cp(t,"RID","rpc"),cp(t,"SID",e.I),cp(t,"CI",e.L?"0":"1"),cp(t,"AID",e.T),cp(t,"TYPE","xmlhttp"),fv(e,t),e.o&&e.s&&rv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=lp(ap(t)),n.s=null,n.P=!0,Hd(n,e)}function mv(e){null!=e.v&&(Bf.clearTimeout(e.v),e.v=null)}function gv(e,t){var n=null;if(e.g==t){mv(e),vv(e),e.g=null;var r=2}else{if(!Np(e.h,t))return;n=t.D,Dp(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Xh(r=Id(),new Td(r,n)),cv(e)}else dv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Cp(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Cd(Wf(e.Ja,e,t),kv(e,e.C)),e.C++,!0))}(e,t)||2==r&&pv(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:bv(e,5);break;case 4:bv(e,10);break;case 3:bv(e,6);break;default:bv(e,2)}}function kv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function bv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Wf(e.kb,e);n||(n=new ip("//www.google.com/images/cleardot.gif"),Bf.location&&"http"==Bf.location.protocol||op(n,"https"),lp(n)),function(e,t){var n=new kd;if(Bf.Image){var r=new Image;r.onload=Yf(Fp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yf(Fp,n,r,"TestLoadImage: error",!1,t),r.onabort=Yf(Fp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yf(Fp,n,r,"TestLoadImage: timeout",!1,t),Bf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else _d(2);e.G=0,e.l&&e.l.va(t),wv(e),sv(e)}function wv(e){if(e.G=0,e.la=[],e.l){var t=Rp(e.h);0==t.length&&0==e.i.length||(eh(e.la,t),eh(e.la,e.i),e.h.i.length=0,$f(e.i),e.i.length=0),e.l.ua()}}function xv(e,t,n){var r=n instanceof ip?ap(n):new ip(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),up(r,r.m);else{var i=Bf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ip(null,void 0);r&&op(a,r),t&&(a.g=t),i&&up(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&cp(r,n,t),cp(r,"VER",e.ma),fv(e,r),r}function Iv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Gp(new Up({jb:!0})):new Gp(e.ra)).Ka(e.H),t}function Ev(){}function Sv(){if(fh&&!(10<=Number(Eh)))throw Error("Environmental error: no available transport.")}function Av(e,t){Jh.call(this),this.g=new av(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!rh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cv(this)}function _v(e){Fd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tv(){Ud.call(this),this.status=1}function Cv(e){this.g=e}(Mf=Gp.prototype).Ka=function(e){this.L=e},Mf.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ld.g(),this.C=this.u?Rd(this.u):Rd(Ld),this.g.onreadystatechange=Wf(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Yp(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=an(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Bf.FormData&&e instanceof Bf.FormData,!(0<=Zf(Wp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=an(n);try{for(c.s();!(s=c.n()).done;){var l=ce(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$p(this),0<this.B&&((this.K=function(e){return fh&&xh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wf(this.qa,this)):this.A=hd(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Yp(this,u)}},Mf.qa=function(){"undefined"!=typeof jf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xh(this,"timeout"),this.abort(8))},Mf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xh(this,"complete"),Xh(this,"abort"),Zp(this))},Mf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zp(this,!0)),Gp.X.M.call(this)},Mf.Ha=function(){this.s||(this.F||this.v||this.l?Xp(this):this.fb())},Mf.fb=function(){Xp(this)},Mf.aa=function(){try{return 2<ev(this)?this.g.status:-1}catch(QT){return-1}},Mf.fa=function(){try{return this.g?this.g.responseText:""}catch(QT){return""}},Mf.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Qp(t)}},Mf.Ea=function(){return this.m},Mf.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Mf=av.prototype).ma=8,Mf.G=1,Mf.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Bd(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Ph(n=Dh(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hv(this,t,r),cp(i=ap(this.F),"RID",e),cp(i,"CVER",22),this.D&&cp(i,"X-HTTP-Session-Id",this.D),fv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(nv(n)))+"&"+r:this.o&&rv(i,this.o,n)),Op(this.h,t),this.Ya&&cp(i,"TYPE","init"),this.O?(cp(i,"$req",r),cp(i,"SID","null"),t.Z=!0,Gd(t,i,null)):Gd(t,i,r),this.G=2}}else 3==this.G&&(e?lv(this,e):0==this.i.length||Tp(this.h)||lv(this))},Mf.Ia=function(){if(this.u=null,yv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Cd(Wf(this.eb,this),e)}},Mf.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_d(10),uv(this),yv(this))},Mf.cb=function(){null!=this.v&&(this.v=null,uv(this),pv(this),_d(19))},Mf.kb=function(e){e?(this.j.info("Successfully pinged google.com"),_d(2)):(this.j.info("Failed to ping google.com"),_d(1))},(Mf=Ev.prototype).xa=function(){},Mf.wa=function(){},Mf.va=function(){},Mf.ua=function(){},Mf.Ra=function(){},Sv.prototype.g=function(e,t){return new Av(e,t)},Jf(Av,Jh),Av.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;_d(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=xv(e,null,e.V),cv(e)},Av.prototype.close=function(){ov(this.g)},Av.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=$h(e),e=n);t.i.push(new Sp(t.ab++,e)),3==t.G&&cv(t)},Av.prototype.M=function(){this.g.l=null,delete this.j,ov(this.g),delete this.g,Av.X.M.call(this)},Jf(_v,Fd),Jf(Tv,Ud),Jf(Cv,Ev),Cv.prototype.xa=function(){Xh(this.g,"a")},Cv.prototype.wa=function(e){Xh(this.g,new _v(e))},Cv.prototype.va=function(e){Xh(this.g,new Tv)},Cv.prototype.ua=function(){Xh(this.g,"b")},Sv.prototype.createWebChannel=Sv.prototype.g,Av.prototype.send=Av.prototype.u,Av.prototype.open=Av.prototype.m,Av.prototype.close=Av.prototype.close,Nd.NO_ERROR=0,Nd.TIMEOUT=8,Nd.HTTP_ERROR=6,Od.COMPLETE="complete",Pd.EventType=Md,Md.OPEN="a",Md.CLOSE="b",Md.ERROR="c",Md.MESSAGE="d",Jh.prototype.listen=Jh.prototype.N,Gp.prototype.listenOnce=Gp.prototype.O,Gp.prototype.getLastError=Gp.prototype.Oa,Gp.prototype.getLastErrorCode=Gp.prototype.Ea,Gp.prototype.getStatus=Gp.prototype.aa,Gp.prototype.getResponseJson=Gp.prototype.Sa,Gp.prototype.getResponseText=Gp.prototype.fa,Gp.prototype.send=Gp.prototype.da,Gp.prototype.setWithCredentials=Gp.prototype.Ka;var Nv=Uf.createWebChannelTransport=function(){return new Sv},Ov=Uf.getStatEventTarget=function(){return Id()},Dv=Uf.ErrorCode=Nd,Rv=Uf.EventType=Od,Pv=Uf.Event=wd,Lv=Uf.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Mv=Uf.FetchXmlHttpFactory=Up,Fv=Uf.WebChannel=Pd,Uv=Uf.XhrIo=Gp,jv="@firebase/firestore",Bv=function(){function e(t){Ue(this,e),this.uid=t}return Be(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Bv.UNAUTHENTICATED=new Bv(null),Bv.GOOGLE_CREDENTIALS=new Bv("google-credentials-uid"),Bv.FIRST_PARTY=new Bv("first-party-uid"),Bv.MOCK_USER=new Bv("mock-user");var Vv="9.13.0",zv=new ir("@firebase/firestore");function qv(){return zv.logLevel}function Qv(e){if(zv.logLevel<=Xn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kv);zv.debug.apply(zv,["Firestore (".concat(Vv,"): ").concat(e)].concat(Hn(i)))}}function Gv(e){if(zv.logLevel<=Xn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kv);zv.error.apply(zv,["Firestore (".concat(Vv,"): ").concat(e)].concat(Hn(i)))}}function Hv(e){if(zv.logLevel<=Xn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kv);zv.warn.apply(zv,["Firestore (".concat(Vv,"): ").concat(e)].concat(Hn(i)))}}function Kv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Wv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Vv,") INTERNAL ASSERTION FAILED: ")+e;throw Gv(t),new Error(t)}function Yv(e,t){e||Wv()}function Jv(e,t){return e}var Xv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zv=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Be(n)}(On),$v=Be((function e(){var t=this;Ue(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ey=Be((function e(t,n){Ue(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ty=function(){function e(){Ue(this,e)}return Be(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Bv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ny=function(){function e(t){Ue(this,e),this.token=t,this.changeListener=null}return Be(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ry=function(){function e(t){Ue(this,e),this.t=t,this.currentUser=Bv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Be(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new $v;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new $v,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Qv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Qv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $v)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Qv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yv("string"==typeof n.accessToken),new ey(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Yv(null===e||"string"==typeof e),new Bv(e)}}]),e}(),iy=function(){function e(t,n,r,i){Ue(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Bv.FIRST_PARTY,this.p=new Map}return Be(e,[{key:"I",value:function(){return this.g?this.g():(Yv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),ay=function(){function e(t,n,r,i){Ue(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Be(e,[{key:"getToken",value:function(){return Promise.resolve(new iy(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Bv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),oy=Be((function e(t){Ue(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),uy=function(){function e(t){Ue(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Be(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Qv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Qv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Qv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Qv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Yv("string"==typeof t.token),e.A=t.token,new oy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function sy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var cy=function(){function e(){Ue(this,e)}return Be(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=sy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ly(e,t){return e<t?-1:e>t?1:0}function fy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function hy(e){return e+"\0"}var dy=function(){function e(t,n){if(Ue(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Zv(Xv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Zv(Xv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Zv(Xv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zv(Xv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Be(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ly(this.nanoseconds,e.nanoseconds):ly(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),py=function(){function e(t){Ue(this,e),this.timestamp=t}return Be(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new dy(0,0))}},{key:"max",value:function(){return new e(new dy(253402300799,999999999))}}]),e}(),vy=function(){function e(t,n,r){Ue(this,e),void 0===n?n=0:n>t.length&&Wv(),void 0===r?r=t.length-n:r>t.length-n&&Wv(),this.segments=t,this.offset=n,this.len=r}return Be(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),yy=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Hn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vy),my=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gy=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return my.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Zv(Xv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Zv(Xv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Zv(Xv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vy),ky=function(){function e(t){Ue(this,e),this.path=t}return Be(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===yy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(yy.fromString(t))}},{key:"fromName",value:function(t){return new e(yy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(yy.emptyPath())}},{key:"comparator",value:function(e,t){return yy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new yy(t.slice()))}}]),e}(),by=Be((function e(t,n,r,i){Ue(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function wy(e){return e.fields.find((function(e){return 2===e.kind}))}function xy(e){return e.fields.filter((function(e){return 2!==e.kind}))}by.UNKNOWN_ID=-1;var Iy=Be((function e(t,n){Ue(this,e),this.fieldPath=t,this.kind=n}));var Ey=function(){function e(t,n){Ue(this,e),this.sequenceNumber=t,this.offset=n}return Be(e,null,[{key:"empty",value:function(){return new e(0,_y.min())}}]),e}();function Sy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=py.fromTimestamp(1e9===r?new dy(n+1,0):new dy(n,r));return new _y(i,ky.empty(),t)}function Ay(e){return new _y(e.readTime,e.key,-1)}var _y=function(){function e(t,n,r){Ue(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Be(e,null,[{key:"min",value:function(){return new e(py.min(),ky.empty(),-1)}},{key:"max",value:function(){return new e(py.max(),ky.empty(),-1)}}]),e}();function Ty(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ky.comparator(e.documentKey,t.documentKey))?n:ly(e.largestBatchId,t.largestBatchId)}var Cy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ny=function(){function e(){Ue(this,e),this.onCommittedListeners=[]}return Be(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Oy(e){return Dy.apply(this,arguments)}function Dy(){return Dy=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Xv.FAILED_PRECONDITION&&t.message===Cy){e.next=2;break}throw t;case 2:Qv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}var Ry=function(){function e(t){var n=this;Ue(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Be(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Wv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=an(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Py=function(){function e(t,n){var r=this;Ue(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new $v,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Fy(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=zy(e.target.error);r.P.reject(new Fy(t,n))}}return Be(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Qv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fy(n,t)}}}]),e}(),Ly=function(){function e(t,n,r){Ue(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(bn())&&Gv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Be(e,[{key:"F",value:function(){var e=ie(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Qv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Zv(Xv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Zv(Xv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Fy(t,n))},i.onupgradeneeded=function(e){Qv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Qv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ie(ne().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ne().mark((function e(){var n,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Py.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Ry.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Qv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Qv("SimpleDb","Removing database:",e),By(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Sn())return!1;if(e.N())return!0;var t=bn(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),My=function(){function e(t){Ue(this,e),this.U=t,this.q=!1,this.K=null}return Be(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return By(this.U.delete())}}]),e}(),Fy=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,Xv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Be(n)}(Zv);function Uy(e){return"IndexedDbTransactionError"===e.name}var jy=function(){function e(t){Ue(this,e),this.store=t}return Be(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Qv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),By(n)}},{key:"add",value:function(e){return Qv("SimpleDb","ADD",this.store.name,e,e),By(this.store.add(e))}},{key:"get",value:function(e){var t=this;return By(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Qv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Qv("SimpleDb","DELETE",this.store.name,e),By(this.store.delete(e))}},{key:"count",value:function(){return Qv("SimpleDb","COUNT",this.store.name),By(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ry((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ry((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Qv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Ry((function(n,r){t.onerror=function(e){var t=zy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Ry((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new My(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ry){var u=o.catch((function(e){return a.done(),Ry.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Ry.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function By(e){return new Ry((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=zy(e.target.error);n(t)}}))}var Vy=!1;function zy(e){var t=Ly.D(bn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Zv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Vy||(Vy=!0,setTimeout((function(){throw r}),0)),r}}return e}var qy=function(){function e(t,n){Ue(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Be(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Qv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Qv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Uy(e.t4)){e.next=17;break}Qv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Oy(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Qy=function(){function e(t,n){Ue(this,e),this.localStore=t,this.persistence=n}return Be(e,[{key:"st",value:function(){var e=ie(ne().mark((function e(){var t,n=this,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Ry.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Qv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Qv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Ay(t);Ty(r,n)>0&&(n=r)})),new _y(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Gy=function(){function e(t,n){var r=this;Ue(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Be(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Hy(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ky(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Gy.at=-1;var Yy=function(){function e(t,n){Ue(this,e),this.comparator=t,this.root=n||Xy.EMPTY}return Be(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Jy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Jy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Jy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Jy(this.root,e,this.comparator,!0)}}]),e}(),Jy=function(){function e(t,n,r,i){Ue(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Be(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xy=function(){function e(t,n,r,i,a){Ue(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Be(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Wv();if(this.right.isRed())throw Wv();var e=this.left.check();if(e!==this.right.check())throw Wv();return e+(this.isRed()?0:1)}}]),e}();Xy.EMPTY=null,Xy.RED=!0,Xy.BLACK=!1,Xy.EMPTY=new(function(){function e(){Ue(this,e),this.size=0}return Be(e,[{key:"key",get:function(){throw Wv()}},{key:"value",get:function(){throw Wv()}},{key:"color",get:function(){throw Wv()}},{key:"left",get:function(){throw Wv()}},{key:"right",get:function(){throw Wv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Zy=function(){function e(t){Ue(this,e),this.comparator=t,this.data=new Yy(this.comparator)}return Be(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $y(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $y(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),$y=function(){function e(t){Ue(this,e),this.iter=t}return Be(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function em(e){return e.hasNext()?e.getNext():void 0}var tm=function(){function e(t){Ue(this,e),this.fields=t,t.sort(gy.comparator)}return Be(e,[{key:"unionWith",value:function(t){var n,r=new Zy(gy.comparator),i=an(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=an(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=an(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return fy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var nm=function(e){function t(e){Ue(this,t),this.binaryString=e}return Be(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ly(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();nm.EMPTY_BYTE_STRING=new nm("");var rm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function im(e){if(Yv(!!e),"string"==typeof e){var t=0,n=rm.exec(e);if(Yv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:am(e.seconds),nanos:am(e.nanos)}}function am(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function om(e){return"string"==typeof e?nm.fromBase64String(e):nm.fromUint8Array(e)}function um(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sm(e){var t=e.mapValue.fields.__previous_value__;return um(t)?sm(t):t}function cm(e){var t=im(e.mapValue.fields.__local_write_time__.timestampValue);return new dy(t.seconds,t.nanos)}var lm=Be((function e(t,n,r,i,a,o,u,s){Ue(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),fm=function(){function e(t,n){Ue(this,e),this.projectId=t,this.database=n||"(default)"}return Be(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function hm(e){return null==e}function dm(e){return 0===e&&1/e==-1/0}function pm(e){return"number"==typeof e&&Number.isInteger(e)&&!dm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var vm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ym={nullValue:"NULL_VALUE"};function mm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?um(e)?4:Om(e)?9007199254740991:10:Wv()}function gm(e,t){if(e===t)return!0;var n=mm(e);if(n!==mm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cm(e).isEqual(cm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=im(e.timestampValue),r=im(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return om(e.bytesValue).isEqual(om(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return am(e.geoPointValue.latitude)===am(t.geoPointValue.latitude)&&am(e.geoPointValue.longitude)===am(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return am(e.integerValue)===am(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=am(e.doubleValue),r=am(t.doubleValue);return n===r?dm(n)===dm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fy(e.arrayValue.values||[],t.arrayValue.values||[],gm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hy(n)!==Hy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gm(n[i],r[i])))return!1;return!0}(e,t);default:return Wv()}}function km(e,t){return void 0!==(e.values||[]).find((function(e){return gm(e,t)}))}function bm(e,t){if(e===t)return 0;var n=mm(e),r=mm(t);if(n!==r)return ly(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ly(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=am(e.integerValue||e.doubleValue),r=am(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return wm(e.timestampValue,t.timestampValue);case 4:return wm(cm(e),cm(t));case 5:return ly(e.stringValue,t.stringValue);case 6:return function(e,t){var n=om(e),r=om(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ly(n[i],r[i]);if(0!==a)return a}return ly(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ly(am(e.latitude),am(t.latitude));return 0!==n?n:ly(am(e.longitude),am(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=bm(n[i],r[i]);if(a)return a}return ly(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===vm.mapValue&&t===vm.mapValue)return 0;if(e===vm.mapValue)return 1;if(t===vm.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ly(r[o],a[o]);if(0!==u)return u;var s=bm(n[r[o]],i[a[o]]);if(0!==s)return s}return ly(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Wv()}}function wm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ly(e,t);var n=im(e),r=im(t),i=ly(n.seconds,r.seconds);return 0!==i?i:ly(n.nanos,r.nanos)}function xm(e){return Im(e)}function Im(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=im(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?om(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ky.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=an(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Im(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=an(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Im(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Wv();var t,n}function Em(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Sm(e){return!!e&&"integerValue"in e}function Am(e){return!!e&&"arrayValue"in e}function _m(e){return!!e&&"nullValue"in e}function Tm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cm(e){return!!e&&"mapValue"in e}function Nm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ky(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Nm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Om(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Dm(e){return"nullValue"in e?ym:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Em(fm.empty(),ky.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Wv()}function Rm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Em(fm.empty(),ky.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?vm:Wv()}function Pm(e,t){var n=bm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Lm(e,t){var n=bm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Mm=function(){function e(t){Ue(this,e),this.value=t}return Be(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Cm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nm(t)}},{key:"setAll",value:function(e){var t=this,n=gy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Nm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Cm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return gm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Cm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ky(t,(function(t,n){return e[t]=n}));var r,i=an(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Nm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fm(e){var t=[];return Ky(e.fields,(function(e,n){var r=new gy([e]);if(Cm(n)){var i=Fm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=an(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new tm(t)}var Um=function(){function e(t,n,r,i,a,o){Ue(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Be(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Mm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Mm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=py.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,py.min(),py.min(),Mm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,py.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,py.min(),Mm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,py.min(),Mm.empty(),2)}}]),e}(),jm=Be((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ue(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Bm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jm(e,t,n,r,i,a,o)}function Vm(e){var t=Jv(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+xm(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),hm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return xm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return xm(e)})).join(",")),t.ht=n}return t.ht}function zm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ig(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!gm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!og(e.startAt,t.startAt)&&og(e.endAt,t.endAt)}function qm(e){return ky.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Qm(e,t){return e.filters.filter((function(e){return e instanceof Km&&e.field.isEqual(t)}))}function Gm(e,t,n){var r,i=ym,a=!0,o=an(Qm(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ym,c=!0;switch(u.op){case"<":case"<=":s=Dm(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ym}Pm({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Pm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Hm(e,t,n){var r,i=vm,a=!0,o=an(Qm(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=vm,c=!0;switch(u.op){case">=":case">":s=Rm(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=vm}Lm({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Lm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Km=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Be(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(bm(t,this.value)):null!==t&&mm(this.value)===mm(t)&&this.ft(bm(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wv()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Wm(e,t,r):"array-contains"===t?new Zm(e,r):"in"===t?new $m(e,r):"not-in"===t?new eg(e,r):"array-contains-any"===t?new tg(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Ym(e,n):new Jm(e,n)}}]),n}(function(){return Be((function e(){Ue(this,e)}))}()),Wm=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this,e,r,i)).key=ky.fromName(i.referenceValue),a}return Be(n,[{key:"matches",value:function(e){var t=ky.comparator(e.key,this.key);return this.ft(t)}}]),n}(Km),Ym=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e,"in",r)).keys=Xm("in",r),i}return Be(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Km),Jm=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e,"not-in",r)).keys=Xm("not-in",r),i}return Be(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Km);function Xm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ky.fromName(e.referenceValue)}))}var Zm=function(e){sn(n,e);var t=hn(n);function n(e,r){return Ue(this,n),t.call(this,e,"array-contains",r)}return Be(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Am(t)&&km(t.arrayValue,this.value)}}]),n}(Km),$m=function(e){sn(n,e);var t=hn(n);function n(e,r){return Ue(this,n),t.call(this,e,"in",r)}return Be(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&km(this.value.arrayValue,t)}}]),n}(Km),eg=function(e){sn(n,e);var t=hn(n);function n(e,r){return Ue(this,n),t.call(this,e,"not-in",r)}return Be(n,[{key:"matches",value:function(e){if(km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!km(this.value.arrayValue,t)}}]),n}(Km),tg=function(e){sn(n,e);var t=hn(n);function n(e,r){return Ue(this,n),t.call(this,e,"array-contains-any",r)}return Be(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Am(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return km(t.value.arrayValue,e)}))}}]),n}(Km),ng=Be((function e(t,n){Ue(this,e),this.position=t,this.inclusive=n})),rg=Be((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ue(this,e),this.field=t,this.dir=n}));function ig(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ag(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ky.comparator(ky.fromName(o.referenceValue),n.key):bm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function og(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gm(e.position[n],t.position[n]))return!1;return!0}var ug=Be((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ue(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function sg(e,t,n,r,i,a,o,u){return new ug(e,t,n,r,i,a,o,u)}function cg(e){return new ug(e)}function lg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hg(e){var t,n=an(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function dg(e){return null!==e.collectionGroup}function pg(e){var t=Jv(e);if(null===t._t){t._t=[];var n=hg(t),r=fg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new rg(n)),t._t.push(new rg(gy.keyField(),"asc"));else{var i,a=!1,o=an(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new rg(gy.keyField(),s))}}}return t._t}function vg(e){var t=Jv(e);if(!t.wt)if("F"===t.limitType)t.wt=Bm(t.path,t.collectionGroup,pg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=an(pg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ng(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ng(t.startAt.position,t.startAt.inclusive):null;t.wt=Bm(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function yg(e,t,n){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mg(e,t){return zm(vg(e),vg(t))&&e.limitType===t.limitType}function gg(e){return"".concat(Vm(vg(e)),"|lt:").concat(e.limitType)}function kg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(xm(t.value));var t})).join(", "),"]")),hm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return xm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return xm(e)})).join(",")),"Target(".concat(t,")")}(vg(e)),"; limitType=").concat(e.limitType,")")}function bg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ky.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=an(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=an(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ag(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pg(e),t))&&!(e.endAt&&!function(e,t,n){var r=ag(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pg(e),t))}(e,t)}function wg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xg(e){return function(t,n){var r,i=!1,a=an(pg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ig(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ig(e,t,n){var r=e.field.isKeyField()?ky.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?bm(r,i):Wv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wv()}}function Eg(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(t)?"-0":t}}function Sg(e){return{integerValue:""+e}}function Ag(e,t){return pm(t)?Sg(t):Eg(e,t)}var _g=Be((function e(){Ue(this,e),this._=void 0}));function Tg(e,t,n){return e instanceof Og?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Dg?Rg(e,t):e instanceof Pg?Lg(e,t):function(e,t){var n=Ng(e,t),r=Fg(n)+Fg(e.yt);return Sm(n)&&Sm(e.yt)?Sg(r):Eg(e.It,r)}(e,t)}function Cg(e,t,n){return e instanceof Dg?Rg(e,t):e instanceof Pg?Lg(e,t):n}function Ng(e,t){return e instanceof Mg?Sm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Og=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n)}(_g),Dg=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this)).elements=e,r}return Be(n)}(_g);function Rg(e,t){var n,r=Ug(t),i=an(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return gm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pg=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this)).elements=e,r}return Be(n)}(_g);function Lg(e,t){var n,r=Ug(t),i=an(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!gm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mg=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Be(n)}(_g);function Fg(e){return am(e.integerValue||e.doubleValue)}function Ug(e){return Am(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jg=Be((function e(t,n){Ue(this,e),this.field=t,this.transform=n}));var Bg=Be((function e(t,n){Ue(this,e),this.version=t,this.transformResults=n})),Vg=function(){function e(t,n){Ue(this,e),this.updateTime=t,this.exists=n}return Be(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qg=Be((function e(){Ue(this,e)}));function Qg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nk(e.key,Vg.none()):new Yg(e.key,e.data,Vg.none());var n,r=e.data,i=Mm.empty(),a=new Zy(gy.comparator),o=an(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Jg(e.key,i,new tm(a.toArray()),Vg.none())}function Gg(e,t,n){e instanceof Yg?function(e,t,n){var r=e.value.clone(),i=Zg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jg?function(e,t,n){if(zg(e.precondition,t)){var r=Zg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hg(e,t,n,r){return e instanceof Yg?function(e,t,n,r){if(!zg(e.precondition,t))return n;var i=e.value.clone(),a=$g(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jg?function(e,t,n,r){if(!zg(e.precondition,t))return n;var i=$g(e.fieldTransforms,r,t),a=t.data;return a.setAll(Xg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return zg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Kg(e,t){var n,r=null,i=an(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ng(a.transform,o||null);null!=u&&(null===r&&(r=Mm.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Wg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dg&&t instanceof Dg||e instanceof Pg&&t instanceof Pg?fy(e.elements,t.elements,gm):e instanceof Mg&&t instanceof Mg?gm(e.yt,t.yt):e instanceof Og&&t instanceof Og}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Yg=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ue(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Be(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qg),Jg=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ue(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Be(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(qg);function Xg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Zg(e,t,n){var r=new Map;Yv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Cg(o,u,n[i]))}return r}function $g(e,t,n){var r,i=new Map,a=an(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Tg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ek,tk,nk=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Be(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qg),rk=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Be(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qg),ik=Be((function e(t){Ue(this,e),this.count=t}));function ak(e){switch(e){default:return Wv();case Xv.CANCELLED:case Xv.UNKNOWN:case Xv.DEADLINE_EXCEEDED:case Xv.RESOURCE_EXHAUSTED:case Xv.INTERNAL:case Xv.UNAVAILABLE:case Xv.UNAUTHENTICATED:return!1;case Xv.INVALID_ARGUMENT:case Xv.NOT_FOUND:case Xv.ALREADY_EXISTS:case Xv.PERMISSION_DENIED:case Xv.FAILED_PRECONDITION:case Xv.ABORTED:case Xv.OUT_OF_RANGE:case Xv.UNIMPLEMENTED:case Xv.DATA_LOSS:return!0}}function ok(e){if(void 0===e)return Gv("GRPC error has no .code"),Xv.UNKNOWN;switch(e){case ek.OK:return Xv.OK;case ek.CANCELLED:return Xv.CANCELLED;case ek.UNKNOWN:return Xv.UNKNOWN;case ek.DEADLINE_EXCEEDED:return Xv.DEADLINE_EXCEEDED;case ek.RESOURCE_EXHAUSTED:return Xv.RESOURCE_EXHAUSTED;case ek.INTERNAL:return Xv.INTERNAL;case ek.UNAVAILABLE:return Xv.UNAVAILABLE;case ek.UNAUTHENTICATED:return Xv.UNAUTHENTICATED;case ek.INVALID_ARGUMENT:return Xv.INVALID_ARGUMENT;case ek.NOT_FOUND:return Xv.NOT_FOUND;case ek.ALREADY_EXISTS:return Xv.ALREADY_EXISTS;case ek.PERMISSION_DENIED:return Xv.PERMISSION_DENIED;case ek.FAILED_PRECONDITION:return Xv.FAILED_PRECONDITION;case ek.ABORTED:return Xv.ABORTED;case ek.OUT_OF_RANGE:return Xv.OUT_OF_RANGE;case ek.UNIMPLEMENTED:return Xv.UNIMPLEMENTED;case ek.DATA_LOSS:return Xv.DATA_LOSS;default:return Wv()}}(tk=ek||(ek={}))[tk.OK=0]="OK",tk[tk.CANCELLED=1]="CANCELLED",tk[tk.UNKNOWN=2]="UNKNOWN",tk[tk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tk[tk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tk[tk.NOT_FOUND=5]="NOT_FOUND",tk[tk.ALREADY_EXISTS=6]="ALREADY_EXISTS",tk[tk.PERMISSION_DENIED=7]="PERMISSION_DENIED",tk[tk.UNAUTHENTICATED=16]="UNAUTHENTICATED",tk[tk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tk[tk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tk[tk.ABORTED=10]="ABORTED",tk[tk.OUT_OF_RANGE=11]="OUT_OF_RANGE",tk[tk.UNIMPLEMENTED=12]="UNIMPLEMENTED",tk[tk.INTERNAL=13]="INTERNAL",tk[tk.UNAVAILABLE=14]="UNAVAILABLE",tk[tk.DATA_LOSS=15]="DATA_LOSS";var uk=function(){function e(t,n){Ue(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Be(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=an(n);try{for(i.s();!(r=i.n()).done;){var a=ce(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ky(this.inner,(function(t,n){var r,i=an(n);try{for(i.s();!(r=i.n()).done;){var a=ce(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Wy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),sk=new Yy(ky.comparator);function ck(){return sk}var lk=new Yy(ky.comparator);function fk(){for(var e=lk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function hk(e){var t=lk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function dk(){return vk()}function pk(){return vk()}function vk(){return new uk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var yk=new Yy(ky.comparator),mk=new Zy(ky.comparator);function gk(){for(var e=mk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var kk=new Zy(ly);function bk(){return kk}var wk=function(){function e(t,n,r,i,a){Ue(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Be(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,xk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(py.min(),i,bk(),ck(),gk())}}]),e}(),xk=function(){function e(t,n,r,i,a){Ue(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Be(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,gk(),gk(),gk())}}]),e}(),Ik=Be((function e(t,n,r,i){Ue(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Ek=Be((function e(t,n){Ue(this,e),this.targetId=t,this.At=n})),Sk=Be((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ue(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ak=function(){function e(){Ue(this,e),this.Rt=0,this.bt=Ck(),this.Pt=nm.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Be(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=gk(),t=gk(),n=gk();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wv()}})),new xk(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Ck()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),_k=function(){function e(t){Ue(this,e),this.Bt=t,this.Lt=new Map,this.Ut=ck(),this.qt=Tk(),this.Kt=new Zy(ly)}return Be(e,[{key:"Gt",value:function(e){var t,n=an(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=an(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Wv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(qm(i))if(0===n){var a=new ky(i.path);this.jt(t,a,Um.newNoDocument(a,py.min()))}else Yv(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&qm(a.target)){var o=new ky(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Um.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=gk();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new wk(e,n,this.Kt,this.Ut,r);return this.Ut=ck(),this.qt=Tk(),this.Kt=new Zy(ly),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Ak,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Zy(ly),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Qv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Ak),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Tk(){return new Yy(ky.comparator)}function Ck(){return new Yy(ky.comparator)}var Nk={asc:"ASCENDING",desc:"DESCENDING"},Ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dk=Be((function e(t,n){Ue(this,e),this.databaseId=t,this.gt=n}));function Rk(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pk(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Lk(e,t){return Rk(e,t.toTimestamp())}function Mk(e){return Yv(!!e),py.fromTimestamp(function(e){var t=im(e);return new dy(t.seconds,t.nanos)}(e))}function Fk(e,t){return function(e){return new yy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Uk(e){var t=yy.fromString(e);return Yv(ub(t)),t}function jk(e,t){return Fk(e.databaseId,t.path)}function Bk(e,t){var n=Uk(t);if(n.get(1)!==e.databaseId.projectId)throw new Zv(Xv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zv(Xv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ky(Qk(n))}function Vk(e,t){return Fk(e.databaseId,t)}function zk(e){var t=Uk(e);return 4===t.length?yy.emptyPath():Qk(t)}function qk(e){return new yy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qk(e){return Yv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gk(e,t,n){return{name:jk(e,t),fields:n.value.mapValue.fields}}function Hk(e,t,n){var r=Bk(e,t.name),i=Mk(t.updateTime),a=new Mm({mapValue:{fields:t.fields}}),o=Um.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Kk(e,t){return"found"in t?function(e,t){Yv(!!t.found),t.found.name,t.found.updateTime;var n=Bk(e,t.found.name),r=Mk(t.found.updateTime),i=new Mm({mapValue:{fields:t.found.fields}});return Um.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yv(!!t.missing),Yv(!!t.readTime);var n=Bk(e,t.missing),r=Mk(t.readTime);return Um.newNoDocument(n,r)}(e,t):Wv()}function Wk(e,t){var n;if(t instanceof Yg)n={update:Gk(e,t.key,t.value)};else if(t instanceof nk)n={delete:jk(e,t.key)};else if(t instanceof Jg)n={update:Gk(e,t.key,t.data),updateMask:ob(t.fieldMask)};else{if(!(t instanceof rk))return Wv();n={verify:jk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Og)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mg)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Wv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wv()}(e,t.precondition)),n}function Yk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Vg.updateTime(Mk(e.updateTime)):void 0!==e.exists?Vg.exists(e.exists):Vg.none()}(t.currentDocument):Vg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yv("REQUEST_TIME"===t.setToServerValue),n=new Og;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Dg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Pg(i)}else"increment"in t?n=new Mg(e,t.increment):Wv();var a=gy.fromServerFormat(t.fieldPath);return new jg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Bk(e,t.update.name),a=new Mm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new tm(t.map((function(e){return gy.fromServerFormat(e)})))}(t.updateMask);return new Jg(i,a,o,n,r)}return new Yg(i,a,n,r)}if(t.delete){var u=Bk(e,t.delete);return new nk(u,n)}if(t.verify){var s=Bk(e,t.verify);return new rk(s,n)}return Wv()}function Jk(e,t){return{documents:[Vk(e,t.path)]}}function Xk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Tm(e.value))return{unaryFilter:{field:nb(e.field),op:"IS_NAN"}};if(_m(e.value))return{unaryFilter:{field:nb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tm(e.value))return{unaryFilter:{field:nb(e.field),op:"IS_NOT_NAN"}};if(_m(e.value))return{unaryFilter:{field:nb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nb(e.field),op:tb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nb(e.field),direction:eb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||hm(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Zk(e){var t=zk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=$k(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new rg(rb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return hm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ng(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ng(n,t)}(n.endAt)),sg(t,i,u,o,s,"F",c,l)}function $k(e){return e?void 0!==e.unaryFilter?[ab(e)]:void 0!==e.fieldFilter?[ib(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return $k(e)})).reduce((function(e,t){return e.concat(t)})):Wv():[]}function eb(e){return Nk[e]}function tb(e){return Ok[e]}function nb(e){return{fieldPath:e.canonicalString()}}function rb(e){return gy.fromServerFormat(e.fieldPath)}function ib(e){return Km.create(rb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wv()}}(e.fieldFilter.op),e.fieldFilter.value)}function ab(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rb(e.unaryFilter.field);return Km.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rb(e.unaryFilter.field);return Km.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rb(e.unaryFilter.field);return Km.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rb(e.unaryFilter.field);return Km.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wv()}}function ob(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ub(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function sb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lb(t)),t=cb(e.get(n),t);return lb(t)}function cb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function lb(e){return e+"\x01\x01"}function fb(e){var t=e.length;if(Yv(t>=2),2===t)return Yv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),yy.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Wv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Wv()}a=o+2}return new yy(r)}var hb=["userId","batchId"];function db(e,t){return[e,sb(t)]}function pb(e,t,n){return[e,sb(t),n]}var vb={},yb=["prefixPath","collectionGroup","readTime","documentId"],mb=["prefixPath","collectionGroup","documentId"],gb=["collectionGroup","readTime","prefixPath","documentId"],kb=["canonicalId","targetId"],bb=["targetId","path"],wb=["path","targetId"],xb=["collectionId","parent"],Ib=["indexId","uid"],Eb=["uid","sequenceNumber"],Sb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ab=["indexId","uid","orderedDocumentKey"],_b=["userId","collectionPath","documentId"],Tb=["userId","collectionPath","largestBatchId"],Cb=["userId","collectionGroup","largestBatchId"],Nb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ob=[].concat(Hn(Nb),["documentOverlays"]),Db=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rb=Db,Pb=[].concat(Rb,["indexConfiguration","indexState","indexEntries"]),Lb=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Be(n)}(Ny);function Mb(e,t){var n=Jv(e);return Ly.M(n.ie,t)}var Fb=function(){function e(t,n,r,i){Ue(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Be(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Gg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=an(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Hg(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=an(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Hg(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=pk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Qg(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(py.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&fy(this.mutations,e.mutations,(function(e,t){return Wg(e,t)}))&&fy(this.baseMutations,e.baseMutations,(function(e,t){return Wg(e,t)}))}}]),e}(),Ub=function(){function e(t,n,r,i){Ue(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Be(e,null,[{key:"from",value:function(t,n,r){Yv(t.mutations.length===r.length);for(var i=yk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),jb=function(){function e(t,n){Ue(this,e),this.largestBatchId=t,this.mutation=n}return Be(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Bb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:py.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:py.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nm.EMPTY_BYTE_STRING;Ue(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Be(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Vb=Be((function e(t){Ue(this,e),this.re=t}));function zb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:qb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Rk(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Qb(t.version)};else{if(!t.isUnknownDocument())return Wv();r.unknownDocument={path:n.path.toArray(),version:Qb(t.version)}}return r}function qb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Gb(e){var t=new dy(e.seconds,e.nanoseconds);return py.fromTimestamp(t)}function Hb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yk(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yk(e.re,t)})),u=dy.fromMillis(t.localWriteTimeMs);return new Fb(t.batchId,u,n,o)}function Kb(e){var t,n,r=Gb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Gb(e.lastLimboFreeSnapshotVersion):py.min();return void 0!==e.query.documents?(Yv(1===(n=e.query).documents.length),t=vg(cg(zk(n.documents[0])))):t=function(e){return vg(Zk(e))}(e.query),new Bb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,nm.fromBase64String(e.resumeToken))}function Wb(e,t){var n,r=Qb(t.snapshotVersion),i=Qb(t.lastLimboFreeSnapshotVersion);n=qm(t.target)?Jk(e.re,t.target):Xk(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Yb(e){var t=Zk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yg(t,t.limit,"L"):t}function Jb(e,t){return new jb(t.largestBatchId,Yk(e.re,t.overlayMutation))}function Xb(e,t){var n=t.path.lastSegment();return[e,sb(t.path.popLast()),n]}function Zb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Qb(r.readTime),documentKey:sb(r.documentKey.path),largestBatchId:r.largestBatchId}}var $b=function(){function e(){Ue(this,e)}return Be(e,[{key:"getBundleMetadata",value:function(e,t){return ew(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Gb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ew(e).put({bundleId:(n=t).id,createTime:Qb(Mk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return tw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Yb(t.bundledQuery),readTime:Gb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return tw(e).put(function(e){return{name:e.name,readTime:Qb(Mk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ew(e){return Mb(e,"bundles")}function tw(e){return Mb(e,"namedQueries")}var nw=function(){function e(t,n){Ue(this,e),this.It=t,this.userId=n}return Be(e,[{key:"getOverlay",value:function(e,t){var n=this;return rw(e).get(Xb(this.userId,t)).next((function(e){return e?Jb(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=dk();return Ry.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new jb(t,a);i.push(r.ue(e,o))})),Ry.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(sb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(rw(e).Y("collectionPathOverlayIndex",i))})),Ry.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=dk(),a=sb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=an(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Jb(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=dk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rw(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Jb(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return rw(e).put(function(e,t,n){var r=ce(Xb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Wk(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function rw(e){return Mb(e,"documentOverlays")}var iw=function(){function e(){Ue(this,e)}return Be(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(am(e.integerValue));else if("doubleValue"in e){var n=am(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),dm(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(om(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Om(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Wv()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=an(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),ky.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function aw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ow(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=aw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}iw.Te=new iw;var uw=function(){function e(){Ue(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Be(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=an(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=an(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=ow(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=ow(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),sw=function(){function e(t){Ue(this,e),this.Be=t}return Be(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),cw=function(){function e(t){Ue(this,e),this.Be=t}return Be(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),lw=function(){function e(){Ue(this,e),this.Be=new uw,this.Le=new sw(this.Be),this.Ue=new cw(this.Be)}return Be(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),fw=function(){function e(t,n,r,i){Ue(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Be(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function hw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=dw(e.arrayValue,t.arrayValue))?n:0!==(n=dw(e.directionalValue,t.directionalValue))?n:ky.comparator(e.documentKey,t.documentKey)}function dw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var pw=function(){function e(t){Ue(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=an(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Be(e,[{key:"We",value:function(e){var t=wy(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=xy(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=an(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),vw=function(){function e(){Ue(this,e),this.Ye=new yw}return Be(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Ry.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ry.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ry.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ry.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ry.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ry.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ry.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ry.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ry.resolve(_y.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ry.resolve(_y.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ry.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ry.resolve()}}]),e}(),yw=function(){function e(){Ue(this,e),this.index={}}return Be(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zy(yy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Zy(yy.comparator)).toArray()}}]),e}(),mw=new Uint8Array(0),gw=function(){function e(t,n){Ue(this,e),this.user=t,this.databaseId=n,this.Xe=new yw,this.Ze=new uk((function(e){return Vm(e)}),(function(e,t){return zm(e,t)})),this.uid=t.uid||""}return Be(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:sb(i)};return kw(e).put(a)}return Ry.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[hy(t),""],!1,!0);return kw(e).W(r).next((function(e){var r,i=an(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(fb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ww(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=xw(e);return a.next((function(e){o.put(Zb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ww(e),r=xw(e),i=bw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=bw(e),i=!0,a=new Map;return Ry.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=gk(),o=[];return Ry.forEach(a,(function(i,a){var u;Qv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Vm(t)));var s=function(e,t){var n=wy(t);if(void 0===n)return null;var r,i=an(Qm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=an(xy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=an(Qm(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=an(xy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Gm(e,o.fieldPath,e.startAt):Hm(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ng(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=an(xy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Hm(e,o.fieldPath,e.endAt):Gm(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ng(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Ry.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=ky.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Ry.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):mw,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,Hn(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new fw(e,ky.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new fw(e,ky.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new pw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=an(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Ry.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Zy(gy.comparator),r=!1,i=an(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=an(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new lw,i=an(xy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);iw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new lw;return iw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new lw;return iw.Te.ce(Em(this.databaseId,t),n.qe(function(e){var t=xy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new lw);var i,a=0,o=an(xy(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=an(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Am(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);iw.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Hn(e),a=[],o=an(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=an(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new lw;f.seed(l.$e()),iw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Km&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ww(e),i=xw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Ry.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ey(t.sequenceNumber,new _y(Gb(t.readTime),new ky(fb(t.documentKey)),t.largestBatchId)):Ey.empty(),r=e.fields.map((function(e){var t=ce(e,2),n=t[0],r=t[1];return new Iy(gy.fromServerFormat(n),r)}));return new by(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ly(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ww(e),a=xw(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Ry.forEach(t,(function(t){return a.put(Zb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ry.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ry.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ry.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Ry.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return bw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return bw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=bw(e),i=new Zy(hw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new fw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Zy(hw),r=this.an(t,e);if(null==r)return n;var i=wy(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Am(a)){var o,u=an(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new fw(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new fw(t.indexId,e.key,mw,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Qv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=em(a),s=em(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=em(o)):l?(i(u),u=em(a)):(u=em(a),s=em(o))}}(r,i,hw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Ry.waitFor(o)}},{key:"_n",value:function(e){var t=1;return xw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return hw(e,t)})).filter((function(e,t,n){return!t||0!==hw(e,n[t-1])}));var r=[];r.push(e);var i,a=an(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=hw(o,e),s=hw(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,mw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,mw,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Iw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Ry.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Wv()}))})).next(Iw)}}]),e}();function kw(e){return Mb(e,"collectionParents")}function bw(e){return Mb(e,"indexEntries")}function ww(e){return Mb(e,"indexConfiguration")}function xw(e){return Mb(e,"indexState")}function Iw(e){Yv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ty(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new _y(t.readTime,t.documentKey,n)}var Ew={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sw=function(){function e(t,n,r){Ue(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Be(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Aw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Yv(1===u)})));var c,l=[],f=an(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=pb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Ry.waitFor(a).next((function(){return l}))}function _w(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Wv();t=e.noDocument}return JSON.stringify(t).length}Sw.DEFAULT_COLLECTION_PERCENTILE=10,Sw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sw.DEFAULT=new Sw(41943040,Sw.DEFAULT_COLLECTION_PERCENTILE,Sw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sw.DISABLED=new Sw(-1,0,0);var Tw=function(){function e(t,n,r,i){Ue(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Be(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nw(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ow(e),o=Nw(e);return o.add({}).next((function(u){Yv("number"==typeof u);var s,c=new Fb(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Wk(e.re,t)})),i=n.mutations.map((function(t){return Wk(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Zy((function(e,t){return ly(e.canonicalString(),t.canonicalString())})),d=an(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=pb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,vb))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Ry.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Nw(e).get(t).next((function(e){return e?(Yv(e.userId===n.userId),Hb(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Ry.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Nw(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Yv(t.batchId>=r),a=Hb(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Nw(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nw(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Hb(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=db(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ow(e).Z({range:i},(function(r,i,o){var u=ce(r,3),s=u[0],c=u[1],l=u[2],f=fb(c);if(s===n.userId&&t.path.isEqual(f))return Nw(e).get(l).next((function(e){if(!e)throw Wv();Yv(e.userId===n.userId),a.push(Hb(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zy(ly),i=[];return t.forEach((function(t){var a=db(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Ow(e).Z({range:o},(function(e,i,a){var o=ce(e,3),u=o[0],s=o[1],c=o[2],l=fb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Ry.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=db(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Zy(ly);return Ow(e).Z({range:o},(function(e,t,a){var o=ce(e,3),s=o[0],c=o[1],l=o[2],f=fb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Nw(e).get(t).next((function(e){if(null===e)throw Wv();Yv(e.userId===n.userId),r.push(Hb(n.It,e))})))})),Ry.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Aw(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Ry.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ry.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ow(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=fb(e[1]);i.push(a)}else r.done()})).next((function(){Yv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Cw(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Dw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Yv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Cw(e,t,n){var r=db(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ow(e).Z({range:a,X:!0},(function(e,n,r){var a=ce(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Nw(e){return Mb(e,"mutations")}function Ow(e){return Mb(e,"documentMutations")}function Dw(e){return Mb(e,"mutationQueues")}var Rw=function(){function e(t){Ue(this,e),this.bn=t}return Be(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Pw=function(){function e(t,n){Ue(this,e),this.referenceDelegate=t,this.It=n}return Be(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Rw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return py.fromTimestamp(new dy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Lw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Yv(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Lw(e).Z((function(o,u){var s=Kb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ry.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Lw(e).Z((function(e,n){var r=Kb(n);t(r)}))}},{key:"Vn",value:function(e){return Mw(e).get("targetGlobalKey").next((function(e){return Yv(null!==e),e}))}},{key:"Sn",value:function(e,t){return Mw(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Lw(e).put(Wb(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Vm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Lw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Kb(n);zm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Fw(e);return t.forEach((function(t){var o=sb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Ry.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Fw(e);return Ry.forEach(t,(function(t){var a=sb(t.path);return Ry.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Fw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Fw(e),i=gk();return r.Z({range:n,X:!0},(function(e,t,n){var r=fb(e[1]),a=new ky(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=sb(t.path),r=IDBKeyRange.bound([n],[hy(n)],!1,!0),i=0;return Fw(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=ce(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Lw(e).get(t).next((function(e){return e?Kb(e):null}))}}]),e}();function Lw(e){return Mb(e,"targets")}function Mw(e){return Mb(e,"targetGlobal")}function Fw(e){return Mb(e,"targetDocuments")}function Uw(e,t){var n=ce(e,2),r=n[0],i=n[1],a=ce(t,2),o=a[0],u=a[1],s=ly(r,o);return 0===s?ly(i,u):s}var jw=function(){function e(t){Ue(this,e),this.xn=t,this.buffer=new Zy(Uw),this.Nn=0}return Be(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Uw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Bw=function(){function e(t,n,r){Ue(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Be(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Qv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Uy(e.t0)){e.next=12;break}Qv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Oy(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Vw=function(){function e(t,n){Ue(this,e),this.$n=t,this.params=n}return Be(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ry.resolve(Gy.at);var r=new jw(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Qv("LruGarbageCollector","Garbage collection skipped; disabled"),Ry.resolve(Ew)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Qv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ew):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Qv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),qv()<=Xn.DEBUG&&Qv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Ry.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),zw=function(){function e(t,n){Ue(this,e),this.db=t,this.garbageCollector=function(e,t){return new Vw(e,t)}(this,n)}return Be(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return qw(e,n)}},{key:"removeReference",value:function(e,t,n){return qw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return qw(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Dw(e).tt((function(r){return Cw(e,r,t).next((function(e){return e&&(n=!0),Ry.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,py.min()),Fw(e).delete([0,sb(o.path)])}))}));i.push(s)}})).next((function(){return Ry.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return qw(e,t)}},{key:"Kn",value:function(e,t){var n,r=Fw(e),i=Gy.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=ce(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Gy.at&&t(new ky(fb(n)),i),i=s,n=u):i=Gy.at})).next((function(){i!==Gy.at&&t(new ky(fb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function qw(e,t){return Fw(e).put(function(e,t){return{targetId:0,path:sb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Qw=function(){function e(){Ue(this,e),this.changes=new uk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Be(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Um.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ry.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Gw=function(){function e(t){Ue(this,e),this.It=t}return Be(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Yw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Yw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],qb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Um.newInvalidDocument(t);return Yw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jw(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Um.newInvalidDocument(t)};return Yw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jw(t))},(function(e,i){r={document:n.jn(t,i),size:_w(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ck();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=ck(),i=new Yy(ky.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,_w(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Ry.resolve();var r=new Zy(Zw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Jw(r.first()),Jw(r.last())),a=r.getIterator(),o=a.getNext();return Yw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ky.fromSegments([].concat(Hn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Zw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Jw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),qb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yw(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ck(),i=an(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(ky.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ck(),o=Xw(t,n),u=Xw(t,_y.max());return Yw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(ky.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Kw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Ww(e).get("remoteDocumentGlobalKey").next((function(e){return Yv(!!e),e}))}},{key:"Qn",value:function(e,t){return Ww(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Hk(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ky.fromSegments(t.noDocument.path),i=Gb(t.noDocument.readTime);n=Um.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Wv();var a=ky.fromSegments(t.unknownDocument.path),o=Gb(t.unknownDocument.version);n=Um.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new dy(e[0],e[1]);return py.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(py.min()))return n}return Um.newInvalidDocument(e)}}]),e}();function Hw(e){return new Gw(e)}var Kw=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new uk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Be(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Zy((function(e,t){return ly(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=zb(t.Yn.It,o);i=i.add(a.path.popLast());var c=_w(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=zb(t.Yn.It,o.convertToNoDocument(py.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Qw);function Ww(e){return Mb(e,"remoteDocumentGlobal")}function Yw(e){return Mb(e,"remoteDocumentsV14")}function Jw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Xw(e,t){var n=t.documentKey.path.toArray();return[e,qb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Zw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=ly(n[a],r[a]))return i;return(i=ly(n.length,r.length))||((i=ly(n[n.length-2],r[r.length-2]))||ly(n[n.length-1],r[r.length-1]))}var $w=Be((function e(t,n){Ue(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ex=function(){function e(t,n,r,i){Ue(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Be(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Hg(r.mutation,e,tm.empty(),dy.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,gk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gk(),i=dk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=fk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=dk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,gk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ck(),a=vk(),o=vk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Jg)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Hg(o.mutation,t,o.mutation.getFieldMask(),dy.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new $w(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=vk(),i=new Yy((function(e,t){return e-t})),a=gk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=an(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||tm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||gk()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=pk();c.forEach((function(e){if(!a.has(e)){var n=Qg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Ry.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ky.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ry.resolve(dk()),u=-1,s=a;return o.next((function(t){return Ry.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Ry.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,gk())})).next((function(e){return{batchId:u,changes:hk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ky(t)).next((function(e){var t=fk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=fk();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ry.forEach(o,(function(o){var u=function(e,t){return new ug(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Um.newInvalidDocument(n)))}));var n=fk();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Hg(a.mutation,i,tm.empty(),dy.now()),bg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ry.resolve(Um.newInvalidDocument(t))}}]),e}(),tx=function(){function e(t){Ue(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Be(e,[{key:"getBundleMetadata",value:function(e,t){return Ry.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Mk(n.createTime)}),Ry.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ry.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Yb(e.bundledQuery),readTime:Mk(e.readTime)}}(t)),Ry.resolve()}}]),e}(),nx=function(){function e(){Ue(this,e),this.overlays=new Yy(ky.comparator),this.es=new Map}return Be(e,[{key:"getOverlay",value:function(e,t){return Ry.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=dk();return Ry.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Ry.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Ry.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=dk(),i=t.length+1,a=new ky(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ry.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Yy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=dk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=dk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Ry.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new jb(t,n));var a=this.es.get(t);void 0===a&&(a=gk(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),rx=function(){function e(){Ue(this,e),this.ns=new Zy(ix.ss),this.rs=new Zy(ix.os)}return Be(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ix(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new ix(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new ky(new yy([])),r=new ix(n,e),i=new ix(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new ky(new yy([])),n=new ix(t,e),r=new ix(t,e+1),i=gk();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ix(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ix=function(){function e(t,n){Ue(this,e),this.key=t,this._s=n}return Be(e,null,[{key:"ss",value:function(e,t){return ky.comparator(e.key,t.key)||ly(e._s,t._s)}},{key:"os",value:function(e,t){return ly(e._s,t._s)||ky.comparator(e.key,t.key)}}]),e}(),ax=function(){function e(t,n){Ue(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Zy(ix.ss)}return Be(e,[{key:"checkEmpty",value:function(e){return Ry.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Fb(i,t,n,r);this.mutationQueue.push(a);var o,u=an(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new ix(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ry.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ry.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Ry.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ry.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Ry.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ix(t,0),i=new ix(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Ry.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zy(ly);return t.forEach((function(e){var t=new ix(e,0),i=new ix(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Ry.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ky.isDocumentKey(i)||(i=i.child(""));var a=new ix(new ky(i),0),o=new Zy(ly);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Ry.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Yv(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Ry.forEach(t.mutations,(function(i){var a=new ix(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ix(t,0),r=this.gs.firstAfterOrEqual(n);return Ry.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ry.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ox=function(){function e(t){Ue(this,e),this.Es=t,this.docs=new Yy(ky.comparator),this.size=0}return Be(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ry.resolve(n?n.document.mutableCopy():Um.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ck();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Um.newInvalidDocument(e))})),Ry.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ck(),i=new ky(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Ty(Ay(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Ry.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Wv()}},{key:"As",value:function(e,t){return Ry.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ux(this)}},{key:"getSize",value:function(e){return Ry.resolve(this.size)}}]),e}(),ux=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this)).Yn=e,r}return Be(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Qw),sx=function(){function e(t){Ue(this,e),this.persistence=t,this.Rs=new uk((function(e){return Vm(e)}),zm),this.lastRemoteSnapshotVersion=py.min(),this.highestTargetId=0,this.bs=0,this.Ps=new rx,this.targetCount=0,this.vs=Rw.Pn()}return Be(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Ry.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ry.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ry.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Ry.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Ry.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Rw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Ry.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Ry.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ry.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ry.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ry.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Ry.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Ry.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ry.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Ry.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Ry.resolve(n)}},{key:"containsKey",value:function(e,t){return Ry.resolve(this.Ps.containsKey(t))}}]),e}(),cx=function(){function e(t,n){var r=this;Ue(this,e),this.Vs={},this.overlays={},this.Ss=new Gy(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new sx(this),this.indexManager=new vw,this.remoteDocumentCache=new ox((function(e){return r.referenceDelegate.xs(e)})),this.It=new Vb(n),this.Ns=new tx(this.It)}return Be(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new nx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new ax(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Qv("MemoryPersistence","Starting transaction:",e);var i=new lx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Ry.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),lx=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Be(n)}(Ny),fx=function(){function e(t){Ue(this,e),this.persistence=t,this.Fs=new rx,this.$s=null}return Be(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Wv()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Ry.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Ry.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Ry.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ry.forEach(this.Ls,(function(r){var i=ky.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,py.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Ry.or([function(){return Ry.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),hx=function(){function e(t){Ue(this,e),this.It=t}return Be(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Py("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hb,{unique:!0}),e.createObjectStore("documentMutations")}(e),dx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Ry.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),dx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:py.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Ry.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:_b});t.createIndex("collectionPathOverlayIndex",Tb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Cb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:yb});t.createIndex("documentKeyIndex",mb),t.createIndex("collectionGroupIndex",gb)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ib}).createIndex("sequenceNumberIndex",Eb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Sb}).createIndex("documentKeyIndex",Ab,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=_w(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Ry.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Ry.forEach(r,(function(r){Yv(r.userId===n.userId);var i=Hb(t.It,r);return Aw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new yy(n),o=function(e){return[0,sb(e)]}(a);r.push(t.get(o).next((function(n){return n?Ry.resolve():function(n){return t.put({targetId:0,path:sb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Ry.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:xb});var n=t.store("collectionParents"),r=new yw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:sb(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new yy(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=ce(e,3),r=(n[0],n[1]),a=(n[2],fb(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Kb(r),a=Wb(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ky(yy.fromString(i.document.name).popFirst(5)):i.noDocument?ky.fromSegments(i.noDocument.path):i.unknownDocument?ky.fromSegments(i.unknownDocument.path):Wv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Ry.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Hw(this.It),a=new cx(fx.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:gk();Hb(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Ry.forEach(r,(function(e,r){var o=new Bv(r),u=nw.oe(n.It,o),s=a.getIndexManager(o),c=Tw.oe(o,n.It,s,a.referenceDelegate);return new ex(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Lb(t,Gy.at),e).next()}))}))}}]),e}();function dx(e){e.createObjectStore("targetDocuments",{keyPath:bb}).createIndex("documentTargetsIndex",wb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kb,{unique:!0}),e.createObjectStore("targetGlobal")}var px="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Ue(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Zv(Xv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zw(this,i),this.ii=n+"main",this.It=new Vb(s),this.ri=new Ly(this.ii,this.Xs,new hx(this.It)),this.Cs=new Pw(this.referenceDelegate,this.It),this.remoteDocumentCache=Hw(this.It),this.Ns=new $b,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Gv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Be(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Zv(Xv.FAILED_PRECONDITION,px);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Gy(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=ie(ne().mark((function n(r){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=ie(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return mx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Uy(t))return Qv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Qv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return yx(e).get("owner").next((function(e){return Ry.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return mx(e).delete(this.clientId)}},{key:"yi",value:function(){var e=ie(ne().mark((function e(){var t,n,r,i,a=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Mb(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ry.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=an(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Ry.resolve(!0):yx(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Zv(Xv.FAILED_PRECONDITION,px);return!1}}return!(!t.networkEnabled||!t.inForeground)||mx(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Qv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ie(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Lb(e,Gy.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return mx(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Tw.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new gw(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return nw.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Qv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Pb:14===i?Rb:13===i?Db:12===i?Ob:11===i?Nb:void Wv();return this.ri.runTransaction(e,o,u,(function(i){return a=new Lb(i,r.Ss?r.Ss.next():Gy.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Gv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Zv(Xv.FAILED_PRECONDITION,Cy);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return yx(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Zv(Xv.FAILED_PRECONDITION,px)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yx(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=yx(e);return n.get("owner").next((function(e){return t.mi(e)?(Qv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ry.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Gv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!wn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Qv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Gv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Jf){Gv("Failed to set zombie client id.",Jf)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Jf){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Ly.C()}}]),e}();function yx(e){return Mb(e,"owner")}function mx(e){return Mb(e,"clientMetadata")}function gx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var kx=function(){function e(t,n,r,i){Ue(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Be(e,null,[{key:"Ci",value:function(t,n){var r,i=gk(),a=gk(),o=an(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),bx=function(){function e(){Ue(this,e),this.xi=!1}return Be(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(lg(t))return Ry.resolve(null);var r=vg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=yg(t,null,"F"),r=vg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=gk.apply(void 0,Hn(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,yg(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return lg(t)||r.isEqual(py.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(qv()<=Xn.DEBUG&&Qv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kg(t)),i.Bi(e,o,t,Sy(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Zy(xg(e));return t.forEach((function(t,r){bg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return qv()<=Xn.DEBUG&&Qv("QueryEngine","Using full collection scan to execute query:",kg(t)),this.Ni.getDocumentsMatchingQuery(e,t,_y.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),wx=function(){function e(t,n,r,i){Ue(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Yy(ly),this.qi=new uk((function(e){return Vm(e)}),zm),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Be(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ex(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function xx(e,t,n,r){return new wx(e,t,n,r)}function Ix(e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=gk(),s=an(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=an(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=an(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=an(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function Sx(e,t){var n=Jv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ry.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Yv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=gk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Ax(e){var t=Jv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function _x(e,t){var n=Jv(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(nm.EMPTY_BYTE_STRING,py.min()).withLastLimboFreeSnapshotVersion(py.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=ck(),s=gk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Tx(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(py.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ry.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Tx(e,t,n){var r=gk(),i=gk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ck();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(py.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Qv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Cx(e,t){var n=Jv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Nx(e,t){var n=Jv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Ry.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Bb(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Ox(e,t,n){return Dx.apply(this,arguments)}function Dx(){return Dx=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jv(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Uy(e.t1)){e.next=12;break}throw e.t1;case 12:Qv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Dx.apply(this,arguments)}function Rx(e,t,n){var r=Jv(e),i=py.min(),a=gk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Jv(e),i=r.qi.get(n);return void 0!==i?Ry.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,vg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:py.min(),n?a:gk())})).next((function(e){return Mx(r,wg(t),e),{documents:e,Hi:a}}))}))}function Px(e,t){var n=Jv(e),r=Jv(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Lx(e,t){var n=Jv(e),r=n.Ki.get(t)||py.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Sy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Mx(n,t,e),e}))}function Mx(e,t,n){var r=e.Ki.get(t)||py.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Fx(e,t,n,r){return Ux.apply(this,arguments)}function Ux(){return Ux=ie(ne().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Jv(t),o=gk(),u=ck(),s=an(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Nx(a,function(e){return vg(cg(yy.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Tx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function jx(e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=ie(ne().mark((function e(t,n){var r,i,a,o=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:gk(),e.next=3,Nx(t,vg(Yb(n.bundledQuery)));case 3:return i=e.sent,a=Jv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Mk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(nm.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function Vx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function zx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function qx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Qx=function(){function e(t,n,r,i){Ue(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Be(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Zv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Gv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Gx=function(){function e(t,n,r){Ue(this,e),this.targetId=t,this.state=n,this.error=r}return Be(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Zv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Gv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Hx=function(){function e(t,n){Ue(this,e),this.clientId=t,this.activeTargetIds=n}return Be(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=bk(),o=0;i&&o<r.activeTargetIds.length;++o)i=pm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Gv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Kx=function(){function e(t,n){Ue(this,e),this.clientId=t,this.onlineState=n}return Be(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Gv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Wx=function(){function e(){Ue(this,e),this.activeTargetIds=bk()}return Be(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Yx=function(){function e(t,n,r,i,a){Ue(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Yy(ly),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Vx(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Wx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Be(e,[{key:"start",value:function(){var e=ie(ne().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=an(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Vx(this.persistenceKey,i)))&&(o=Hx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=an(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(qx(this.persistenceKey,e));if(n){var r=Gx.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(qx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Qv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Qv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Qv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Qv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Gv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(ie(ne().mark((function e(){var r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Gy.at;if(null!=e)try{var n=JSON.parse(e);Yv("number"==typeof n),t=n}catch(e){Gv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Gy.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Qx(this.currentUser,e,t,n),i=zx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=zx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=qx(this.persistenceKey,e),i=new Gx(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Hx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Qx.Zi(new Bv(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Gx.Zi(r,t)}},{key:"yr",value:function(e){return Kx.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Qv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=bk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Jx=function(){function e(){Ue(this,e),this.Lr=new Wx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Be(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Wx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Xx=function(){function e(){Ue(this,e)}return Be(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Zx=function(){function e(){var t=this;Ue(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Be(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Qv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=an(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Qv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=an(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),$x={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},eI=function(){function e(t){Ue(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Be(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),tI=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Be(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Uv;o.setWithCredentials(!0),o.listenOnce(Rv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Dv.NO_ERROR:var t=o.getResponseJson();Qv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Dv.TIMEOUT:Qv("Connection",'RPC "'+e+'" timed out'),a(new Zv(Xv.DEADLINE_EXCEEDED,"Request time out"));break;case Dv.HTTP_ERROR:var n=o.getStatus();if(Qv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xv).indexOf(t)>=0?t:Xv.UNKNOWN}(r.status);a(new Zv(u,r.message))}else a(new Zv(Xv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Zv(Xv.UNAVAILABLE,"Connection failed."));break;default:Wv()}}finally{Qv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Nv(),a=Ov(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Mv({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Qv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new eI({Hr:function(e){l?Qv("Connection","Not sending because WebChannel is closed:",e):(c||(Qv("Connection","Opening WebChannel transport."),s.open(),c=!0),Qv("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Fv.EventType.OPEN,(function(){l||Qv("Connection","WebChannel transport opened.")})),h(s,Fv.EventType.CLOSE,(function(){l||(l=!0,Qv("Connection","WebChannel transport closed"),f.io())})),h(s,Fv.EventType.ERROR,(function(e){l||(l=!0,Hv("Connection","WebChannel transport errored:",e),f.io(new Zv(Xv.UNAVAILABLE,"The operation could not be completed")))})),h(s,Fv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Yv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Qv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ek[e];if(void 0!==t)return ok(t)}(a),u=i.message;void 0===o&&(o=Xv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Zv(o,u)),s.close()}else Qv("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Pv.STAT_EVENT,(function(e){e.stat===Lv.PROXY?Qv("Connection","Detected buffering proxy"):e.stat===Lv.NOPROXY&&Qv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Ue(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Be(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Qv("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Qv("RestConnection","Received: ",e),e}),(function(t){throw Hv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=$x[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function nI(){return"undefined"!=typeof window?window:null}function rI(){return"undefined"!=typeof document?document:null}function iI(e){return new Dk(e,!0)}var aI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ue(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Be(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Qv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),oI=function(){function e(t,n,r,i,a,o,u,s){Ue(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new aI(t,n)}return Be(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Xv.RESOURCE_EXHAUSTED?(Gv(n.toString()),Gv("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Xv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=ce(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Zv(Xv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(ie(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Qv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Qv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),uI=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a,o,u){var s;return Ue(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Be(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Yv(void 0===t||"string"==typeof t),nm.fromBase64String(t||"")):(Yv(void 0===t||t instanceof Uint8Array),nm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Xv.UNKNOWN:ok(e.code);return new Zv(t,e.message||"")}(o);n=new Sk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Bk(e,s.document.name),l=Mk(s.document.updateTime),f=new Mm({mapValue:{fields:s.document.fields}}),h=Um.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ik(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Bk(e,v.document),m=v.readTime?Mk(v.readTime):py.min(),g=Um.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Ik([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Bk(e,b.document),x=b.removedTargetIds||[];n=new Ik([],x,w,null)}else{if(!("filter"in t))return Wv();t.filter;var I=t.filter;I.targetId;var E=I.count||0,S=new ik(E),A=I.targetId;n=new Ek(A,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return py.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?py.min():t.readTime?Mk(t.readTime):py.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=qk(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=qm(r)?{documents:Jk(e,r)}:{query:Xk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Pk(e,t.resumeToken):t.snapshotVersion.compareTo(py.min())>0&&(n.readTime=Rk(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=qk(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(oI),sI=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a,o,u){var s;return Ue(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Be(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,bi(cn(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Yv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Yv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mk(e.updateTime):Mk(t);return n.isEqual(py.min())&&(n=Mk(t)),new Bg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Mk(e.commitTime);return this.listener.Zo(n,t)}return Yv(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=qk(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Wk(t.It,e)}))};this.Bo(n)}}]),n}(oI),cI=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a){var o;return Ue(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return Be(n,[{key:"su",value:function(){if(this.nu)throw new Zv(Xv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=ce(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Zv(Xv.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=ce(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Zv(Xv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Be((function e(){Ue(this,e)}))}());var lI=function(){function e(t,n){Ue(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Be(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Gv(t),this.ou=!1):Qv("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),fI=Be((function e(t,n,r,i,a){var o=this;Ue(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=xI(o),!e.t0){e.next=5;break}return Qv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jv(t))._u.add(4),e.next=4,pI(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,hI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new lI(r,i)}));function hI(e){return dI.apply(this,arguments)}function dI(){return dI=ie(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xI(t)){e.next=18;break}n=an(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),dI.apply(this,arguments)}function pI(e){return vI.apply(this,arguments)}function vI(){return vI=ie(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=an(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),vI.apply(this,arguments)}function yI(e,t){var n=Jv(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),wI(n)?bI(n):XI(n).ko()&&gI(n,t))}function mI(e,t){var n=Jv(e),r=XI(n);n.du.delete(t),r.ko()&&kI(n,t),0===n.du.size&&(r.ko()?r.Fo():xI(n)&&n.gu.set("Unknown"))}function gI(e,t){e.yu.Mt(t.targetId),XI(e).zo(t)}function kI(e,t){e.yu.Mt(t),XI(e).Ho(t)}function bI(e){e.yu=new _k({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),XI(e).start(),e.gu.uu()}function wI(e){return xI(e)&&!XI(e).No()&&e.du.size>0}function xI(e){return 0===Jv(e)._u.size}function II(e){e.yu=void 0}function EI(e){return SI.apply(this,arguments)}function SI(){return SI=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){gI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),SI.apply(this,arguments)}function AI(e,t){return _I.apply(this,arguments)}function _I(){return _I=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:II(t),wI(t)?(t.gu.hu(n),bI(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function TI(e,t,n){return CI.apply(this,arguments)}function CI(){return CI=ie(ne().mark((function e(t,n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Sk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ie(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=an(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Qv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,NI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ik?t.yu.Gt(n):n instanceof Ek?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(py.min())){e.next=29;break}return e.prev=14,e.next=17,Ax(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(nm.EMPTY_BYTE_STRING,n.snapshotVersion)),kI(e,t);var r=new Bb(n.target,t,1,n.sequenceNumber);gI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Qv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,NI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),CI.apply(this,arguments)}function NI(e,t,n){return OI.apply(this,arguments)}function OI(){return OI=ie(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uy(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,pI(t);case 5:t.gu.set("Offline"),r||(r=function(){return Ax(t.localStore)}),t.asyncQueue.enqueueRetryable(ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,hI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function DI(e,t){return t().catch((function(n){return NI(e,n,t)}))}function RI(e){return PI.apply(this,arguments)}function PI(){return PI=ie(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jv(t),r=ZI(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!LI(n)){e.next=19;break}return e.prev=3,e.next=6,Cx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,MI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,NI(n,e.t0);case 17:e.next=2;break;case 19:FI(n)&&UI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),PI.apply(this,arguments)}function LI(e){return xI(e)&&e.fu.length<10}function MI(e,t){e.fu.push(t);var n=ZI(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function FI(e){return xI(e)&&!ZI(e).No()&&e.fu.length>0}function UI(e){ZI(e).start()}function jI(e){return BI.apply(this,arguments)}function BI(){return BI=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZI(t).eu();case 1:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function VI(e){return zI.apply(this,arguments)}function zI(){return zI=ie(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ZI(t),r=an(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function qI(e,t,n){return QI.apply(this,arguments)}function QI(){return QI=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Ub.from(i,n,r),e.next=3,DI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,RI(t);case 5:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function GI(e,t){return HI.apply(this,arguments)}function HI(){return HI=ie(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ZI(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ie(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ak(i=n.code)||i===Xv.ABORTED){e.next=7;break}return r=t.fu.shift(),ZI(t).Mo(),e.next=5,DI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,RI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:FI(t)&&UI(t);case 5:case"end":return e.stop()}}),e)}))),HI.apply(this,arguments)}function KI(e,t){return WI.apply(this,arguments)}function WI(){return WI=ie(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Jv(t)).asyncQueue.verifyOperationInProgress(),Qv("RemoteStore","RemoteStore received new credentials"),i=xI(r),r._u.add(3),e.next=6,pI(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,hI(r);case 12:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function YI(e,t){return JI.apply(this,arguments)}function JI(){return JI=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,hI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,pI(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function XI(e){return e.pu||(e.pu=function(e,t,n){var r=Jv(e);return r.su(),new uI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:EI.bind(null,e),Zr:AI.bind(null,e),Wo:TI.bind(null,e)}),e.wu.push(function(){var t=ie(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),wI(e)?bI(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:II(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function ZI(e){return e.Iu||(e.Iu=function(e,t,n){var r=Jv(e);return r.su(),new sI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:jI.bind(null,e),Zr:GI.bind(null,e),tu:VI.bind(null,e),Zo:qI.bind(null,e)}),e.wu.push(function(){var t=ie(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,RI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Qv("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var $I=function(){function e(t,n,r,i,a){Ue(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $v,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Be(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zv(Xv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function eE(e,t){if(Gv("AsyncQueue","".concat(t,": ").concat(e)),Uy(e))return new Zv(Xv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var tE=function(){function e(t){Ue(this,e),this.comparator=t?function(e,n){return t(e,n)||ky.comparator(e.key,n.key)}:function(e,t){return ky.comparator(e.key,t.key)},this.keyedMap=fk(),this.sortedSet=new Yy(this.comparator)}return Be(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),nE=function(){function e(){Ue(this,e),this.Tu=new Yy(ky.comparator)}return Be(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Wv():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),rE=function(){function e(t,n,r,i,a,o,u,s,c){Ue(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Be(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,tE.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),iE=Be((function e(){Ue(this,e),this.Au=void 0,this.listeners=[]})),aE=Be((function e(){Ue(this,e),this.queries=new uk((function(e){return gg(e)}),mg),this.onlineState="Unknown",this.Ru=new Set}));function oE(e,t){return uE.apply(this,arguments)}function uE(){return uE=ie(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new iE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=eE(e.t0,"Initialization of query '".concat(kg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&hE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),uE.apply(this,arguments)}function sE(e,t){return cE.apply(this,arguments)}function cE(){return cE=ie(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){var n,r=Jv(e),i=!1,a=an(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=an(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&hE(r)}function fE(e,t,n){var r=Jv(e),i=r.queries.get(t);if(i){var a,o=an(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function hE(e){e.Ru.forEach((function(e){e.next()}))}var dE=function(){function e(t,n,r){Ue(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Be(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=an(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new rE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=rE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),pE=function(){function e(t,n){Ue(this,e),this.ku=t,this.byteLength=n}return Be(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),vE=function(){function e(t){Ue(this,e),this.It=t}return Be(e,[{key:"Ji",value:function(e){return Bk(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Hk(this.It,e.document,!1):Um.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Mk(e)}}]),e}(),yE=function(){function e(t,n,r){Ue(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mE(t)}return Be(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=yy.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new vE(this.It),i=an(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=an(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||gk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ie(ne().mark((function e(){var t,n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fx(this.localStore,new vE(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=an(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,jx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function mE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var gE=Be((function e(t){Ue(this,e),this.key=t})),kE=Be((function e(t){Ue(this,e),this.key=t})),bE=function(){function e(t,n){Ue(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=gk(),this.mutatedKeys=gk(),this.Gu=xg(t),this.Qu=new tE(this.Gu)}return Be(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new nE,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=bg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wv()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new rE(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new nE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=gk(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new kE(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new gE(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=gk();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return rE.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),wE=Be((function e(t,n,r){Ue(this,e),this.query=t,this.targetId=n,this.view=r})),xE=Be((function e(t){Ue(this,e),this.key=t,this.nc=!1})),IE=function(){function e(t,n,r,i,a,o){Ue(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new uk((function(e){return gg(e)}),mg),this.rc=new Map,this.oc=new Set,this.uc=new Yy(ky.comparator),this.cc=new Map,this.ac=new rx,this.hc={},this.lc=new Map,this.fc=Rw.vn(),this.onlineState="Unknown",this.dc=void 0}return Be(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function EE(e,t){return SE.apply(this,arguments)}function SE(){return SE=ie(ne().mark((function e(t,n){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mS(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Nx(r.localStore,vg(n));case 8:return u=e.sent,r.isPrimaryClient&&yI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,AE(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function AE(e,t,n,r,i){return _E.apply(this,arguments)}function _E(){return _E=ie(ne().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=ie(ne().mark((function e(t,n,r,i){var a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Rx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(KE(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Rx(t.localStore,n,!0);case 3:return o=e.sent,u=new bE(n,o.Hi),s=u.Wu(o.documents),c=xk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),KE(t,r,l.Xu),f=new wE(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function TE(e,t){return CE.apply(this,arguments)}function CE(){return CE=ie(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!mg(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ox(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mI(r.remoteStore,i.targetId),GE(r,i.targetId)})).catch(Oy);case 9:e.next=14;break;case 11:return GE(r,i.targetId),e.next=14,Ox(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function NE(e,t,n){return OE.apply(this,arguments)}function OE(){return OE=ie(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Jv(e),a=dy.now(),o=t.reduce((function(e,t){return e.add(t.key)}),gk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ck(),s=gk();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=an(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Kg(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Jg(c.key,l,Fm(l.value.mapValue),Vg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:hk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Yy(ly)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,JE(i,a.changes);case 9:return e.next=11,RI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=eE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),OE.apply(this,arguments)}function DE(e,t){return RE.apply(this,arguments)}function RE(){return RE=ie(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.prev=1,e.next=4,_x(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Yv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Yv(n.nc):e.removedDocuments.size>0&&(Yv(n.nc),n.nc=!1))})),e.next=8,JE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Oy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),RE.apply(this,arguments)}function PE(e,t,n){var r=Jv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Jv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=an(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&hE(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function LE(e,t,n){return ME.apply(this,arguments)}function ME(){return ME=ie(ne().mark((function e(t,n,r){var i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Jv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Yy(ky.comparator)).insert(o,Um.newNoDocument(o,py.min())),s=gk().add(o),c=new wk(py.min(),new Map,new Zy(ly),u,s),e.next=9,DE(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),YE(i),e.next=16;break;case 14:return e.next=16,Ox(i.localStore,n,!1).then((function(){return GE(i,n,r)})).catch(Oy);case 16:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function FE(e,t){return UE.apply(this,arguments)}function UE(){return UE=ie(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=n.batch.batchId,e.prev=1,e.next=4,Sx(r.localStore,n);case 4:return a=e.sent,QE(r,i,null),qE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,JE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Oy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),UE.apply(this,arguments)}function jE(e,t,n){return BE.apply(this,arguments)}function BE(){return BE=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jv(t),e.prev=1,e.next=4,function(e,t){var n=Jv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Yv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,QE(i,n,r),qE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,JE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Oy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),BE.apply(this,arguments)}function VE(e,t){return zE.apply(this,arguments)}function zE(){return zE=ie(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xI((r=Jv(t)).remoteStore)||Qv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Jv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=eE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),zE.apply(this,arguments)}function qE(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function QE(e,t,n){var r=Jv(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function GE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=an(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||HE(e,t)}))}function HE(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(mI(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),YE(e))}function KE(e,t,n){var r,i=an(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof gE?(e.ac.addReference(a.key,t),WE(e,a)):a instanceof kE?(Qv("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||HE(e,a.key)):Wv()}}catch(o){i.e(o)}finally{i.f()}}function WE(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Qv("SyncEngine","New document in limbo: "+n),e.oc.add(r),YE(e))}function YE(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new ky(yy.fromString(t)),r=e.fc.next();e.cc.set(r,new xE(n)),e.uc=e.uc.insert(n,r),yI(e.remoteStore,new Bb(vg(cg(n.path)),r,2,Gy.at))}}function JE(e,t,n){return XE.apply(this,arguments)}function XE(){return XE=ie(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jv(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=kx.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=ie(ne().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ry.forEach(n,(function(t){return Ry.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ry.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Uy(e.t0)){e.next=10;break}throw e.t0;case 10:Qv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=an(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function ZE(e,t){return $E.apply(this,arguments)}function $E(){return $E=ie(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Jv(t)).currentUser.isEqual(n)){e.next=11;break}return Qv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ix(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Zv(Xv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,JE(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function eS(e,t){var n=Jv(e),r=n.cc.get(t);if(r&&r.nc)return gk().add(r.key);var i=gk(),a=n.rc.get(t);if(!a)return i;var o,u=an(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=ie(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.next=3,Rx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&KE(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=ie(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.abrupt("return",Lx(r.localStore,n).then((function(e){return JE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t,n,r){return oS.apply(this,arguments)}function oS(){return oS=ie(ne().mark((function e(t,n,r,i){var a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Jv(t),e.next=3,function(e,t){var n=Jv(e),r=Jv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Ry.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,RI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(QE(a,n,i||null),qE(a,n),function(e,t){Jv(Jv(e).mutationQueue).An(t)}(a.localStore,n)):Wv();case 11:return e.next=13,JE(a,o);case 13:e.next=16;break;case 15:Qv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function uS(e,t){return sS.apply(this,arguments)}function sS(){return sS=ie(ne().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mS(r=Jv(t)),gS(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,cS(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,YI(r.remoteStore,!0);case 9:o=an(a);try{for(o.s();!(u=o.n()).done;)s=u.value,yI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return GE(r,t),Ox(r.localStore,t,!0)})),mI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,cS(r,c);case 21:return function(e){var t=Jv(e);t.cc.forEach((function(e,n){mI(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Yy(ky.comparator)}(r),r.dc=!1,e.next=25,YI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function cS(e,t,n){return lS.apply(this,arguments)}function lS(){return lS=ie(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Jv(t),a=[],o=[],u=an(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Nx(i.localStore,vg(f[0]));case 11:l=e.sent,h=an(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,tS(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Px(i.localStore,c);case 36:return m=e.sent,e.next=39,Nx(i.localStore,m);case 39:return l=e.sent,e.next=42,AE(i,fS(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),lS.apply(this,arguments)}function fS(e){return sg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hS(e){var t=Jv(e);return Jv(Jv(t.localStore).persistence).vi()}function dS(e,t,n,r){return pS.apply(this,arguments)}function pS(){return pS=ie(ne().mark((function e(t,n,r,i){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Jv(t)).dc){e.next=3;break}return e.abrupt("return",void Qv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Lx(a.localStore,wg(o[0]));case 10:return u=e.sent,s=wk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,nm.EMPTY_BYTE_STRING),e.next=14,JE(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ox(a.localStore,n,!0);case 17:return GE(a,n,i),e.abrupt("break",20);case 19:Wv();case 20:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e,t,n){return yS.apply(this,arguments)}function yS(){return yS=ie(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=mS(t)).dc){e.next=45;break}a=an(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Qv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Px(i.localStore,u);case 12:return s=e.sent,e.next=15,Nx(i.localStore,s);case 15:return c=e.sent,e.next=18,AE(i,fS(s),c.targetId,!1,c.resumeToken);case 18:yI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=an(r),e.prev=30,h=ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Ox(i.localStore,t,!1).then((function(){mI(i.remoteStore,t),GE(i,t)})).catch(Oy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),yS.apply(this,arguments)}function mS(e){var t=Jv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LE.bind(null,t),t.sc.Wo=lE.bind(null,t.eventManager),t.sc.wc=fE.bind(null,t.eventManager),t}function gS(e){var t=Jv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jE.bind(null,t),t}function kS(e,t,n){var r=Jv(e);(function(){var e=ie(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Jv(e),r=Mk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(mE(i)),a=new yE(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,JE(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Jv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Hv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var bS=function(){function e(){Ue(this,e),this.synchronizeTabs=!1}return Be(e,[{key:"initialize",value:function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=iI(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return xx(this.persistence,new bx,e.initialUser,this.It)}},{key:"yc",value:function(e){return new cx(fx.Bs,this.It)}},{key:"gc",value:function(e){return new Jx}},{key:"terminate",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wS=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Be(n,[{key:"initialize",value:function(){var e=ie(ne().mark((function e(t){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(cn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,gS(this.Ac.syncEngine);case 6:return e.next=8,RI(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return xx(this.persistence,new bx,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Bw(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Qy(t,this.persistence);return new qy(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=gx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Sw.withCacheSize(this.cacheSizeBytes):Sw.DEFAULT;return new vx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,nI(),rI(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Jx}}]),n}(bS),xS=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Be(n,[{key:"initialize",value:function(){var e=ie(ne().mark((function e(t){var r,i=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(cn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Yx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:aS.bind(null,r),$r:dS.bind(null,r),Br:vS.bind(null,r),vi:hS.bind(null,r),Mr:rS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uS(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=nI();if(!Yx.C(t))throw new Zv(Xv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(wS),IS=function(){function e(){Ue(this,e)}return Be(e,[{key:"initialize",value:function(){var e=ie(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return PE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ZE.bind(null,this.syncEngine),e.next=12,YI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new aE}},{key:"createDatastore",value:function(e){var t,n=iI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new tI(t));return function(e,t,n,r){return new cI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return PE(o.syncEngine,e,0)},a=Zx.C()?new Zx:new Xx,new fI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new IE(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jv(t),Qv("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,pI(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ES(e,t,n){if(!n)throw new Zv(Xv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function SS(e,t,n,r){if(!0===t&&!0===r)throw new Zv(Xv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function AS(e){if(!ky.isDocumentKey(e))throw new Zv(Xv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _S(e){if(ky.isDocumentKey(e))throw new Zv(Xv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Wv()}function CS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zv(Xv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=TS(e);throw new Zv(Xv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function NS(e,t){if(t<=0)throw new Zv(Xv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var OS=new Map,DS=function(){function e(t){var n;if(Ue(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Zv(Xv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zv(Xv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,SS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Be(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),RS=function(){function e(t,n,r,i){Ue(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DS({}),this._settingsFrozen=!1}return Be(e,[{key:"app",get:function(){if(!this._app)throw new Zv(Xv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Zv(Xv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ty;switch(e.type){case"gapi":var t=e.client;return new ay(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zv(Xv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=OS.get(e);t&&(Qv("ComponentProvider","Removing Datastore"),OS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function PS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=CS(e,RS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Hv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Bv.MOCK_USER;else{o=Nn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Zv(Xv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bv(s)}e._authCredentials=new ny(new ey(o,u))}}var LS=function(){function e(t,n,r){Ue(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Be(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new FS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),MS=function(){function e(t,n,r){Ue(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Be(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),FS=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this,e,r,cg(i)))._path=i,a.type="collection",a}return Be(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new LS(this.firestore,null,new ky(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(MS);function US(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qn(e),ES("collection","path",t),e instanceof RS){var a=yy.fromString.apply(yy,[t].concat(r));return _S(a),new FS(e,null,a)}if(!(e instanceof LS||e instanceof FS))throw new Zv(Xv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(yy.fromString.apply(yy,[t].concat(r)));return _S(o),new FS(e.firestore,null,o)}function jS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qn(e),1===arguments.length&&(t=cy.R()),ES("doc","path",t),e instanceof RS){var a=yy.fromString.apply(yy,[t].concat(r));return AS(a),new LS(e,null,new ky(a))}if(!(e instanceof LS||e instanceof FS))throw new Zv(Xv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(yy.fromString.apply(yy,[t].concat(r)));return AS(o),new LS(e.firestore,e instanceof FS?e.converter:null,new ky(o))}function BS(e,t){return e=Qn(e),t=Qn(t),(e instanceof LS||e instanceof FS)&&(t instanceof LS||t instanceof FS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VS(e,t){return e=Qn(e),t=Qn(t),e instanceof MS&&t instanceof MS&&e.firestore===t.firestore&&mg(e._query,t._query)&&e.converter===t.converter}function zS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ie(ne().mark((function r(){var i;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var qS=function(){function e(t){Ue(this,e),this.observer=t,this.muted=!1}return Be(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Gv("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),QS=function(){function e(t,n){var r=this;Ue(this,e),this.Pc=t,this.It=n,this.metadata=new $v,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return Be(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=ie(ne().mark((function e(){var t,n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new pE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=ie(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=ie(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),GS=function(){function e(t){Ue(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Be(e,[{key:"lookup",value:function(){var e=ie(ne().mark((function e(t){var n,r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Zv(Xv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ie(ne().mark((function e(t,n){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=qk(r.It)+"/documents",a={documents:n.map((function(e){return jk(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Kk(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Yv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new nk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ie(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ky.fromPath(t);n.mutations.push(new rk(r,n.precondition(r)))})),e.next=7,function(){var e=ie(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=qk(r.It)+"/documents",a={writes:n.map((function(e){return Wk(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wv();t=py.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Zv(Xv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(py.min())?Vg.exists(!1):Vg.updateTime(t):Vg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(py.min()))throw new Zv(Xv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vg.updateTime(t)}return Vg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),HS=function(){function e(t,n,r,i,a){Ue(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new aI(this.asyncQueue,"transaction_retry")}return Be(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(ie(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new GS(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!hm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ak(t)}return!1}}]),e}(),KS=function(){function e(t,n,r,i){var a=this;Ue(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bv.UNAUTHENTICATED,this.clientId=cy.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Qv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Be(e,[{key:"getConfiguration",value:function(){var e=ie(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Zv(Xv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new $v;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ie(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=eE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function WS(e,t){return YS.apply(this,arguments)}function YS(){return YS=ie(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Qv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ix(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function JS(e,t){return XS.apply(this,arguments)}function XS(){return XS=ie(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ZS(t);case 3:return r=e.sent,Qv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return KI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return KI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function ZS(e){return $S.apply(this,arguments)}function $S(){return $S=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Qv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,WS(t,new bS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function eA(e){return tA.apply(this,arguments)}function tA(){return tA=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Qv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,JS(t,new IS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(e){return ZS(e).then((function(e){return e.persistence}))}function rA(e){return ZS(e).then((function(e){return e.localStore}))}function iA(e){return eA(e).then((function(e){return e.remoteStore}))}function aA(e){return eA(e).then((function(e){return e.syncEngine}))}function oA(e){return eA(e).then((function(e){return e.datastore}))}function uA(e){return sA.apply(this,arguments)}function sA(){return sA=ie(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=EE.bind(null,n.syncEngine),r.onUnlisten=TE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function cA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $v;return e.asyncQueue.enqueueAndForget(ie(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qS({next:function(a){t.enqueueAndForget((function(){return sE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Zv(Xv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Zv(Xv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new dE(cg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return oE(e,o)},i.next=3,uA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function lA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $v;return e.asyncQueue.enqueueAndForget(ie(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qS({next:function(n){t.enqueueAndForget((function(){return sE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Zv(Xv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new dE(n,a,{includeMetadataChanges:!0,Nu:!0});return oE(e,o)},i.next=3,uA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var fA=function(){function e(){var t=this;Ue(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new aI(this,"async_queue_retry"),this.Wc=function(){var e=rI();e&&Qv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=rI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Be(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=rI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new $v;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=ie(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Uy(e.t0)){e.next=12;break}throw e.t0;case 12:Qv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Gv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=$I.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&Wv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=ie(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=an(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=an(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function hA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=an(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var dA=function(){function e(){Ue(this,e),this._progressObserver={},this._taskCompletionResolver=new $v,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Be(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),pA=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a){var o;return Ue(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new fA,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Be(n,[{key:"_terminate",value:function(){return this._firestoreClient||yA(this),this._firestoreClient.terminate()}}]),n}(RS);function vA(e){return e._firestoreClient||yA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new lm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new KS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function mA(e,t,n){var r=new $v;return e.asyncQueue.enqueue(ie(ne().mark((function i(){var a;return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,WS(e,n);case 3:return i.next=5,JS(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Xv.FAILED_PRECONDITION||e.code===Xv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Hv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function gA(e){return function(e){return e.asyncQueue.enqueue(ie(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nA(e);case 2:return n=t.sent,t.next=5,iA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Jv(e);return t._u.delete(0),hI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(vA(e=CS(e,pA)))}function kA(e){return function(e){return e.asyncQueue.enqueue(ie(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nA(e);case 2:return n=t.sent,t.next=5,iA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jv(t))._u.add(0),e.next=4,pI(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(vA(e=CS(e,pA)))}function bA(e,t){var n=vA(e=CS(e,pA)),r=new dA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new QS(e,t)}(function(e,t){if(e instanceof Uint8Array)return zS(e,t);if(e instanceof ArrayBuffer)return zS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,iI(t));e.asyncQueue.enqueueAndForget(ie(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kS,t.next=3,aA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function wA(e,t){return function(e,t){return e.asyncQueue.enqueue(ie(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Jv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,rA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(vA(e=CS(e,pA)),t).then((function(t){return t?new MS(e,null,t.query):null}))}function xA(e){if(e._initialized||e._terminated)throw new Zv(Xv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var IA=function(){function e(t){Ue(this,e),this._byteString=t}return Be(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(nm.fromBase64String(t))}catch(t){throw new Zv(Xv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(nm.fromUint8Array(t))}}]),e}(),EA=function(){function e(){Ue(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gy(n)}return Be(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var SA=Be((function e(t){Ue(this,e),this._methodName=t})),AA=function(){function e(t,n){if(Ue(this,e),!isFinite(t)||t<-90||t>90)throw new Zv(Xv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Zv(Xv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Be(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ly(this._lat,e._lat)||ly(this._long,e._long)}}]),e}(),_A=/^__.*__$/,TA=function(){function e(t,n,r){Ue(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Be(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Jg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yg(e,this.data,t,this.fieldTransforms)}}]),e}(),CA=function(){function e(t,n,r){Ue(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Be(e,[{key:"toMutation",value:function(e,t){return new Jg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function NA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wv()}}var OA=function(){function e(t,n,r,i,a,o){Ue(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Be(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return XA(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(NA(this.sa)&&_A.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),DA=function(){function e(t,n,r){Ue(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||iI(t)}return Be(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new OA({sa:e,methodName:t,fa:n,path:gy.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function RA(e){var t=e._freezeSettings(),n=iI(e._databaseId);return new DA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function PA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);KA("Data must be an object, but it was:",o,r);var u,s,c=GA(r,o);if(a.merge)u=new tm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=an(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=WA(t,d,n);if(!o.contains(p))throw new Zv(Xv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));ZA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new tm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new TA(new Mm(c),u,s)}var LA=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(SA);function MA(e,t,n){return new OA({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var FA=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n,[{key:"_toFieldTransform",value:function(e){return new jg(e.path,new Og)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(SA),UA=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e))._a=r,i}return Be(n,[{key:"_toFieldTransform",value:function(e){var t=MA(this,e,!0),n=this._a.map((function(e){return QA(e,t)})),r=new Dg(n);return new jg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(SA),jA=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e))._a=r,i}return Be(n,[{key:"_toFieldTransform",value:function(e){var t=MA(this,e,!0),n=this._a.map((function(e){return QA(e,t)})),r=new Pg(n);return new jg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(SA),BA=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e)).wa=r,i}return Be(n,[{key:"_toFieldTransform",value:function(e){var t=new Mg(e.It,Ag(e.It,this.wa));return new jg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(SA);function VA(e,t,n,r){var i=e.da(1,t,n);KA("Data must be an object, but it was:",i,r);var a=[],o=Mm.empty();Ky(r,(function(e,r){var u=JA(t,e,n);r=Qn(r);var s=i.ca(u);if(r instanceof LA)a.push(u);else{var c=QA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new tm(a);return new CA(o,u,i.fieldTransforms)}function zA(e,t,n,r,i,a){var o=e.da(1,t,n),u=[WA(t,r,n)],s=[i];if(a.length%2!=0)throw new Zv(Xv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(WA(t,a[c])),s.push(a[c+1]);for(var l=[],f=Mm.empty(),h=u.length-1;h>=0;--h)if(!ZA(l,u[h])){var d=u[h],p=s[h];p=Qn(p);var v=o.ca(d);if(p instanceof LA)l.push(d);else{var y=QA(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new tm(l);return new CA(f,m,o.fieldTransforms)}function qA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return QA(n,e.da(r?4:3,t))}function QA(e,t){if(HA(e=Qn(e)))return KA("Unsupported field value:",t,e),GA(e,t);if(e instanceof SA)return function(e,t){if(!NA(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=an(e);try{for(a.s();!(n=a.n()).done;){var o=QA(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Qn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ag(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=dy.fromDate(e);return{timestampValue:Rk(t.It,n)}}if(e instanceof dy){var r=new dy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rk(t.It,r)}}if(e instanceof AA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof IA)return{bytesValue:Pk(t.It,e._byteString)};if(e instanceof LS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Fk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(TS(e)))}(e,t)}function GA(e,t){var n={};return Wy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ky(e,(function(e,r){var i=QA(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function HA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof dy||e instanceof AA||e instanceof IA||e instanceof LS||e instanceof SA)}function KA(e,t,n){if(!HA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=TS(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function WA(e,t,n){if((t=Qn(t))instanceof EA)return t._internalPath;if("string"==typeof t)return JA(e,t);throw XA("Field path arguments must be of type string or ",e,!1,void 0,n)}var YA=new RegExp("[~\\*/\\[\\]]");function JA(e,t,n){if(t.search(YA)>=0)throw XA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return dn(EA,Hn(t.split(".")))._internalPath}catch(KT){throw XA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function XA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Zv(Xv.INVALID_ARGUMENT,u+e+s)}function ZA(e,t){return e.some((function(e){return e.isEqual(t)}))}var $A=function(){function e(t,n,r,i,a){Ue(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Be(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new LS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new e_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(t_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),e_=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n,[{key:"data",value:function(){return bi(cn(n.prototype),"data",this).call(this)}}]),n}($A);function t_(e,t){return"string"==typeof t?JA(e,t):t instanceof EA?t._internalPath:t._delegate._internalPath}function n_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zv(Xv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var r_=Be((function e(){Ue(this,e)}));function i_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var a_=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return Be(n,[{key:"_apply",value:function(e){var t=RA(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){y_(o,a);var s,c=[],l=an(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(v_(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=v_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||y_(o,a),u=qA(n,"where",o,"in"===a||"not-in"===a);var h=Km.create(i,a,u);return function(e,t){if(t.dt()){var n=hg(e);if(null!==n&&!n.isEqual(t.field))throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=fg(e);null!==r&&m_(e,t.field,r)}var i=function(e,t){var n,r=an(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Zv(Xv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Zv(Xv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new MS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(r_);var o_=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return Be(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rg(t,n);return function(e,t){if(null===fg(e)){var n=hg(e);null!==n&&m_(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new MS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ug(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(r_);var u_=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return Be(n,[{key:"_apply",value:function(e){return new MS(e.firestore,e.converter,yg(e._query,this.Ia,this.Ta))}}]),n}(r_);var s_=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return Be(n,[{key:"_apply",value:function(e){var t=p_(e,this.type,this.Ea,this.Aa);return new MS(e.firestore,e.converter,function(e,t){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(r_);function c_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new s_("startAt",t,!0)}function l_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new s_("startAfter",t,!1)}var f_=function(e){sn(n,e);var t=hn(n);function n(e,r,i){var a;return Ue(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return Be(n,[{key:"_apply",value:function(e){var t=p_(e,this.type,this.Ea,this.Aa);return new MS(e.firestore,e.converter,function(e,t){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(r_);function h_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new f_("endBefore",t,!1)}function d_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new f_("endAt",t,!0)}function p_(e,t,n,r){if(n[0]=Qn(n[0]),n[0]instanceof $A)return function(e,t,n,r,i){if(!r)throw new Zv(Xv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=an(pg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Em(t,r.key));else{var c=r.data.field(s.field);if(um(c))throw new Zv(Xv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ng(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=RA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Zv(Xv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dg(e)&&-1!==c.indexOf("/"))throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(yy.fromString(c));if(!ky.isDocumentKey(l))throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ky(l);u.push(Em(t,f))}else{var h=qA(n,r,c);u.push(h)}}return new ng(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function v_(e,t,n){if("string"==typeof(n=Qn(n))){if(""===n)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dg(t)&&-1!==n.indexOf("/"))throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(yy.fromString(n));if(!ky.isDocumentKey(r))throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Em(e,new ky(r))}if(n instanceof LS)return Em(e,n._key);throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TS(n),"."))}function y_(e,t){if(!Array.isArray(e)||0===e.length)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function m_(e,t,n){if(!n.isEqual(t))throw new Zv(Xv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var g_=function(){function e(){Ue(this,e)}return Be(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(mm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return am(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(om(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ky(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new AA(am(e.latitude),am(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=sm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=im(e);return new dy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=yy.fromString(e);Yv(ub(n));var r=new fm(n.get(1),n.get(3)),i=new ky(n.popFirst(5));return r.isEqual(t)||Gv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function k_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var b_=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this)).firestore=e,r}return Be(n,[{key:"convertBytes",value:function(e){return new IA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LS(this.firestore,null,t)}}]),n}(g_),w_=function(){function e(t,n){Ue(this,e),this.hasPendingWrites=t,this.fromCache=n}return Be(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),x_=function(e){sn(n,e);var t=hn(n);function n(e,r,i,a,o,u){var s;return Ue(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Be(n,[{key:"exists",value:function(){return bi(cn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new I_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(t_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}($A),I_=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return bi(cn(n.prototype),"data",this).call(this,e)}}]),n}(x_),E_=function(){function e(t,n,r,i){Ue(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new w_(i.hasPendingWrites,i.fromCache),this.query=r}return Be(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new I_(n._firestore,n._userDataWriter,r.key,r,new w_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Zv(Xv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new I_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new w_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new I_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new w_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:S_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function S_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wv()}}function A_(e,t){return e instanceof x_&&t instanceof x_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof E_&&t instanceof E_&&e._firestore===t._firestore&&VS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var __=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this)).firestore=e,r}return Be(n,[{key:"convertBytes",value:function(e){return new IA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LS(this.firestore,null,t)}}]),n}(g_);function T_(e){e=CS(e,LS);var t=CS(e.firestore,pA),n=vA(t),r=new __(t);return function(e,t){var n=new $v;return e.asyncQueue.enqueueAndForget(ie(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ie(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Jv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Zv(Xv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=eE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new x_(t,r,e._key,n,new w_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function C_(e){e=CS(e,MS);var t=CS(e.firestore,pA),n=vA(t),r=new __(t);return function(e,t){var n=new $v;return e.asyncQueue.enqueueAndForget(ie(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ie(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rx(t,n,!0);case 3:i=e.sent,a=new bE(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=eE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new E_(t,r,e,n)}))}function N_(e,t,n){e=CS(e,LS);var r=CS(e.firestore,pA),i=k_(e.converter,t,n);return P_(r,[PA(RA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Vg.none())])}function O_(e,t,n){e=CS(e,LS);for(var r=CS(e.firestore,pA),i=RA(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return P_(r,[("string"==typeof(t=Qn(t))||t instanceof EA?zA(i,"updateDoc",e._key,t,n,o):VA(i,"updateDoc",e._key,t)).toMutation(e._key,Vg.exists(!0))])}function D_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Qn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||hA(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(hA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof LS)l=CS(e.firestore,pA),f=cg(e._key.path),c={next:function(t){n[s]&&n[s](L_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=CS(e,MS);l=CS(p.firestore,pA),f=p._query;var v=new __(l);c={next:function(e){n[s]&&n[s](new E_(l,v,p,e))},error:n[s+1],complete:n[s+2]},n_(e._query)}return function(e,t,n,r){var i=new qS(r),a=new dE(t,i,n);return e.asyncQueue.enqueueAndForget(ie(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=oE,t.next=3,uA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(ie(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sE,t.next=3,uA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(vA(l),f,h,c)}function R_(e,t){return function(e,t){var n=new qS(t);return e.asyncQueue.enqueueAndForget(ie(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jv(e).Ru.add(t),t.next()},t.next=3,uA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(ie(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jv(e).Ru.delete(t)},t.next=3,uA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(vA(e=CS(e,pA)),hA(t)?t:{next:t})}function P_(e,t){return function(e,t){var n=new $v;return e.asyncQueue.enqueueAndForget(ie(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=NE,r.next=3,aA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(vA(e),t)}function L_(e,t,n){var r=n.docs.get(t._key),i=new __(e);return new x_(e,i,t._key,r,new w_(n.hasPendingWrites,n.fromCache),t.converter)}var M_={maxAttempts:5},F_=function(){function e(t,n){Ue(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=RA(t)}return Be(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=U_(e,this._firestore),i=k_(r.converter,t,n),a=PA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Vg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=U_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Qn(t))||t instanceof EA?zA(this._dataReader,"WriteBatch.update",i._key,t,n,o):VA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Vg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=U_(e,this._firestore);return this._mutations=this._mutations.concat(new nk(t._key,Vg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Zv(Xv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function U_(e,t){if((e=Qn(e)).firestore!==t)throw new Zv(Xv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var j_=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e,r))._firestore=e,i}return Be(n,[{key:"get",value:function(e){var t=this,r=U_(e,this._firestore),i=new __(this._firestore);return bi(cn(n.prototype),"get",this).call(this,e).then((function(e){return new x_(t._firestore,i,r._key,e._document,new w_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ue(this,e),this._firestore=t,this._transaction=n,this._dataReader=RA(t)}return Be(e,[{key:"get",value:function(e){var t=this,n=U_(e,this._firestore),r=new b_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Wv();var i=e[0];if(i.isFoundDocument())return new $A(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new $A(t._firestore,r,n._key,null,n.converter);throw Wv()}))}},{key:"set",value:function(e,t,n){var r=U_(e,this._firestore),i=k_(r.converter,t,n),a=PA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=U_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Qn(t))||t instanceof EA?zA(this._dataReader,"Transaction.update",i._key,t,n,o):VA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=U_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function B_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new UA("arrayUnion",t)}function V_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Vv=e}(zr),Lr(new Kn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new pA(new ry(e.getProvider("auth-internal")),new uy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zv(Xv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fm(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Wr(jv,"3.7.2",e),Wr(jv,"3.7.2","esm2017")}();function z_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Zv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function q_(){if("undefined"===typeof Uint8Array)throw new Zv("unimplemented","Uint8Arrays are not available in this environment.")}function Q_(){if("undefined"==typeof atob)throw new Zv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var G_=function(){function e(t){Ue(this,e),this._delegate=t}return Be(e,[{key:"toBase64",value:function(){return Q_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return q_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Q_(),new e(IA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return q_(),new e(IA.fromUint8Array(t))}}]),e}();function H_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=an(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var K_=function(){function e(){Ue(this,e)}return Be(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){xA(e=CS(e,pA));var n=vA(e),r=e._freezeSettings(),i=new IS;return mA(n,i,new wS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){xA(e=CS(e,pA));var t=vA(e),n=e._freezeSettings(),r=new IS;return mA(t,r,new xS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Zv(Xv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new $v;return e._queue.enqueueAndForgetEvenWhileRestricted(ie(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ie(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ly.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ly.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(gx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),W_=function(){function e(t,n,r){var i=this;Ue(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof fm||(this._appCompat=t)}return Be(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Hv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return gA(this._delegate)}},{key:"disableNetwork",value:function(){return kA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&SS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new $v;return e.asyncQueue.enqueueAndForget(ie(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=VE,n.next=3,aA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(vA(e=CS(e,pA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return R_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Zv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new sT(this,US(this._delegate,e))}catch(t){throw eT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new $_(this,jS(this._delegate,e))}catch(t){throw eT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aT(this,function(e,t){if(e=CS(e,RS),ES("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Zv(Xv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new MS(e,null,function(e){return new ug(yy.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw eT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=CS(e,pA);var r=Object.assign(Object.assign({},M_),n);return function(e){if(e.maxAttempts<1)throw new Zv(Xv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new $v;return e.asyncQueue.enqueueAndForget(ie(ne().mark((function i(){var a;return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,oA(e);case 2:a=i.sent,new HS(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(vA(e),(function(n){return t(new j_(e,n))}),r)}(this._delegate,(function(n){return e(new J_(t,n))}))}},{key:"batch",value:function(){var e=this;return vA(this._delegate),new X_(new F_(this._delegate,(function(t){return P_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return bA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return wA(this._delegate,e).then((function(e){return e?new aT(t,e):null}))}}]),e}(),Y_=function(e){sn(n,e);var t=hn(n);function n(e){var r;return Ue(this,n),(r=t.call(this)).firestore=e,r}return Be(n,[{key:"convertBytes",value:function(e){return new G_(new IA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return $_.forKey(t,this.firestore,null)}}]),n}(g_);var J_=function(){function e(t,n){Ue(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Y_(t)}return Be(e,[{key:"get",value:function(e){var t=this,n=cT(e);return this._delegate.get(n).then((function(e){return new rT(t._firestore,new x_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cT(e);return n?(z_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cT(e);return this._delegate.delete(t),this}}]),e}(),X_=function(){function e(t){Ue(this,e),this._delegate=t}return Be(e,[{key:"set",value:function(e,t,n){var r=cT(e);return n?(z_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Z_=function(){function e(t,n,r){Ue(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Be(e,[{key:"fromFirestore",value:function(e,t){var n=new I_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Y_(t),n),i.set(n,a)),a}}]),e}();Z_.INSTANCES=new WeakMap;var $_=function(){function e(t,n){Ue(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Y_(t)}return Be(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new sT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new sT(this.firestore,US(this._delegate,e))}catch(t){throw eT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Qn(e))instanceof LS&&BS(this._delegate,e)}},{key:"set",value:function(e,t){t=z_("DocumentReference.set",t);try{return t?N_(this._delegate,e,t):N_(this._delegate,e)}catch(n){throw eT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?O_(this._delegate,e):O_.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw eT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return P_(CS(e.firestore,pA),[new nk(e._key,Vg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tT(n),a=nT(n,(function(t){return new rT(e.firestore,new x_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return D_(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?T_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CS(e,LS);var t=CS(e.firestore,pA);return cA(vA(t),e._key,{source:"server"}).then((function(n){return L_(t,e,n)}))}(this._delegate):function(e){e=CS(e,LS);var t=CS(e.firestore,pA);return cA(vA(t),e._key).then((function(n){return L_(t,e,n)}))}(this._delegate),t.then((function(e){return new rT(n.firestore,new x_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Z_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Zv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new LS(n._delegate,r,new ky(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new LS(n._delegate,r,t))}}]),e}();function eT(e,t,n){return e.message=e.message.replace(t,n),e}function tT(e){var t,n=an(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!H_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=H_(e[0])?e[0]:H_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rT=function(){function e(t,n){Ue(this,e),this._firestore=t,this._delegate=n}return Be(e,[{key:"ref",get:function(){return new $_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return A_(this._delegate,e._delegate)}}]),e}(),iT=function(e){sn(n,e);var t=hn(n);function n(){return Ue(this,n),t.apply(this,arguments)}return Be(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Wv()}(void 0!==t),t}}]),n}(rT),aT=function(){function e(t,n){Ue(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Y_(t)}return Be(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,i_(this._delegate,function(e,t,n){var r=t,i=t_("where",e);return new a_(i,r,n)}(t,n,r)))}catch(i){throw eT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,i_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t_("orderBy",e);return new o_(n,t)}(t,n)))}catch(r){throw eT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,i_(this._delegate,function(e){return NS("limit",e),new u_("limit",e,"F")}(t)))}catch(n){throw eT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,i_(this._delegate,function(e){return NS("limitToLast",e),new u_("limitToLast",e,"L")}(t)))}catch(n){throw eT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,i_(this._delegate,c_.apply(void 0,arguments)))}catch(t){throw eT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,i_(this._delegate,l_.apply(void 0,arguments)))}catch(t){throw eT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,i_(this._delegate,h_.apply(void 0,arguments)))}catch(t){throw eT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,i_(this._delegate,d_.apply(void 0,arguments)))}catch(t){throw eT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?C_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CS(e,MS);var t=CS(e.firestore,pA),n=vA(t),r=new __(t);return lA(n,e._query,{source:"server"}).then((function(n){return new E_(t,r,e,n)}))}(this._delegate):function(e){e=CS(e,MS);var t=CS(e.firestore,pA),n=vA(t),r=new __(t);return n_(e._query),lA(n,e._query).then((function(n){return new E_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new uT(n.firestore,new E_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tT(n),a=nT(n,(function(t){return new uT(e.firestore,new E_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return D_(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Z_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oT=function(){function e(t,n){Ue(this,e),this._firestore=t,this._delegate=n}return Be(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),uT=function(){function e(t,n){Ue(this,e),this._firestore=t,this._delegate=n}return Be(e,[{key:"query",get:function(){return new aT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new iT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new iT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return A_(this._delegate,e._delegate)}}]),e}(),sT=function(e){sn(n,e);var t=hn(n);function n(e,r){var i;return Ue(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Be(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new $_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new $_(this.firestore,void 0===e?jS(this._delegate):jS(this._delegate,e))}catch(t){throw eT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=CS(e.firestore,pA),r=jS(e),i=k_(e.converter,t);return P_(n,[PA(RA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new $_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return BS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Z_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aT);function cT(e){return CS(e,LS)}var lT=function(){function e(){Ue(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=dn(EA,n)}return Be(e,[{key:"isEqual",value:function(e){return(e=Qn(e))instanceof EA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gy.keyField().canonicalString())}}]),e}(),fT=function(){function e(t){Ue(this,e),this._delegate=t}return Be(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new FA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new LA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=B_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=V_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new BA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hT={Firestore:W_,GeoPoint:AA,Timestamp:dy,Blob:G_,Transaction:J_,WriteBatch:X_,DocumentReference:$_,DocumentSnapshot:rT,Query:aT,QueryDocumentSnapshot:iT,QuerySnapshot:uT,CollectionReference:sT,FieldPath:lT,FieldValue:fT,setLogLevel:function(e){!function(e){zv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Kn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hT)))}(e,(function(e,t){return new W_(e,t,new K_)})),e.registerVersion("@firebase/firestore-compat","0.2.2")}(gi);var dT=gi.initializeApp({apiKey:"AIzaSyCz9x-9dBesUNDAjxGA102CkzdS63WgscY",authDomain:"netfilm-11d90.firebaseapp.com",projectId:"netfilm-11d90",storageBucket:"netfilm-11d90.appspot.com",messagingSenderId:"999792013381",appId:"1:999792013381:web:d32c0282fc2480655d332c",measurementId:"G-1T6G82R5JZ"}).firestore(),pT=gi.auth(),vT=function(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,Jt.jsx)("div",{className:"signin",children:(0,Jt.jsxs)("form",{children:[(0,Jt.jsx)("h1",{children:"Sign in"}),(0,Jt.jsx)("input",{ref:e,placeholder:"Email",type:"email"}),(0,Jt.jsx)("input",{ref:n,placeholder:"Password",type:"password"}),(0,Jt.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),pT.signInWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){return e.massage}))},children:"Sign in"}),(0,Jt.jsxs)("h6",{children:[(0,Jt.jsx)("span",{children:"New to Netflix?"}),(0,Jt.jsx)("span",{onClick:function(t){t.preventDefault(),pT.createUserWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.massage)}))},children:" Sign up now."})]})]})})},yT=function(){var e=ce((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,Jt.jsxs)("div",{className:"loginscreen",children:[(0,Jt.jsx)("div",{className:"login_background",children:(0,Jt.jsx)("img",{className:"login_logo",src:Zt,alt:"logo"})}),(0,Jt.jsx)("button",{onClick:function(){return r(!0)},className:"login_button",children:"Sign in"}),(0,Jt.jsx)("div",{className:"login_gradient"}),(0,Jt.jsx)("div",{className:"login_body",children:n?(0,Jt.jsx)(vT,{}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("h1",{children:"Unlimited movies, TV shows and more."}),(0,Jt.jsx)("h2",{children:"Watch anywhere. Cancel anytime."}),(0,Jt.jsx)("h5",{children:"Ready to watch? Enter your email to create or restart your membership."}),(0,Jt.jsx)("div",{className:"login_input",children:(0,Jt.jsxs)("form",{children:[(0,Jt.jsx)("input",{type:"email",placeholder:"Email Address"}),(0,Jt.jsx)("button",{onClick:function(){return r(!0)},className:"login_input_button",children:"get started"})]})})]})})]})},mT=n(248),gT=n(327),kT=n(164);var bT=function(e){e()},wT=function(){return bT},xT=(0,t.createContext)(null);function IT(){return(0,t.useContext)(xT)}var ET=function(){throw new Error("uSES not initialized!")},ST=ET,AT=function(e,t){return e===t};function _T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT,n=e===xT?IT:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AT;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=ST(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var TT=_T();n(110),n(900);var CT={notify:function(){},get:function(){return[]}};function NT(e,t){var n,r=CT;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=wT(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=CT)},getListeners:function(){return r}};return o}var OT=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var DT=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=NT(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);OT((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||xT;return t.createElement(s.Provider,{value:o},i)};function RT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT,n=e===xT?IT:function(){return(0,t.useContext)(e)};return function(){return n().store}}var PT=RT();function LT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT,t=e===xT?PT:RT(e);return function(){return t().dispatch}}var MT,FT=LT();function UT(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function jT(e){return!!e&&!!e[TC]}function BT(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===CC}(e)||Array.isArray(e)||!!e[_C]||!!(null===(t=e.constructor)||void 0===t?void 0:t[_C])||KT(e)||WT(e))}function VT(e,t,n){void 0===n&&(n=!1),0===zT(e)?(n?Object.keys:NC)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function zT(e){var t=e[TC];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:KT(e)?2:WT(e)?3:0}function qT(e,t){return 2===zT(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QT(e,t){return 2===zT(e)?e.get(t):e[t]}function GT(e,t,n){var r=zT(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function HT(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function KT(e){return IC&&e instanceof Map}function WT(e){return EC&&e instanceof Set}function YT(e){return e.o||e.t}function JT(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=OC(e);delete t[TC];for(var n=NC(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function XT(e,t){return void 0===t&&(t=!1),$T(e)||jT(e)||!BT(e)||(zT(e)>1&&(e.set=e.add=e.clear=e.delete=ZT),Object.freeze(e),t&&VT(e,(function(e,t){return XT(t,!0)}),!0)),e}function ZT(){UT(2)}function $T(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function eC(e){var t=DC[e];return t||UT(18,e),t}function tC(e,t){DC[e]||(DC[e]=t)}function nC(){return wC}function rC(e,t){t&&(eC("Patches"),e.u=[],e.s=[],e.v=t)}function iC(e){aC(e),e.p.forEach(uC),e.p=null}function aC(e){e===wC&&(wC=e.l)}function oC(e){return wC={p:[],l:wC,h:e,m:!0,_:0}}function uC(e){var t=e[TC];0===t.i||1===t.i?t.j():t.O=!0}function sC(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||eC("ES5").S(t,e,r),r?(n[TC].P&&(iC(t),UT(4)),BT(e)&&(e=cC(t,e),t.l||fC(t,e)),t.u&&eC("Patches").M(n[TC].t,e,t.u,t.s)):e=cC(t,n,[]),iC(t),t.u&&t.v(t.u,t.s),e!==AC?e:void 0}function cC(e,t,n){if($T(t))return t;var r=t[TC];if(!r)return VT(t,(function(i,a){return lC(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return fC(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=JT(r.k):r.o;VT(3===r.i?new Set(i):i,(function(t,a){return lC(e,r,i,t,a,n)})),fC(e,i,!1),n&&e.u&&eC("Patches").R(r,n,e.u,e.s)}return r.o}function lC(e,t,n,r,i,a){if(jT(i)){var o=cC(e,i,a&&t&&3!==t.i&&!qT(t.D,r)?a.concat(r):void 0);if(GT(n,r,o),!jT(o))return;e.m=!1}if(BT(i)&&!$T(i)){if(!e.h.F&&e._<1)return;cC(e,i),t&&t.A.l||fC(e,i)}}function fC(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&XT(t,n)}function hC(e,t){var n=e[TC];return(n?YT(n):e)[t]}function dC(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function pC(e){e.P||(e.P=!0,e.l&&pC(e.l))}function vC(e){e.o||(e.o=JT(e.t))}function yC(e,t,n){var r=KT(t)?eC("MapSet").N(t,n):WT(t)?eC("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:nC(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=RC;n&&(i=[r],a=PC);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):eC("ES5").J(t,n);return(n?n.A:nC()).p.push(r),r}function mC(e){return jT(e)||UT(22,e),function e(t){if(!BT(t))return t;var n,r=t[TC],i=zT(t);if(r){if(!r.P&&(r.i<4||!eC("ES5").K(r)))return r.t;r.I=!0,n=gC(t,i),r.I=!1}else n=gC(t,i);return VT(n,(function(t,i){r&&QT(r.t,t)===i||GT(n,t,e(i))})),3===i?new Set(n):n}(e)}function gC(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return JT(e)}function kC(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[TC];return RC.get(t,e)},set:function(t){var n=this[TC];RC.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][TC];if(!i.P)switch(i.i){case 5:r(i)&&pC(i);break;case 4:n(i)&&pC(i)}}}function n(e){for(var t=e.t,n=e.k,r=NC(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==TC){var o=t[a];if(void 0===o&&!qT(t,a))return!0;var u=n[a],s=u&&u[TC];if(s?s.t!==o:!HT(u,o))return!0}}var c=!!t[TC];return r.length!==NC(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};tC("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=OC(n);delete a[TC];for(var o=NC(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:nC(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,TC,{value:a,writable:!0}),i},S:function(e,n,i){i?jT(n)&&n[TC].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[TC];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)VT(a,(function(t){t!==TC&&(void 0!==i[t]||qT(i,t)?o[t]||e(a[t]):(o[t]=!0,pC(n)))})),VT(i,(function(e){void 0!==a[e]||qT(a,e)||(o[e]=!1,pC(n))}));else if(5===u){if(r(n)&&(pC(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){ST=e}(gT.useSyncExternalStoreWithSelector),function(e){e}(mT.useSyncExternalStore),MT=kT.unstable_batchedUpdates,bT=MT;var bC,wC,xC="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),IC="undefined"!=typeof Map,EC="undefined"!=typeof Set,SC="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,AC=xC?Symbol.for("immer-nothing"):((bC={})["immer-nothing"]=!0,bC),_C=xC?Symbol.for("immer-draftable"):"__$immer_draftable",TC=xC?Symbol.for("immer-state"):"__$immer_state",CC=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),NC="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,OC=Object.getOwnPropertyDescriptors||function(e){var t={};return NC(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},DC={},RC={get:function(e,t){if(t===TC)return e;var n=YT(e);if(!qT(n,t))return function(e,t,n){var r,i=dC(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!BT(r)?r:r===hC(e.t,t)?(vC(e),e.o[t]=yC(e.A.h,r,e)):r},has:function(e,t){return t in YT(e)},ownKeys:function(e){return Reflect.ownKeys(YT(e))},set:function(e,t,n){var r=dC(YT(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=hC(YT(e),t),a=null==i?void 0:i[TC];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(HT(n,i)&&(void 0!==n||qT(e.t,t)))return!0;vC(e),pC(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==hC(e.t,t)||t in e.t?(e.D[t]=!1,vC(e),pC(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=YT(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){UT(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){UT(12)}},PC={};VT(RC,(function(e,t){PC[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),PC.deleteProperty=function(e,t){return PC.set.call(this,e,t,void 0)},PC.set=function(e,t,n){return RC.set.call(this,e[0],t,n,e[0])};var LC=function(){function e(e){var t=this;this.g=SC,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&UT(6),void 0!==r&&"function"!=typeof r&&UT(7),BT(e)){var u=oC(t),s=yC(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?iC(u):aC(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return rC(u,r),sC(e,u)}),(function(e){throw iC(u),e})):(rC(u,r),sC(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===AC&&(o=void 0),t.F&&XT(o,!0),r){var l=[],f=[];eC("Patches").M(e,o,l,f),r(l,f)}return o}UT(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){BT(e)||UT(8),jT(e)&&(e=mC(e));var t=oC(this),n=yC(this,e,void 0);return n[TC].C=!0,aC(t),n},t.finishDraft=function(e,t){var n=(e&&e[TC]).A;return rC(n,t),sC(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!SC&&UT(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=eC("Patches").$;return jT(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),MC=new LC,FC=MC.produce,UC=(MC.produceWithPatches.bind(MC),MC.setAutoFreeze.bind(MC),MC.setUseProxies.bind(MC),MC.applyPatches.bind(MC),MC.createDraft.bind(MC),MC.finishDraft.bind(MC),FC);function jC(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var BC="function"===typeof Symbol&&Symbol.observable||"@@observable",VC=function(){return Math.random().toString(36).substring(7).split("").join(".")},zC={INIT:"@@redux/INIT"+VC(),REPLACE:"@@redux/REPLACE"+VC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+VC()}};function qC(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function QC(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(jC(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(jC(1));return n(QC)(e,t)}if("function"!==typeof e)throw new Error(jC(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(jC(3));return a}function f(e){if("function"!==typeof e)throw new Error(jC(4));if(s)throw new Error(jC(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(jC(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!qC(e))throw new Error(jC(7));if("undefined"===typeof e.type)throw new Error(jC(8));if(s)throw new Error(jC(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(jC(10));i=e,h({type:zC.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(jC(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[BC]=function(){return this},e}return h({type:zC.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[BC]=p,r}function GC(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:zC.INIT}))throw new Error(jC(12));if("undefined"===typeof n(void 0,{type:zC.PROBE_UNKNOWN_ACTION()}))throw new Error(jC(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(jC(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function HC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function KC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(jC(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=HC.apply(void 0,a)(n.dispatch),or(or({},n),{},{dispatch:r})}}}function WC(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var YC=WC();YC.withExtraArgument=WC;var JC=YC,XC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZC=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},$C=Object.defineProperty,eN=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),tN=Object.prototype.hasOwnProperty,nN=Object.prototype.propertyIsEnumerable,rN=function(e,t,n){return t in e?$C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},iN=function(e,t){for(var n in t||(t={}))tN.call(t,n)&&rN(e,n,t[n]);if(eN)for(var r=0,i=eN(t);r<i.length;r++){n=i[r];nN.call(t,n)&&rN(e,n,t[n])}return e},aN="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?HC:HC.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function oN(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var uN=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return XC(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ZC([void 0],e[0].concat(this)))):new(t.bind.apply(t,ZC([void 0],e.concat(this))))},t}(Array);function sN(e){return BT(e)?UC(e,(function(){})):e}function cN(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new uN);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(JC.withExtraArgument(n.extraArgument)):r.push(JC));0;return r}(e)}}function lN(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return iN(iN({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function fN(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}Object.assign;var hN="listenerMiddleware";lN(hN+"/add"),lN(hN+"/removeAll"),lN(hN+"/remove");kC();var dN=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:sN(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?fN(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=iN(iN({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?fN(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return sN(e())};else{var c=sN(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=ZC([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(jT(e))return void 0===(r=n(e,t))?e:r;if(BT(e))return UC(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?lN(c,r):lN(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),pN=dN.actions,vN=pN.login,yN=pN.logout,mN=function(e){return e.user.user},gN=dN.reducer,kN="https://js.stripe.com/v3",bN=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,wN="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",xN=null,IN=function(e){return null!==xN||(xN=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(wN),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(kN,'"]')),t=0;t<e.length;t++){var n=e[t];if(bN.test(n.src))return n}return null}();r&&e?console.warn(wN):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(kN).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),xN},EN=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.42.0",startTime:t})}(r,n),r},SN=Promise.resolve().then((function(){return IN(null)})),AN=!1;SN.catch((function(e){AN||console.warn(e)}));var _N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];AN=!0;var r=Date.now();return SN.then((function(e){return EN(e,t,r)}))},TN=function(){var e=ce((0,t.useState)([]),2),n=e[0],r=e[1],i=TT(mN),a=ce((0,t.useState)(null),2),o=a[0],u=a[1];(0,t.useEffect)((function(){dT.collection("customers").doc(i.uid).collection("subscriptions").get().then((function(e){e.forEach(function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({role:t.data().role,current_period_end:t.data().current_period_end.seconds,current_period_start:t.data().current_period_start.seconds});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[i.uid]),(0,t.useEffect)((function(){dT.collection("products").where("active","==",!0).get().then((function(e){var t={};e.forEach(function(){var e=ie(ne().mark((function e(n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t[n.id]=n.data(),e.next=3,n.ref.collection("prices").get();case 3:e.sent.docs.forEach((function(e){t[n.id].prices={priceId:e.id,priceData:e.data()}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(t)}))}),[]);var s=function(){var e=ie(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dT.collection("costomers").doc(i.uid).collection("checkout_sessions").add({price:t,success_url:window.location.origin,cancel_url:window.location.origin});case 2:e.sent.onSnapshot(function(){var e=ie(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data(),r=n.error,i=n.sessionId,r&&alert("An error occured: ".concat(r.message)),!i){e.next=7;break}return e.next=5,_N("");case 5:e.sent.redirectToCheckout({sessionId:i});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Jt.jsxs)("div",{className:"plans",children:[(0,Jt.jsx)("br",{}),o&&(0,Jt.jsxs)("p",{children:["Renewal date :",new Date(1e3*(null===o||void 0===o?void 0:o.current_period_end)).toLocaleDateString()]}),Object.entries(n).map((function(e){var t,n=ce(e,2),r=n[0],i=n[1],a=null===(t=i.name)||void 0===t?void 0:t.toLowerCase().includes(null===o||void 0===o?void 0:o.role);return(0,Jt.jsxs)("div",{className:"".concat(a&&"plans_disable"," plans"),children:[(0,Jt.jsxs)("div",{className:"plans_info",children:[(0,Jt.jsx)("h5",{children:i.name}),(0,Jt.jsx)("h6",{children:i.discription})]}),(0,Jt.jsx)("button",{onClick:function(){return!a&&s(i.prices.priceId)},children:a?"Current Package":"Subscribe"})]},r)}))]})},CN=function(){var e=TT(mN);return(0,Jt.jsxs)("div",{className:"profile",children:[(0,Jt.jsx)(en,{}),(0,Jt.jsxs)("div",{className:"profile_body",children:[(0,Jt.jsx)("h1",{children:"Edit Profile"}),(0,Jt.jsxs)("div",{className:"profile_info",children:[(0,Jt.jsx)("img",{src:$t,alt:"avtar"}),(0,Jt.jsxs)("div",{className:"profile_details",children:[(0,Jt.jsx)("h2",{children:e.email}),(0,Jt.jsxs)("div",{className:"profile_plan",children:[(0,Jt.jsx)("h3",{children:"Plans "}),(0,Jt.jsx)(TN,{}),(0,Jt.jsx)("button",{onClick:function(){return pT.signOut()},className:"profile_signout",children:"Sign Out"})]})]})]})]})]})};var NN=function(){var e=TT(mN),n=FT();return(0,t.useEffect)((function(){return pT.onAuthStateChanged((function(e){n(e?vN({uid:e.uid,email:e.email}):yN())}))}),[n]),(0,Jt.jsx)("div",{className:"App",children:(0,Jt.jsx)(x,{children:e?(0,Jt.jsxs)(Z,{children:[(0,Jt.jsx)(G,{path:"/profile",children:(0,Jt.jsx)(CN,{})}),(0,Jt.jsx)(G,{exact:!0,path:"/NetFilm",children:(0,Jt.jsx)(nn,{})})]}):(0,Jt.jsx)(yT,{})})})},ON=function(e){var t,n=cN(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!oN(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=GC(a)}var p=u;"function"===typeof p&&(p=p(n));var v=KC.apply(void 0,p),y=HC;c&&(y=aN(iN({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=ZC([v],d):"function"===typeof d&&(m=d(m)),QC(t,f,y.apply(void 0,m))}({reducer:{user:gN}});r.createRoot(document.getElementById("root")).render((0,Jt.jsx)(t.StrictMode,{children:(0,Jt.jsx)(DT,{store:ON,children:(0,Jt.jsx)(NN,{})})}))}()}();
//# sourceMappingURL=main.bcd3b3ff.js.map